(self.webpackChunkburger_queen=self.webpackChunkburger_queen||[]).push([[179],{8255:rt=>{function xe(L){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+L+"'");throw h.code="MODULE_NOT_FOUND",h})}xe.keys=()=>[],xe.resolve=xe,xe.id=8255,rt.exports=xe},3018:(rt,xe,L)=>{"use strict";L.d(xe,{deG:()=>yt,tb:()=>Np,AFp:()=>ay,ip1:()=>bu,CZH:()=>Ch,hGG:()=>fC,z2F:()=>Sh,sBO:()=>Pm,Sil:()=>kp,_Vd:()=>vc,EJc:()=>w0,SBq:()=>ci,qLn:()=>Pd,vpe:()=>Eu,gxx:()=>Qd,tBr:()=>So,XFs:()=>Pe,OlP:()=>ln,zs3:()=>An,ZZ4:()=>Mm,aQg:()=>Nm,soG:()=>Xl,YKP:()=>Hb,v3s:()=>so,h0i:()=>hh,PXZ:()=>Tc,R0b:()=>zi,FiY:()=>Js,Lbi:()=>E0,g9A:()=>Dh,Qsj:()=>cp,FYo:()=>up,JOm:()=>ga,Tiy:()=>Om,q3G:()=>_n,tp0:()=>Xs,EAV:()=>gy,Rgc:()=>fp,dDg:()=>fy,DyG:()=>ua,q4F:()=>Nv,GfV:()=>Lb,s_b:()=>pp,ifc:()=>an,eFA:()=>Dc,G48:()=>tC,X6Q:()=>x0,_c5:()=>CS,VLi:()=>eS,c2e:()=>uy,zSh:()=>Jd,wAp:()=>dt,vHH:()=>le,EiD:()=>ag,mCW:()=>bs,qzn:()=>P,JVY:()=>Fe,pB0:()=>jt,eBb:()=>ct,L6k:()=>tt,LAX:()=>Nt,cg1:()=>ep,Tjo:()=>wS,kL8:()=>ab,yhl:()=>re,dqk:()=>$,sIi:()=>su,CqO:()=>Jg,QGY:()=>Nl,F4k:()=>Qg,RDi:()=>_s,AaK:()=>K,z3N:()=>S,TTD:()=>Nu,xp6:()=>on,uIk:()=>$g,Suo:()=>u0,Xpm:()=>He,lG2:()=>Ki,Yz7:()=>qt,cJS:()=>Yr,oAB:()=>lr,Yjl:()=>oo,Y36:()=>gc,_UZ:()=>Ow,qZA:()=>Yg,TgZ:()=>Wf,EpF:()=>Kf,Ikx:()=>hv,LFG:()=>Pn,$8M:()=>Za,NdJ:()=>V_,CRH:()=>II,oxw:()=>Xg,ALo:()=>Ym,lcZ:()=>vI,Q6J:()=>oh,s9C:()=>kl,iGM:()=>ny,CHM:()=>Va,LSH:()=>Ja,kYT:()=>In,YNc:()=>mw,_uU:()=>nv,Oqu:()=>um,hij:()=>cm});var h=L(9765),B=L(5319),O=L(7574),ue=L(6682),se=L(2441);var he=L(1307);function Y(){return new h.xQ}function U(r){for(let i in r)if(r[i]===U)return i;throw Error("Could not find renamed property on target object.")}function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function oe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Ce=U({__forward_ref__:U});function fe(r){return r.__forward_ref__=fe,r.toString=function(){return K(this())},r}function G(r){return function(r){return"function"==typeof r&&r.hasOwnProperty(Ce)&&r.__forward_ref__===fe}(r)?r():r}class le extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Be(r){return"string"==typeof r?r:null==r?"":String(r)}function It(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Be(r)}function ve(r,i){const o=i?` in ${i}`:"";throw new le("201",`No provider for ${It(r)} found${o}`)}function pt(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function qt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Yr(r){return{providers:r.providers||[],imports:r.imports||[]}}function cr(r){return Vn(r,xt)||Vn(r,pi)}function Vn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Br(r){return r&&(r.hasOwnProperty(Bn)||r.hasOwnProperty(ot))?r[Bn]:null}const xt=U({\u0275prov:U}),Bn=U({\u0275inj:U}),pi=U({ngInjectableDef:U}),ot=U({ngInjectorDef:U});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let Ut;function un(r){const i=Ut;return Ut=r,i}function Vt(r,i,o){const u=cr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pe.Optional?null:void 0!==i?i:void ve(K(r),"Injector")}function We(r){return{toString:r}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),an=(()=>((an=an||{})[an.Emulated=0]="Emulated",an[an.None=2]="None",an[an.ShadowDom=3]="ShadowDom",an))();const Zt="undefined"!=typeof globalThis&&globalThis,ms="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$=Zt||"undefined"!=typeof global&&global||ms||Z,Ge={},$e=[],Ft=U({\u0275cmp:U}),cn=U({\u0275dir:U}),Tn=U({\u0275pipe:U}),Kn=U({\u0275mod:U}),ee=U({\u0275loc:U}),H=U({\u0275fac:U}),q=U({__NG_ELEMENT_ID__:U});let Re=0;function He(r){return We(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||$e,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||an.Emulated,id:"c",styles:r.styles||$e,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,p=r.pipes;return u.id+=Re++,u.inputs=Rt(r.inputs,o),u.outputs=Rt(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(St):null,u.pipeDefs=p?()=>("function"==typeof p?p():p).map(Lt):null,u})}function St(r){return dr(r)||function(r){return r[cn]||null}(r)}function Lt(r){return function(r){return r[Tn]||null}(r)}const bn={};function lr(r){return We(()=>{const i={type:r.type,bootstrap:r.bootstrap||$e,declarations:r.declarations||$e,imports:r.imports||$e,exports:r.exports||$e,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(bn[r.id]=r.type),i})}function In(r,i){return We(()=>{const o=vr(r,!0);o.declarations=i.declarations||$e,o.imports=i.imports||$e,o.exports=i.exports||$e})}function Rt(r,i){if(null==r)return Ge;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const Ki=He;function oo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function dr(r){return r[Ft]||null}function vr(r,i){const o=r[Kn]||null;if(!o&&!0===i)throw new Error(`Type ${K(r)} does not have '\u0275mod' property.`);return o}function fr(r){return Array.isArray(r)&&"object"==typeof r[1]}function vn(r){return Array.isArray(r)&&!0===r[1]}function Oc(r){return 0!=(8&r.flags)}function ei(r){return 2==(2&r.flags)}function xu(r){return 1==(1&r.flags)}function ti(r){return null!==r.template}function Ru(r){return 0!=(512&r[2])}function yi(r,i){return r.hasOwnProperty(H)?r[H]:null}class Li{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Nu(){return Ir}function Ir(r){return r.type.prototype.ngOnChanges&&(r.setInput=$h),jh}function jh(){const r=Us(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Ge)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function $h(r,i,o,u){const c=Us(r)||function(r,i){return r[Fc]=i}(r,{previous:Ge,current:null}),d=c.current||(c.current={}),p=c.previous,y=this.declaredInputs[o],E=p[y];d[y]=new Li(E&&E.currentValue,i,p===Ge),r[u]=i}Nu.ngInherit=!0;const Fc="__ngSimpleChanges__";function Us(r){return r[Fc]||null}let ys;function _s(r){ys=r}function En(r){return!!r.listen}const ho={createRenderer:(r,i)=>void 0!==ys?ys:"undefined"!=typeof document?document:void 0};function Dt(r){for(;Array.isArray(r);)r=r[0];return r}function ni(r,i){return Dt(i[r.index])}function Vs(r,i){return r.data[i]}function Jn(r,i){const o=i[r];return fr(o)?o:o[0]}function Wo(r){return 4==(4&r[2])}function fo(r){return 128==(128&r[2])}function Qi(r,i){return null==i?null:r[i]}function Pu(r){r[18]=0}function Ko(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ht={lFrame:Hc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ua(){return ht.bindingsEnabled}function Ne(){return ht.lFrame.lView}function Mt(){return ht.lFrame.tView}function Va(r){return ht.lFrame.contextLView=r,r[8]}function On(){let r=cd();for(;null!==r&&64===r.type;)r=r.parent;return r}function cd(){return ht.lFrame.currentTNode}function Ji(r,i){const o=ht.lFrame;o.currentTNode=r,o.isParent=i}function mo(){return ht.lFrame.isParent}function $s(){return ht.isInCheckNoChangesMode}function Hs(r){ht.isInCheckNoChangesMode=r}function qs(){return ht.lFrame.bindingIndex++}function Lu(r,i){const o=ht.lFrame;o.bindingIndex=o.bindingRootIndex=r,Uu(i)}function Uu(r){ht.lFrame.currentDirectiveIndex=r}function $c(){return ht.lFrame.currentQueryIndex}function hd(r){ht.lFrame.currentQueryIndex=r}function qh(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function fd(r,i,o){if(o&Pe.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Pe.Host||(c=qh(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ht.lFrame=pd();return u.currentTNode=i,u.lView=r,!0}function yo(r){const i=pd(),o=r[1];ht.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function pd(){const r=ht.lFrame,i=null===r?null:r.child;return null===i?Hc(r):i}function Hc(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function gd(){const r=ht.lFrame;return ht.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Oy=gd;function Zh(){const r=gd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ri(){return ht.lFrame.selectedIndex}function ii(r){ht.lFrame.selectedIndex=r}function sn(){const r=ht.lFrame;return Vs(r.tView,r.selectedIndex)}function Xo(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:D}=d;p&&(r.contentHooks||(r.contentHooks=[])).push(-o,p),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),C&&((r.viewHooks||(r.viewHooks=[])).push(o,C),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,C)),null!=D&&(r.destroyHooks||(r.destroyHooks=[])).push(o,D)}}function Bu(r,i,o){yd(r,i,3,o)}function ea(r,i,o,u){(3&r[2])===o&&yd(r,i,o,u)}function ja(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function yd(r,i,o,u){const d=null!=u?u:-1,p=i.length-1;let y=0;for(let E=void 0!==u?65535&r[18]:0;E<p;E++)if("number"==typeof i[E+1]){if(y=i[E],null!=u&&y>=u)break}else i[E]<0&&(r[18]+=65536),(y<d||-1==d)&&(Zc(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function Zc(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class $a{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ta(r,i,o){const u=En(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const p=o[c++],y=o[c++],E=o[c++];u?r.setAttribute(i,y,E,p):i.setAttributeNS(p,y,E)}else{const p=d,y=o[++c];vd(p)?u&&r.setProperty(i,p,y):u?r.setAttribute(i,p,y):i.setAttribute(p,y),c++}}return c}function _o(r){return 3===r||4===r||6===r}function vd(r){return 64===r.charCodeAt(0)}function vo(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Ed(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Ed(r,i,o,u,c){let d=0,p=r.length;if(-1===i)p=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){p=-1;break}if(y>i){p=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==p&&(r.splice(p,0,i),d=p+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function ju(r){return-1!==r}function na(r){return 32767&r}function zs(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let zc=!0;function ws(r){const i=zc;return zc=r,i}let Xi=0;function pn(r,i){const o=Dn(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,st(u.data,r),st(i,null),st(u.blueprint,null));const c=Gs(r,i),d=r.injectorIndex;if(ju(c)){const p=na(c),y=zs(c,i),E=y[1].data;for(let C=0;C<8;C++)i[d+C]=y[p+C]|E[p+C]}return i[d+8]=c,d}function st(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Dn(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Gs(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],p=d.type;if(u=2===p?d.declTNode:1===p?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Ws(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(q)&&(u=o[q]),null==u&&(u=o[q]=Xi++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Kc(r,i,o){if(o&Pe.Optional)return r;ve(i,"NodeInjector")}function Ha(r,i,o,u){if(o&Pe.Optional&&void 0===u&&(u=null),0==(o&(Pe.Self|Pe.Host))){const c=r[9],d=un(void 0);try{return c?c.get(i,u,o&Pe.Optional):Vt(i,u,o&Pe.Optional)}finally{un(d)}}return Kc(u,i,o)}function Ei(r,i,o,u=Pe.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(q)?r[q]:void 0;return"number"==typeof i?i>=0?255&i:qa:i}(o);if("function"==typeof d){if(!fd(i,r,u))return u&Pe.Host?Kc(c,o,u):Ha(i,o,u,c);try{const p=d(u);if(null!=p||u&Pe.Optional)return p;ve(o)}finally{Oy()}}else if("number"==typeof d){let p=null,y=Dn(r,i),E=-1,C=u&Pe.Host?i[16][6]:null;for((-1===y||u&Pe.SkipSelf)&&(E=-1===y?Gs(r,i):i[y+8],-1!==E&&Eo(u,!1)?(p=i[1],y=na(E),i=zs(E,i)):y=-1);-1!==y;){const D=i[1];if(wd(d,y,D.data)){const R=Jh(y,i,o,p,u,C);if(R!==Hu)return R}E=i[y+8],-1!==E&&Eo(u,i[1].data[y+8]===C)&&wd(d,y,i)?(p=D,y=na(E),i=zs(E,i)):y=-1}}}return Ha(i,o,u,c)}const Hu={};function qa(){return new ra(On(),Ne())}function Jh(r,i,o,u,c,d){const p=i[1],y=p.data[r+8],D=gt(y,p,o,null==u?ei(y)&&zc:u!=p&&0!=(3&y.type),c&Pe.Host&&d===y);return null!==D?es(i,p,D,y):Hu}function gt(r,i,o,u,c){const d=r.providerIndexes,p=i.data,y=1048575&d,E=r.directiveStart,D=d>>20,N=c?y+D:r.directiveEnd;for(let j=u?y:y+D;j<N;j++){const W=p[j];if(j<E&&o===W||j>=E&&W.type===o)return j}if(c){const j=p[E];if(j&&ti(j)&&j.type===o)return E}return null}function es(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof $a}(c)){const p=c;p.resolving&&function(r,i){throw new le("200",`Circular dependency in DI detected for ${r}`)}(It(d[o]));const y=ws(p.canSeeViewProviders);p.resolving=!0;const E=p.injectImpl?un(p.injectImpl):null;fd(r,u,Pe.Default);try{c=r[o]=p.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const p=Ir(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,p)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==E&&un(E),ws(y),p.resolving=!1,Oy()}}return c}function wd(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Eo(r,i){return!(r&Pe.Self||r&Pe.Host&&i)}class ra{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return Ei(this._tNode,this._lView,i,void 0,o)}}function Za(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(_o(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(On(),r)}const wo="__parameters__";function rs(r,i,o){return We(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const p=new c(...d);return y.annotation=p,y;function y(E,C,D){const R=E.hasOwnProperty(wo)?E[wo]:Object.defineProperty(E,wo,{value:[]})[wo];for(;R.length<=D;)R.push(null);return(R[D]=R[D]||[]).push(p),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class ln{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=qt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yt=new ln("AnalyzeForEntryComponents"),ua=Function;function Mr(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Mr(u,i)):i!==r&&i.push(u)}return i}function wi(r,i){r.forEach(o=>Array.isArray(o)?wi(o,i):i(o))}function Nr(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ks(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const ss={},To="__NG_DI_FLAG__",bi="ngTempTokenPath",Ys=/\n/gm,nf="__source",da=U({provide:String,useValue:U});let Wu;function Qs(r){const i=Wu;return Wu=r,i}function Jp(r,i=Pe.Default){if(void 0===Wu)throw new Error("inject() must be called from an injection context");return null===Wu?Vt(r,void 0,i):Wu.get(r,i&Pe.Optional?null:void 0,i)}function Pn(r,i=Pe.Default){return(Ut||Jp)(G(r),i)}function Do(r){const i=[];for(let o=0;o<r.length;o++){const u=G(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Pe.Default;for(let p=0;p<u.length;p++){const y=u[p],E=sf(y);"number"==typeof E?-1===E?c=y.token:d|=E:c=y}i.push(Pn(c,d))}else i.push(Pn(u))}return i}function Ao(r,i){return r[To]=i,r.prototype[To]=i,r}function sf(r){return r[To]}function Dd(r,i,o,u){const c=r[bi];throw i[nf]&&c.unshift(i[nf]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=K(i);if(Array.isArray(i))c=i.map(K).join(" -> ");else if("object"==typeof i){let d=[];for(let p in i)if(i.hasOwnProperty(p)){let y=i[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):K(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Ys,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[bi]=null,r}const So=Ao(rs("Inject",r=>({token:r})),-1),Js=Ao(rs("Optional"),8),Xs=Ao(rs("SkipSelf"),4);let Yu;function Ju(r){var i;return(null===(i=function(){if(void 0===Yu&&(Yu=null,$.trustedTypes))try{Yu=$.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Yu}())||void 0===i?void 0:i.createHTML(r))||r}class ha{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Md extends ha{getTypeName(){return"HTML"}}class v extends ha{getTypeName(){return"Style"}}class g extends ha{getTypeName(){return"Script"}}class m extends ha{getTypeName(){return"URL"}}class w extends ha{getTypeName(){return"ResourceURL"}}function S(r){return r instanceof ha?r.changingThisBreaksApplicationSecurity:r}function P(r,i){const o=re(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function re(r){return r instanceof ha&&r.getTypeName()||null}function Fe(r){return new Md(r)}function tt(r){return new v(r)}function ct(r){return new g(r)}function Nt(r){return new m(r)}function jt(r){return new w(r)}class as{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ju(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Qa{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ju(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ju(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const p=o.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&i.removeAttribute(p)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const rl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ff=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bs(r){return(r=String(r)).match(rl)||r.match(ff)?r:"unsafe:"+r}function Bi(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Ro(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Xu=Bi("area,br,col,hr,img,wbr"),ec=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sl=Bi("rp,rt"),pf=Ro(Xu,Ro(ec,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ro(sl,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ro(sl,ec)),ng=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rg=Bi("srcset"),Nd=Ro(ng,rg,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tE=Bi("script,style,template");class ig{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!pf.hasOwnProperty(o))return this.sanitizedSomething=!0,!tE.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),p=d.name,y=p.toLowerCase();if(!Nd.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=d.value;ng[y]&&(E=bs(E)),rg[y]&&(r=E,E=(r=String(r)).split(",").map(i=>bs(i.trim())).join(", ")),this.buf.push(" ",p,'="',sg(E),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();pf.hasOwnProperty(o)&&!Xu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(sg(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const gf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ol=/([^\#-~ |!])/g;function sg(r){return r.replace(/&/g,"&amp;").replace(gf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ol,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let og;function ag(r,i){let o=null;try{og=og||function(r){const i=new Qa(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ju(""),"text/html")}catch(r){return!1}}()?new as(i):i}(r);let u=i?String(i):"";o=og.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=og.getInertBodyElement(u)}while(u!==d);return Ju((new ig).sanitizeChildren(tc(o)||o))}finally{if(o){const u=tc(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function tc(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var _n=(()=>((_n=_n||{})[_n.NONE=0]="NONE",_n[_n.HTML=1]="HTML",_n[_n.STYLE=2]="STYLE",_n[_n.SCRIPT=3]="SCRIPT",_n[_n.URL=4]="URL",_n[_n.RESOURCE_URL=5]="RESOURCE_URL",_n))();function Ja(r){const i=function(){const r=Ne();return r&&r[12]}();return i?i.sanitize(_n.URL,r)||"":P(r,"URL")?S(r):bs(Be(r))}const Uy="__ngContext__";function Ii(r,i){r[Uy]=i}function Vy(r){const i=function(r){return r[Uy]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function vf(r){return r.ngOriginalError}function OC(r,...i){r.error(...i)}class Pd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||OC;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(vf(i)):null}_findOriginalError(i){let o=i&&vf(i);for(;o&&vf(o);)o=vf(o);return o||null}}const lE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function Oo(r){return r instanceof Function?r():r}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();function ll(r,i){return undefined(r,i)}function nc(r){const i=r[3];return vn(i)?i[3]:i}function Fd(r){return Yy(r[13])}function Ky(r){return Yy(r[4])}function Yy(r){for(;null!==r&&!vn(r);)r=r[4];return r}function dl(r,i,o,u,c){if(null!=u){let d,p=!1;vn(u)?d=u:fr(u)&&(p=!0,u=u[0]);const y=Dt(u);0===r&&null!==o?null==c?bg(i,o,y):pl(i,o,y,c||null,!0):1===r&&null!==o?pl(i,o,y,c||null,!0):2===r?function(r,i,o){const u=Cf(r,i);u&&function(r,i,o,u){En(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,p):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==Dt(o)&&dl(i,r,u,d,c);for(let y=10;y<o.length;y++){const E=o[y];yl(E[1],E,r,i,u,d)}}(i,r,d,o,c)}}function vg(r,i,o){return En(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function Jy(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Ko(c,-1)),o.splice(u,1)}function wg(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&Jy(c,u),i>0&&(r[o-1][4]=u[4]);const d=Ks(r,10+i);!function(r,i){yl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const p=d[19];null!==p&&p.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function If(r,i){if(!(256&i[2])){const o=i[11];En(o)&&o.destroyNode&&yl(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return ji(r[1],r);for(;i;){let o=null;if(fr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)fr(i)&&ji(i[1],i),i=i[3];null===i&&(i=r),fr(i)&&ji(i[1],i),o=i&&i[4]}i=o}}(i)}}function ji(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof $a)){const d=o[u+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=c[d[p]],E=d[p+1];try{E.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+1],y="function"==typeof p?p(i):Dt(i[p]),E=u[c=o[d+2]],C=o[d+3];"boolean"==typeof C?y.removeEventListener(o[d],E,C):C>=0?u[c=C]():u[c=-C].unsubscribe(),d+=2}else{const p=u[c=o[d+1]];o[d].call(p)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&En(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&vn(i[3])){o!==i[3]&&Jy(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function fl(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===an.None||c===an.Emulated)return null}return ni(u,o)}(r,i.parent,o)}function pl(r,i,o,u,c){En(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function bg(r,i,o){En(r)?r.appendChild(i,o):i.appendChild(o)}function EE(r,i,o,u,c){null!==u?pl(r,i,o,u,c):bg(r,i,o)}function Cf(r,i){return En(r)?r.parentNode(i):i.parentNode}let Xy=function(r,i,o){return 40&r.type?ni(r,o):null};function Mo(r,i,o,u){const c=fl(r,u,i),d=i[11],y=function(r,i,o){return Xy(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)EE(d,c,o[E],y,!1);else EE(d,c,o,y,!1)}function Ld(r,i){if(null!==i){const o=i.type;if(3&o)return ni(i,r);if(4&o)return je(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return Ld(r,u);{const c=r[i.index];return vn(c)?je(-1,c):Dt(c)}}if(32&o)return ll(i,r)()||Dt(r[i.index]);{const u=bE(r,i);return null!==u?Array.isArray(u)?u[0]:Ld(nc(r[16]),u):Ld(r,i.next)}}return null}function bE(r,i){return null!==i?r[16][6].projection[i.projection]:null}function je(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return Ld(u,c)}return i[7]}function ml(r,i,o,u,c,d,p){for(;null!=o;){const y=u[o.index],E=o.type;if(p&&0===i&&(y&&Ii(Dt(y),u),o.flags|=4),64!=(64&o.flags))if(8&E)ml(r,i,o.child,u,c,d,!1),dl(i,r,c,y,d);else if(32&E){const C=ll(o,u);let D;for(;D=C();)dl(i,r,c,D,d);dl(i,r,c,y,d)}else 16&E?_t(r,i,u,o,c,d):dl(i,r,c,y,d);o=p?o.projectionNext:o.next}}function yl(r,i,o,u,c,d){ml(o,u,r.firstChild,i,c,d,!1)}function _t(r,i,o,u,c,d){const p=o[16],E=p[6].projection[u.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)dl(i,r,c,E[C],d);else ml(r,i,E,p[3],c,d,!0)}function Ee(r,i,o){En(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Le(r,i,o){En(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Lr(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const IE="ng-template";function $C(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Lr(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function CE(r){return 4===r.type&&r.value!==IE}function HC(r,i,o){return i===(4!==r.type||o?r.value:IE)}function qC(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(_o(r[i]))return i;return r.length}(c);let p=!1;for(let y=0;y<i.length;y++){const E=i[y];if("number"!=typeof E){if(!p)if(4&u){if(u=2|1&u,""!==E&&!HC(r,E,o)||""===E&&1===i.length){if(Hn(u))return!1;p=!0}}else{const C=8&u?E:i[++y];if(8&u&&null!==r.attrs){if(!$C(r.attrs,C,o)){if(Hn(u))return!1;p=!0}continue}const R=ZC(8&u?"class":E,c,CE(r),o);if(-1===R){if(Hn(u))return!1;p=!0;continue}if(""!==C){let N;N=R>d?"":c[R+1].toLowerCase();const j=8&u?N:null;if(j&&-1!==Lr(j,C,0)||2&u&&C!==N){if(Hn(u))return!1;p=!0}}}}else{if(!p&&!Hn(u)&&!Hn(E))return!1;if(p&&Hn(E))continue;p=!1,u=E|1&u}}return Hn(u)||p}function Hn(r){return 0==(1&r)}function ZC(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const p=i[c];if(p===r)return c;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function e_(r,i,o=!1){for(let u=0;u<i.length;u++)if(qC(r,i[u],o))return!0;return!1}function At(r,i){return r?":not("+i.trim()+")":i}function DE(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let p=r[o];if("string"==typeof p)if(2&u){const y=r[++o];c+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+p:4&u&&(c+=" "+p);else""!==c&&!Hn(p)&&(i+=At(d,c),c=""),u=p,d=d||!Hn(u);o++}return""!==c&&(i+=At(d,c)),i}const vt={};function on(r){SE(Mt(),Ne(),ri()+r,$s())}function SE(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&Bu(i,d,o)}else{const d=r.preOrderHooks;null!==d&&ea(i,d,0,o)}ii(o)}function PE(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const p=r.data[d];hd(c),p.contentQueries(2,i[d],d)}}}function Is(r,i,o,u,c,d,p,y,E,C){const D=i.blueprint.slice();return D[0]=c,D[2]=140|u,Pu(D),D[3]=D[15]=r,D[8]=o,D[10]=p||r&&r[10],D[11]=y||r&&r[11],D[12]=E||r&&r[12]||null,D[9]=C||r&&r[9]||null,D[6]=d,D[16]=2==i.type?r[16]:D,D}function wl(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=cd(),p=mo(),E=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=E),null!==d&&(p?null==d.child&&null!==E.parent&&(d.child=E):null===d.next&&(d.next=E)),E}(r,i,o,u,c),ht.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const p=function(){const r=ht.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Ji(d,!0),d}function nu(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function sc(r,i,o){yo(i);try{const u=r.viewQuery;null!==u&&Nf(1,u,o);const c=r.template;null!==c&&xg(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&PE(r,i),r.staticViewQueries&&Nf(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)qE(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Zh()}}function oc(r,i,o,u){const c=i[2];if(256==(256&c))return;yo(i);const d=$s();try{Pu(i),function(r){ht.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&xg(r,i,o,2,u);const p=3==(3&c);if(!d)if(p){const C=r.preOrderCheckHooks;null!==C&&Bu(i,C,null)}else{const C=r.preOrderHooks;null!==C&&ea(i,C,0,null),ja(i,0)}if(function(r){for(let i=Fd(r);null!==i;i=Ky(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&Ko(d,1),c[2]|=1024}}}(i),function(r){for(let i=Fd(r);null!==i;i=Ky(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];fo(u)&&oc(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&PE(r,i),!d)if(p){const C=r.contentCheckHooks;null!==C&&Bu(i,C)}else{const C=r.contentHooks;null!==C&&ea(i,C,1),ja(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ii(~c);else{const d=c,p=o[++u],y=o[++u];Lu(p,d),y(2,i[d])}}}finally{ii(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)Ar(r,i[o])}(i,y);const E=r.viewQuery;if(null!==E&&Nf(2,E,u),!d)if(p){const C=r.viewCheckHooks;null!==C&&Bu(i,C)}else{const C=r.viewHooks;null!==C&&ea(i,C,2),ja(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Ko(i[3],-1))}finally{Zh()}}function a_(r,i,o,u){const c=i[10],d=!$s(),p=Wo(i);try{d&&!p&&c.begin&&c.begin(),p&&sc(r,i,u),oc(r,i,o,u)}finally{d&&!p&&c.end&&c.end()}}function xg(r,i,o,u,c){const d=ri(),p=2&u;try{ii(-1),p&&i.length>20&&SE(r,i,20,$s()),o(u,c)}finally{ii(d)}}function us(r,i,o){!Ua()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||pn(o,i),Ii(u,i);const p=o.initialInputs;for(let y=c;y<d;y++){const E=r.data[y],C=ti(E);C&&jE(i,o,E);const D=es(i,r,y,o);Ii(D,i),null!==p&&$E(0,y-c,D,E,0,p),C&&(Jn(o.index,i)[8]=D)}}(r,i,o,ni(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,p=o.index,y=ht.lFrame.currentDirectiveIndex;try{ii(p);for(let E=u;E<c;E++){const C=r.data[E],D=i[E];Uu(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&yr(C,D)}}finally{ii(-1),Uu(y)}}(r,i,o))}function Rg(r,i,o=ni){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const p=u[d+1],y=-1===p?o(i,r):r[p];r[c++]=y}}}function Hd(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Rf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Rf(r,i,o,u,c,d,p,y,E,C){const D=20+u,R=D+c,N=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:vt);return o}(D,R),j="function"==typeof C?C():C;return N[1]={type:r,blueprint:N,template:o,queries:null,viewQuery:y,declTNode:i,data:N.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:E,consts:j,incompleteFirstPass:!1}}function c_(r,i,o,u){const c=WE(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&dn(r).push(u,c.length-1))}function l_(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function Cs(r,i,o,u,c,d,p,y){const E=ni(i,o);let D,C=i.inputs;!y&&null!=C&&(D=C[u])?(Yd(r,o,D,u,c),ei(i)&&function(r,i){const o=Jn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=p?p(c,i.value||"",u):c,En(d)?d.setProperty(E,u,c):vd(u)||(E.setProperty?E.setProperty(u,c):E[u]=c))}function Mg(r,i,o,u){let c=!1;if(Ua()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const p=u[d];e_(o,p.selectors,!1)&&(c||(c=[]),Ws(pn(o,i),r,p.type),ti(p)?(Mf(r,o),c.unshift(p)):c.push(p))}return c}(r,i,o),p=null===u?null:{"":-1};if(null!==d){c=!0,BE(o,r.data.length,d.length);for(let D=0;D<d.length;D++){const R=d[D];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,C=nu(r,i,d.length,null);for(let D=0;D<d.length;D++){const R=d[D];o.mergedAttrs=vo(o.mergedAttrs,R.hostAttrs),f_(r,o,i,C,R),h_(C,R,p),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const N=R.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),C++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,p=[];let y=null,E=null;for(let C=i.directiveStart;C<u;C++){const D=c[C],R=D.inputs,N=null===d||CE(i)?null:HE(R,d);p.push(N),y=l_(R,C,y),E=l_(D.outputs,C,E)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=p,i.inputs=y,i.outputs=E}(r,o)}p&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new le("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,p)}return o.mergedAttrs=vo(o.mergedAttrs,o.attrs),c}function d_(r,i,o,u,c,d){const p=d.hostBindings;if(p){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const E=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=E&&y.push(E),y.push(u,c,p)}}function yr(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Mf(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function h_(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ti(i)&&(o[""]=r)}}function BE(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function f_(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=yi(c.type)),p=new $a(d,ti(c),null);r.blueprint[u]=p,o[u]=p,d_(r,i,0,u,nu(r,o,c.hostVars,vt),c)}function jE(r,i,o){const u=ni(i,r),c=Hd(o),d=r[10],p=sr(r,Is(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=p}function cs(r,i,o,u,c,d){const p=ni(r,i);!function(r,i,o,u,c,d,p){if(null==d)En(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==p?Be(d):p(d,u||"",c);En(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],p,d,r.value,o,u,c)}function $E(r,i,o,u,c,d){const p=d[i];if(null!==p){const y=u.setInput;for(let E=0;E<p.length;){const C=p[E++],D=p[E++],R=p[E++];null!==y?u.setInput(o,R,C,D):o[D]=R}}}function HE(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Wd(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Ar(r,i){const o=Jn(i,r);if(fo(o)){const u=o[1];80&o[2]?oc(u,o,u.template,o[8]):o[5]>0&&Wt(o)}}function Wt(r){for(let u=Fd(r);null!==u;u=Ky(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const p=d[1];oc(p,d,p.template,d[8])}else d[5]>0&&Wt(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Jn(o[u],r);fo(c)&&c[5]>0&&Wt(c)}}function qE(r,i){const o=Jn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),sc(u,o,o[8])}function sr(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Kd(r){for(;r;){r[2]|=64;const i=nc(r);if(Ru(r)&&!i)return r;r=i}return null}function Pg(r,i,o){const u=i[10];u.begin&&u.begin();try{oc(r,i,r.template,o)}catch(c){throw Pf(i,c),c}finally{u.end&&u.end()}}function zE(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=Vy(o),c=u[1];a_(c,u,c.template,o)}}(r[8])}function Nf(r,i,o){hd(0),i(r,o)}const GE=(()=>Promise.resolve(null))();function WE(r){return r[7]||(r[7]=[])}function dn(r){return r.cleanup||(r.cleanup=[])}function Pf(r,i){const o=r[9],u=o?o.get(Pd,null):null;u&&u.handleError(i)}function Yd(r,i,o,u,c){for(let d=0;d<o.length;){const p=o[d++],y=o[d++],E=i[p],C=r.data[p];null!==C.setInput?C.setInput(E,c,u,y):E[y]=c}}function Ts(r,i,o){const u=function(r,i){return Dt(i[r])}(i,r);!function(r,i,o){En(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Il(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let p=0;p<i.length;p++){const y=i[p];"number"==typeof y?d=y:1==d?c=oe(c,y):2==d&&(u=oe(u,y+": "+i[++p]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const Qd=new ln("INJECTOR",-1);class g_{get(i,o=ss){if(o===ss){const u=new Error(`NullInjectorError: No provider for ${K(i)}!`);throw u.name="NullInjectorError",u}return o}}const Jd=new ln("Set Injector scope."),kf={},dT={};let m_;function Xd(){return void 0===m_&&(m_=new g_),m_}function XE(r,i=null,o=null,u){return new zr(r,o,i||Xd(),u)}class zr{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&wi(o,y=>this.processProvider(y,i,o)),wi([i],y=>this.processInjectorType(y,[],d)),this.records.set(Qd,uc(void 0,this));const p=this.records.get(Jd);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof i?null:K(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ss,u=Pe.Default){this.assertNotDestroyed();const c=Qs(this),d=un(void 0);try{if(!(u&Pe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const E=("function"==typeof(r=i)||"object"==typeof r&&r instanceof ln)&&cr(i);y=E&&this.injectableDefInScope(E)?uc(Ff(i),kf):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Pe.Self?Xd():this.parent).get(i,o=u&Pe.Optional&&o===ss?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[bi]=p[bi]||[]).unshift(K(i)),c)throw p;return Dd(p,i,"R3InjectorError",this.source)}throw p}finally{un(d),Qs(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(K(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=G(i)))return!1;let c=Br(i);const d=null==c&&i.ngModule||void 0,p=void 0===d?i:d,y=-1!==u.indexOf(p);if(void 0!==d&&(c=Br(d)),null==c)return!1;if(null!=c.imports&&!y){let D;u.push(p);try{wi(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===D&&(D=[]),D.push(R))})}finally{}if(void 0!==D)for(let R=0;R<D.length;R++){const{ngModule:N,providers:j}=D[R];wi(j,W=>this.processProvider(W,N,j||$e))}}this.injectorDefTypes.add(p);const E=yi(p)||(()=>new p);this.records.set(p,uc(E,kf));const C=c.providers;if(null!=C&&!y){const D=i;wi(C,R=>this.processProvider(R,D,C))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=Cl(i=G(i))?i:G(i&&i.provide);const d=y_(r=i)?uc(void 0,r.useValue):uc(function(r,i,o){let u;if(Cl(r)){const c=G(r);return yi(c)||Ff(c)}if(y_(r))u=()=>G(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Do(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Pn(G(r.useExisting));else{const c=G(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return yi(c)||Ff(c);u=()=>new c(...Do(r.deps))}return u}(r),kf);var r;if(Cl(i)||!0!==i.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=uc(void 0,kf,!0),p.factory=()=>Do(p.multi),this.records.set(c,p)),c=i,p.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===kf&&(o.value=dT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=G(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ff(r){const i=cr(r),o=null!==i?i.factory:yi(r);if(null!==o)return o;if(r instanceof ln)throw new Error(`Token ${K(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${K(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[xt]||r[pi]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function uc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function y_(r){return null!==r&&"object"==typeof r&&da in r}function Cl(r){return"function"==typeof r}const __=function(r,i,o){return function(r,i=null,o=null,u){const c=XE(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let An=(()=>{class r{static create(o,u){return Array.isArray(o)?__(o,u,""):__(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=ss,r.NULL=new g_,r.\u0275prov=qt({token:r,providedIn:"any",factory:()=>Pn(Qd)}),r.__NG_ELEMENT_ID__=-1,r})();function Dl(r,i){Xo(Vy(r)[1],On())}let jf=null;function Fo(){if(!jf){const r=$.Symbol;if(r&&r.iterator)jf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(jf=u)}}}return jf}class Si{constructor(i){this.wrapped=i}static wrap(i){return new Si(i)}static unwrap(i){return Si.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Si}}function su(r){return!!D_(r)&&(Array.isArray(r)||!(r instanceof Map)&&Fo()in r)}function D_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function xi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function $g(r,i,o,u){const c=Ne();return xi(c,qs(),i)&&(Mt(),cs(sn(),c,r,i,o,u)),$g}function Sl(r,i,o,u){return xi(r,qs(),o)?i+Be(o)+u:vt}function mw(r,i,o,u,c,d,p,y){const E=Ne(),C=Mt(),D=r+20,R=C.firstCreatePass?function(r,i,o,u,c,d,p,y,E){const C=i.consts,D=wl(i,r,4,p||null,Qi(C,y));Mg(i,o,D,Qi(C,E)),Xo(i,D);const R=D.tViews=Rf(2,D,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,C);return null!==i.queries&&(i.queries.template(i,D),R.queries=i.queries.embeddedTView(D)),D}(D,C,E,i,o,u,c,d,p):C.data[D];Ji(R,!1);const N=E[11].createComment("");Mo(C,E,N,R),Ii(N,E),sr(E,E[D]=Wd(N,E,N,R)),xu(R)&&us(C,E,R),null!=p&&Rg(E,R,y)}function gc(r,i=Pe.Default){const o=Ne();return null===o?Pn(r,i):Ei(On(),o,G(r),i)}function oh(r,i,o){const u=Ne();return xi(u,qs(),i)&&Cs(Mt(),sn(),u,r,i,u[11],o,!1),oh}function Gf(r,i,o,u,c){const p=c?"class":"style";Yd(r,o,i.inputs[p],p,u)}function Wf(r,i,o,u){const c=Ne(),d=Mt(),p=20+r,y=c[11],E=c[p]=vg(y,i,ht.lFrame.currentNamespace),C=d.firstCreatePass?function(r,i,o,u,c,d,p){const y=i.consts,C=wl(i,r,2,c,Qi(y,d));return Mg(i,o,C,Qi(y,p)),null!==C.attrs&&Il(C,C.attrs,!1),null!==C.mergedAttrs&&Il(C,C.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,C),C}(p,d,c,0,i,o,u):d.data[p];Ji(C,!0);const D=C.mergedAttrs;null!==D&&ta(y,E,D);const R=C.classes;null!==R&&Le(y,E,R);const N=C.styles;null!==N&&Ee(y,E,N),64!=(64&C.flags)&&Mo(d,c,E,C),0===ht.lFrame.elementDepthCount&&Ii(E,c),ht.lFrame.elementDepthCount++,xu(C)&&(us(d,c,C),function(r,i,o){if(Oc(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const p=r.data[d];p.contentQueries&&p.contentQueries(1,o[d],d)}}}(d,C,c)),null!==u&&Rg(c,C)}function Yg(){let r=On();mo()?ht.lFrame.isParent=!1:(r=r.parent,Ji(r,!1));const i=r;ht.lFrame.elementDepthCount--;const o=Mt();o.firstCreatePass&&(Xo(o,r),Oc(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Gf(o,i,Ne(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Gf(o,i,Ne(),i.stylesWithoutHost,!1)}function Ow(r,i,o,u){Wf(r,i,o,u),Yg()}function Kf(){return Ne()}function Nl(r){return!!r&&"function"==typeof r.then}function Qg(r){return!!r&&"function"==typeof r.subscribe}const Jg=Qg;function V_(r,i,o,u){const c=Ne(),d=Mt(),p=On();return function(r,i,o,u,c,d,p,y){const E=xu(u),D=r.firstCreatePass&&dn(r),R=i[8],N=WE(i);let j=!0;if(3&u.type||y){const ne=ni(u,i),Ve=y?y(ne):ne,Ae=N.length,ut=y?bt=>y(Dt(bt[u.index])):u.index;if(En(o)){let bt=null;if(!y&&E&&(bt=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const p=c[d];if(p===o&&c[d+1]===u){const y=i[7],E=c[d+2];return y.length>E?y[E]:null}"string"==typeof p&&(d+=2)}return null}(r,i,c,u.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=d,bt.__ngLastListenerFn__=d,j=!1;else{d=Pl(u,i,R,d,!1);const Yt=o.listen(Ve,c,d);N.push(d,Yt),D&&D.push(c,ut,Ae,Ae+1)}}else d=Pl(u,i,R,d,!0),Ve.addEventListener(c,d,p),N.push(d),D&&D.push(c,ut,Ae,p)}else d=Pl(u,i,R,d,!1);const W=u.outputs;let ge;if(j&&null!==W&&(ge=W[c])){const ne=ge.length;if(ne)for(let Ve=0;Ve<ne;Ve+=2){const fi=i[ge[Ve]][ge[Ve+1]].subscribe(d),Sa=N.length;N.push(d,fi),D&&D.push(c,u.index,Sa,-(Sa+1))}}}(d,c,c[11],p,r,i,!!o,u),V_}function Lw(r,i,o,u){try{return!1!==o(u)}catch(c){return Pf(r,c),!1}}function Pl(r,i,o,u,c){return function d(p){if(p===Function)return u;const y=2&r.flags?Jn(r.index,i):i;0==(32&i[2])&&Kd(y);let E=Lw(i,0,u,p),C=d.__ngNextListenerFn__;for(;C;)E=Lw(i,0,C,p)&&E,C=C.__ngNextListenerFn__;return c&&!1===E&&(p.preventDefault(),p.returnValue=!1),E}}function Xg(r=1){return function(r){return(ht.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ht.lFrame.contextLView))[8]}(r)}function kl(r,i,o){return Yf(r,"",i,"",o),kl}function Yf(r,i,o,u,c){const d=Ne(),p=Sl(d,i,o,u);return p!==vt&&Cs(Mt(),sn(),d,r,p,d[11],c,!1),Yf}function nv(r,i=""){const o=Ne(),u=Mt(),c=r+20,d=u.firstCreatePass?wl(u,c,1,i,null):u.data[c],p=o[c]=function(r,i){return En(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Mo(u,o,p,d),Ji(d,!1)}function um(r){return cm("",r,""),um}function cm(r,i,o){const u=Ne(),c=Sl(u,r,i,o);return c!==vt&&Ts(u,ri(),c),cm}function hv(r,i,o){const u=Ne();return xi(u,qs(),i)&&Cs(Mt(),sn(),u,r,i,u[11],o,!0),hv}const Ul=void 0;var GT=["en",[["a","p"],["AM","PM"],Ul],[["AM","PM"],Ul,Ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ul,"{1} 'at' {0}",Ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let _c={};function ep(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=ub(i);if(o)return o;const u=i.split("-")[0];if(o=ub(u),o)return o;if("en"===u)return GT;throw new Error(`Missing locale data for the locale "${r}".`)}function ab(r){return ep(r)[dt.PluralCase]}function ub(r){return r in _c||(_c[r]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[r]),_c[r]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const vm="en-US";let np=vm;function yv(r){pt(r,"Expected localeId to be defined"),"string"==typeof r&&(np=r.toLowerCase().replace(/_/g,"-"))}class Rv{}const xm="ngComponent";class vD{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${K(r)}. Did you add it to @NgModule.entryComponents?`);return i[xm]=r,i}(i)}}let vc=(()=>{class r{}return r.NULL=new vD,r})();function Ec(...r){}function gu(r,i){return new ci(ni(r,i))}const ap=function(){return gu(On(),Ne())};let ci=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=ap,r})();function Fb(r){return r instanceof ci?r.nativeElement:r}class up{}let cp=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>bD(),r})();const bD=function(){const r=Ne(),o=Jn(On().index,r);return function(r){return r[11]}(fr(o)?o:r)};let Om=(()=>{class r{}return r.\u0275prov=qt({token:r,providedIn:"root",factory:()=>null}),r})();class Lb{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Nv=new Lb("12.2.11");class Pv{constructor(){}supports(i){return su(i)}create(i){return new Ub(i)}}const TD=(r,i)=>i;class Ub{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||TD}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const p=!u||o&&o.currentIndex<Fv(u,c,d)?o:u,y=Fv(p,c,d),E=p.currentIndex;if(p===u)c--,u=u._nextRemoved;else if(o=o._next,null==p.previousIndex)c++;else{d||(d=[]);const C=y-c,D=E-c;if(C!=D){for(let N=0;N<C;N++){const j=N<d.length?d[N]:d[N]=0,W=j+N;D<=W&&W<C&&(d[N]=j+1)}d[p.previousIndex]=D-C}}y!==E&&i(p,y,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!su(i))throw new Error(`Error trying to diff '${K(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,p,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],p=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,d,p,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Fo()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{p=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,p)?(u&&(o=this._verifyReinsertion(o,y,p,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,p,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new DD(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new kv),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kv),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DD{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class kv{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new AD,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fv(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Lv{constructor(){}supports(i){return i instanceof Map||D_(i)}create(){return new Vb}}class Vb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||D_(i)))throw new Error(`Error trying to diff '${K(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,p=c._next;return d&&(d._next=p),p&&(p._prev=d),c._next=null,c._prev=null,c}const u=new Uv(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Uv{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lp(){return new Mm([new Pv])}let Mm=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||lp()),deps:[[r,new Xs,new Js]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=qt({token:r,providedIn:"root",factory:lp}),r})();function mu(){return new Nm([new Lv])}let Nm=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||mu()),deps:[[r,new Xs,new Js]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=qt({token:r,providedIn:"root",factory:mu}),r})();function Ia(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(Dt(d)),vn(d))for(let y=10;y<d.length;y++){const E=d[y],C=E[1].firstChild;null!==C&&Ia(E[1],E,C,u)}const p=o.type;if(8&p)Ia(r,i,o.child,u);else if(32&p){const y=ll(o,i);let E;for(;E=y();)u.push(E)}else if(16&p){const y=bE(i,o);if(Array.isArray(y))u.push(...y);else{const E=nc(i[16]);Ia(E[1],E,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class dp{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Ia(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(vn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(wg(i,u),Ks(o,u))}this._attachedToViewContainer=!1}If(this._lView[1],this._lView)}onDestroy(i){c_(this._lView[1],this._lView,null,i)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Hs(!0);try{Pg(r,i,o)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,yl(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class SD extends dp{constructor(i){super(i),this._view=i}detectChanges(){zE(this._view)}checkNoChanges(){!function(r){Hs(!0);try{zE(r)}finally{Hs(!1)}}(this._view)}get context(){return null}}const RD=function(r){return function(r,i,o){if(ei(r)&&!o){const u=Jn(r.index,i);return new dp(u,u)}return 47&r.type?new dp(i[16],i):null}(On(),Ne(),16==(16&r))};let Pm=(()=>{class r{}return r.__NG_ELEMENT_ID__=RD,r})();const OD=[new Lv],MD=new Mm([new Pv]),dh=new Nm(OD),ND=function(){return km(On(),Ne())};let fp=(()=>{class r{}return r.__NG_ELEMENT_ID__=ND,r})();const PD=fp,kD=class extends PD{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Is(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),sc(o,u,i),new dp(u)}};function km(r,i){return 4&r.type?new kD(i,r,gu(r,i)):null}class hh{}class Hb{}const Bv=function(){return $v(On(),Ne())};let pp=(()=>{class r{}return r.__NG_ELEMENT_ID__=Bv,r})();const gp=pp,Fm=class extends gp{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const i=Gs(this._hostTNode,this._hostLView);if(ju(i)){const o=zs(i,this._hostLView),u=na(i);return new ra(o[1].data[u+8],o)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Zb(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const p=u||this.parentInjector;if(!d&&null==i.ngModule&&p){const E=p.get(hh,null);E&&(d=E)}const y=i.create(p,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(vn(u[3])){const D=this.indexOf(i);if(-1!==D)this.detach(D);else{const R=u[3],N=new Fm(R,R[6],R[3]);N.detach(N.indexOf(i))}}const d=this._adjustIndex(o),p=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],Nr(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const p=i[17];null!==p&&o!==p&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(p,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,p,d);const y=je(d,p),E=u[11],C=Cf(E,p[7]);return null!==C&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,yl(r,u,o,1,c,d)}(c,p[6],E,u,C,y),i.attachToViewContainerRef(),Nr(jv(p),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Zb(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=wg(this._lContainer,o);u&&(Ks(jv(this._lContainer),o),If(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=wg(this._lContainer,o);return u&&null!=Ks(jv(this._lContainer),o)?new dp(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Zb(r){return r[8]}function jv(r){return r[8]||(r[8]=[])}function $v(r,i){let o;const u=i[r.index];if(vn(u))o=u;else{let c;if(8&r.type)c=Dt(u);else{const d=i[11];c=d.createComment("");const p=ni(r,i);pl(d,Cf(d,p),c,function(r,i){return En(r)?r.nextSibling(i):i.nextSibling}(d,p),!1)}i[r.index]=o=Wd(u,i,c,r),sr(i,o)}return new Fm(o,r,i)}const Cc={};class Tp extends vc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=dr(i);return new Xv(o,this.ngModule)}}function zm(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const Jv=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lE});class Xv extends Rv{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(DE).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return zm(this.componentDef.inputs)}get outputs(){return zm(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,Cc,c);return d!==Cc||u===Cc?d:i.get(o,u,c)}}}(i,c.injector):i,p=d.get(up,ho),y=d.get(Om,null),E=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=u?function(r,i,o){if(En(r))return r.selectRootElement(i,o===an.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(E,u,this.componentDef.encapsulation):vg(p.createRenderer(null,this.componentDef),C,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(C)),R=this.componentDef.onPush?576:528,N=function(r,i){return{components:[],scheduler:r||lE,clean:GE,playerHandler:i||null,flags:0}}(),j=Rf(0,null,null,1,0,null,null,null,null,null),W=Is(null,j,N,R,null,null,p,E,y,d);let ge,ne;yo(W);try{const Ve=function(r,i,o,u,c,d){const p=o[1];o[20]=r;const E=wl(p,20,2,"#host",null),C=E.mergedAttrs=i.hostAttrs;null!==C&&(Il(E,C,!0),null!==r&&(ta(c,r,C),null!==E.classes&&Le(c,r,E.classes),null!==E.styles&&Ee(c,r,E.styles)));const D=u.createRenderer(r,i),R=Is(o,Hd(i),null,i.onPush?64:16,o[20],E,u,D,d||null,null);return p.firstCreatePass&&(Ws(pn(E,o),p,i.type),Mf(p,E),BE(E,o.length,1)),sr(o,R),o[20]=R}(D,this.componentDef,W,p,E);if(D)if(u)ta(E,D,["ng-version",Nv.full]);else{const{attrs:Ae,classes:ut}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!Hn(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ae&&ta(E,D,Ae),ut&&ut.length>0&&Le(E,D,ut.join(" "))}if(ne=Vs(j,20),void 0!==o){const Ae=ne.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const bt=o[ut];Ae.push(null!=bt?Array.from(bt):null)}}ge=function(r,i,o,u,c){const d=o[1],p=function(r,i,o){const u=On();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),f_(r,u,i,nu(r,i,1,null),o));const c=es(i,r,u.directiveStart,u);Ii(c,i);const d=ni(u,i);return d&&Ii(d,i),c}(d,o,i);if(u.components.push(p),r[8]=p,c&&c.forEach(E=>E(p,i)),i.contentQueries){const E=On();i.contentQueries(1,p,E.directiveStart)}const y=On();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ii(y.index),d_(o[1],y,0,y.directiveStart,y.directiveEnd,i),yr(i,p)),p}(Ve,this.componentDef,W,N,[Dl]),sc(j,W,null)}finally{Zh()}return new cA(this.componentType,ge,gu(ne,W),W,ne)}}class cA extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new SD(c),this.componentType=i}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Eh=new Map;class e0 extends hh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tp(this);const u=vr(i),c=i[ee]||null;c&&yv(c),this._bootstrapComponents=Oo(u.bootstrap),this._r3Injector=XE(i,o,[{provide:hh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],K(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=An.THROW_IF_NOT_FOUND,u=Pe.Default){return i===An||i===hh||i===Qd?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Gm extends Hb{constructor(i){super(),this.moduleType=i,null!==vr(i)&&function(r){const i=new Set;!function o(u){const c=vr(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${K(i)} vs ${K(i.name)}`)}(d,Eh.get(d),u),Eh.set(d,u));const p=Oo(c.imports);for(const y of p)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new e0(this.moduleType,i)}}function _I(r,i,o,u,c,d){const p=i+o;return xi(r,p,c)?function(r,i,o){return r[i]=o}(r,p+1,d?u.call(d,c):u(c)):function(r,i){const o=r[i];return o===vt?void 0:o}(r,p+1)}function Ym(r,i){const o=Mt();let u;const c=r+20;o.firstCreatePass?(u=function(r,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(r===u.name)return u}throw new le("302",`The pipe '${r}' could not be found!`)}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=yi(u.type)),p=un(gc);try{const y=ws(!1),E=d();return ws(y),function(r,i,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=u}(o,Ne(),c,E),E}finally{un(p)}}function vI(r,i,o){const u=r+20,c=Ne(),d=function(r,i){return r[i]}(c,u);return function(r,i){Si.isWrapped(i)&&(i=Si.unwrap(i),r[ht.lFrame.bindingIndex]=vt);return i}(c,function(r,i){return r[1].data[i].pure}(c,u)?_I(c,function(){const r=ht.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),i,d.transform,o,d):d.transform(o))}function EI(r){return i=>{setTimeout(r,void 0,i)}}const Eu=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,p;let y=i,E=o||(()=>null),C=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),E=null===(d=R.error)||void 0===d?void 0:d.bind(R),C=null===(p=R.complete)||void 0===p?void 0:p.bind(R)}this.__isAsync&&(E=EI(E),y&&(y=EI(y)),C&&(C=EI(C)));const D=super.subscribe({next:y,error:E,complete:C});return i instanceof B.w&&i.add(D),D}};function hR(){return this._results[Fo()]()}class r0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fo(),u=r0.prototype;u[o]||(u[o]=hR)}get changes(){return this._changes||(this._changes=new Eu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Mr(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jm{constructor(i){this.queryList=i,this.matches=null}clone(){return new Jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xm{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const p=o.getByIndex(d);c.push(this.queries[p.indexInDeclarationView].clone())}return new Xm(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==d0(i,o).matches&&this.queries[o].setDirty()}}class s0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class ey{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new ey(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ty{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ty(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,wI(o,d)),this.matchTNodeWithReadOption(i,o,gt(o,i,d,!1,!1))}else u===fp?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,gt(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ci||c===pp||c===fp&&4&o.type)this.addMatch(o.index,-2);else{const d=gt(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function wI(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function fR(r,i,o,u){return-1===o?function(r,i){return 11&r.type?gu(r,i):4&r.type?km(r,i):null}(i,r):-2===o?function(r,i,o){return o===ci?gu(i,r):o===fp?km(i,r):o===pp?$v(i,r):void 0}(r,i,u):es(r,r[1],o,i)}function o0(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,p=o.matches,y=[];for(let E=0;E<p.length;E+=2){const C=p[E];y.push(C<0?null:fR(i,d[C],p[E+1],o.metadata.read))}c.matches=y}return c.matches}function a0(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const p=o0(r,i,c,o);for(let y=0;y<d.length;y+=2){const E=d[y];if(E>0)u.push(p[y/2]);else{const C=d[y+1],D=i[-E];for(let R=10;R<D.length;R++){const N=D[R];N[17]===N[3]&&a0(N[1],N,C,u)}if(null!==D[9]){const R=D[9];for(let N=0;N<R.length;N++){const j=R[N];a0(j[1],j,C,u)}}}}}return u}function ny(r){const i=Ne(),o=Mt(),u=$c();hd(u+1);const c=d0(o,u);if(r.dirty&&Wo(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?a0(o,i,u,[]):o0(o,i,c,u);r.reset(d,Fb),r.notifyOnChanges()}return!0}return!1}function u0(r,i,o,u){const c=Mt();if(c.firstCreatePass){const d=On();(function(r,i,o){null===r.queries&&(r.queries=new ey),r.queries.track(new ty(i,o))})(c,new s0(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new r0(4==(4&o));c_(r,i,u,u.destroy),null===i[19]&&(i[19]=new Xm),i[19].queries.push(new Jm(u))}(c,Ne(),o)}function II(){return r=Ne(),i=$c(),r[19].queries[i].queryList;var r,i}function d0(r,i){return r.queries.getByIndex(i)}const bu=new ln("Application Initializer");let Ch=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Ec,this.reject=Ec,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Nl(d))o.push(d);else if(Jg(d)){const p=new Promise((y,E)=>{d.subscribe({complete:y,error:E})});o.push(p)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Pn(bu,8))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const ay=new ln("AppId"),WA={provide:ay,useFactory:function(){return`${Th()}${Th()}${Th()}`},deps:[]};function Th(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dh=new ln("Platform Initializer"),E0=new ln("Platform ID"),Np=new ln("appBootstrapListener");let uy=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const Xl=new ln("LocaleId"),w0=new ln("DefaultCurrencyCode");class QA{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const I0=function(r){return new Gm(r)},qI=I0,Iu=function(r){return Promise.resolve(I0(r))},C0=function(r){const i=I0(r),u=Oo(vr(r).declarations).reduce((c,d)=>{const p=dr(d);return p&&c.push(new Xv(p)),c},[]);return new QA(i,u)},GI=C0,WI=function(r){return Promise.resolve(C0(r))};let kp=(()=>{class r{constructor(){this.compileModuleSync=qI,this.compileModuleAsync=Iu,this.compileModuleAndAllComponentsSync=GI,this.compileModuleAndAllComponentsAsync=WI}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();const T0=(()=>Promise.resolve(0))();function hy(r){"undefined"==typeof Zone?T0.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class zi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=$.requestAnimationFrame,i=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call($,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,A0(r),r.isCheckStableRunning=!0,Ah(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),A0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,p,y)=>{try{return QI(r),o.invokeTask(c,d,p,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),Fp(r)}},onInvoke:(o,u,c,d,p,y,E)=>{try{return QI(r),o.invoke(c,d,p,y,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),Fp(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,A0(r),Ah(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+c,i,JA,Ec,Ec);try{return d.runTask(p,o,u)}finally{d.cancelTask(p)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const JA={};function Ah(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function A0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function QI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Fp(r){r._nesting--,Ah(r)}class Lp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let fy=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),hy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Pn(zi))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})(),S0=(()=>{class r{constructor(){this._applications=new Map,Up.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Up.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();class JI{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function eS(r){Up=r}let Up=new JI,XI=!0,eC=!1;function x0(){return eC=!0,XI}function tC(){if(eC)throw new Error("Cannot enable prod mode after platform setup.");XI=!1}let fs;const py=new ln("AllowMultipleToken");class Tc{constructor(i,o){this.name=i,this.token=o}}function Dc(r,i,o=[]){const u=`Platform: ${i}`,c=new ln(u);return(d=[])=>{let p=iC();if(!p||p.injector.get(py,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:Jd,useValue:"platform"});!function(r){if(fs&&!fs.destroyed&&!fs.injector.get(py,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fs=r.get(sC);const i=r.get(Dh,null);i&&i.forEach(o=>o())}(An.create({providers:y,name:u}))}return function(r){const i=iC();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function iC(){return fs&&!fs.destroyed?fs:null}let sC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new Lp:("zone.js"===r?void 0:r)||new zi({enableLongStackTrace:x0(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:zi,useValue:y}];return y.run(()=>{const C=An.create({providers:E,parent:this.injector,name:o.moduleType.name}),D=o.create(C),R=D.injector.get(Pd,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:j=>{R.handleError(j)}});D.onDestroy(()=>{O0(this._modules,D),N.unsubscribe()})}),function(r,i,o){try{const u=o();return Nl(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const N=D.injector.get(Ch);return N.runInitializers(),N.donePromise.then(()=>(yv(D.injector.get(Xl,vm)||vm),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const c=R0({},u);return function(r,i,o){const u=new Gm(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Sh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Pn(An))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();function R0(r,i){return Array.isArray(i)?i.reduce(R0,r):Object.assign(Object.assign({},r),i)}let Sh=(()=>{class r{constructor(o,u,c,d,p){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new O.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{zi.assertNotInAngularZone(),hy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{zi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ue.T)(y,E.pipe(r=>(0,he.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,se.N);return d.source=u,d.subjectFactory=c,d}}(Y)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Rv?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(hh),y=c.create(An.NULL,[],u||c.selector,d),E=y.location.nativeElement,C=y.injector.get(fy,null),D=C&&y.injector.get(S0);return C&&D&&D.registerApplication(E,C),y.onDestroy(()=>{this.detachView(y.hostView),O0(this.components,y),D&&D.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;O0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Np,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Pn(zi),Pn(An),Pn(Pd),Pn(vc),Pn(Ch))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();function O0(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class so{}class fS{}const pS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gy=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||pS}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),L(8255)(u).then(d=>d[c]).then(d=>P0(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(p=>p[c+d]).then(p=>P0(p,u,c))}}return r.\u0275fac=function(o){return new(o||r)(Pn(kp),Pn(fS,8))},r.\u0275prov=qt({token:r,factory:r.\u0275fac}),r})();function P0(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const wS=function(r){return null},CS=Dc(null,"core",[{provide:E0,useValue:"unknown"},{provide:sC,deps:[An]},{provide:S0,deps:[]},{provide:uy,deps:[]}]),PR=[{provide:Sh,useClass:Sh,deps:[zi,An,Pd,vc,Ch]},{provide:Jv,deps:[zi],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Ch,useClass:Ch,deps:[[new Js,bu]]},{provide:kp,useClass:kp,deps:[]},WA,{provide:Mm,useFactory:function(){return MD},deps:[]},{provide:Nm,useFactory:function(){return dh},deps:[]},{provide:Xl,useFactory:function(r){return yv(r=r||"undefined"!=typeof $localize&&$localize.locale||vm),r},deps:[[new So(Xl),new Js,new Xs]]},{provide:w0,useValue:"USD"}];let fC=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Pn(Sh))},r.\u0275mod=lr({type:r}),r.\u0275inj=Yr({providers:PR}),r})()},8939:(rt,xe,L)=>{"use strict";L.d(xe,{hO:()=>K,xv:()=>Y,Dh:()=>he,GT:()=>ae,cc:()=>oe,on:()=>k,pX:()=>se});var h=L(3018),B=L(7841),O=L(6643);rt=L.hmd(rt);const ue=["ngOnDestroy"],se=(ye,_e,le,Se={})=>new Proxy(ye,{get:(Ke,Be)=>le.runOutsideAngular(()=>{var It;if(ye[Be])return(null===(It=null==Se?void 0:Se.spy)||void 0===It?void 0:It.get)&&Se.spy.get(Be,ye[Be]),ye[Be];if(ue.indexOf(Be)>-1)return()=>{};const Ie=_e.toPromise().then(Pt=>{const ie=Pt&&Pt[Be];return"function"==typeof ie?ie.bind(Pt):ie&&ie.then?ie.then(ve=>le.run(()=>ve)):le.run(()=>ie)});return new Proxy(()=>{},{get:(Pt,ie)=>Ie[ie],apply:(Pt,ie,ve)=>Ie.then(de=>{var we;const Ue=de&&de(...ve);return(null===(we=null==Se?void 0:Se.spy)||void 0===we?void 0:we.apply)&&Se.spy.apply(Be,ve,Ue),Ue})})})}),ae=(ye,_e)=>{_e.forEach(le=>{Object.getOwnPropertyNames(le.prototype||le).forEach(Se=>{Object.defineProperty(ye.prototype,Se,Object.getOwnPropertyDescriptor(le.prototype||le,Se))})})};class Te{constructor(_e){return _e}}const he=new h.OlP("angularfire2.app.options"),Y=new h.OlP("angularfire2.app.name");function k(ye,_e,le){const Ke="object"==typeof le&&le||{};Ke.name=Ke.name||"string"==typeof le&&le||"[DEFAULT]";const It=B.Z.apps.filter(Ie=>Ie&&Ie.name===Ke.name)[0]||_e.runOutsideAngular(()=>B.Z.initializeApp(ye,Ke));try{JSON.stringify(ye)!==JSON.stringify(It.options)&&U("error",`${It.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ie){}return new Te(It)}const U=(ye,..._e)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ye](..._e)},X={provide:Te,useFactory:k,deps:[he,h.R0b,[new h.FiY,Y]]};let K=(()=>{class ye{constructor(le){B.Z.registerVersion("angularfire",O.q4.full,"core"),B.Z.registerVersion("angularfire",O.q4.full,"app-compat"),B.Z.registerVersion("angular",h.q4F.full,le.toString())}static initializeApp(le,Se){return{ngModule:ye,providers:[{provide:he,useValue:le},{provide:Y,useValue:Se}]}}}return ye.\u0275fac=function(le){return new(le||ye)(h.LFG(h.Lbi))},ye.\u0275mod=h.oAB({type:ye}),ye.\u0275inj=h.cJS({providers:[X]}),ye})();function oe(ye,_e,le,Se,Ke){const[,Be,It]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===ye)||[];if(Be)return function(ye,_e){try{return ye.toString()===_e.toString()}catch(le){return ye===_e}}(Ke,It)||(G("error",`${_e} was already initialized on the ${le} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Ke,was:It})),Be;{const Ie=Se();return globalThis.\u0275AngularfireInstanceCache.push([ye,Ie,Ke]),Ie}}const fe=!!rt.hot,G=(ye,..._e)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ye](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(rt,xe,L)=>{"use strict";L.d(xe,{q4:()=>sa,iC:()=>Wa,HU:()=>wi,vb:()=>ca,JM:()=>ua});var h=L(3018),B=L(2329),O=L(8239),ue=L(5452),se=L(3854),ae=L(6034),Te=L(5601),he=L(6676);const Y="@firebase/installations",k="0.5.2",X=`w:${k}`,K="FIS_v2",_e=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function le(b){return b instanceof se.ZR&&b.code.includes("request-failed")}function Se({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ke(b){return{token:b.token,requestStatus:2,expiresIn:de(b.expiresIn),creationTime:Date.now()}}function Be(b,T){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(b,T){const V=(yield T.json()).error;return _e.create("request-failed",{requestName:b,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ie({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Pt(b,{refreshToken:T}){const x=Ie(b);return x.append("Authorization",function(b){return`${K} ${b}`}(T)),x}function ie(b){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(b){const T=yield b();return T.status>=500&&T.status<600?b():T})).apply(this,arguments)}function de(b){return Number(b.replace("s","000"))}function Ue(b,T){return pe.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*(b,{fid:T}){const x=Se(b),me={method:"POST",headers:Ie(b),body:JSON.stringify({fid:T,authVersion:K,appId:b.appId,sdkVersion:X})},ke=yield ie(()=>fetch(x,me));if(ke.ok){const Ye=yield ke.json();return{fid:Ye.fid||T,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:Ke(Ye.authToken)}}throw yield Be("Create Installation",ke)})).apply(this,arguments)}function it(b){return new Promise(T=>{setTimeout(T,b)})}const Rn=/^[cdef][\w-]{21}$/;function kt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Rn.test(x)?x:""}catch(b){return""}}function en(b){return`${b.appName}!${b.appId}`}const ur=new Map;function Rr(b,T){const x=en(b);Cn(x,T),function(b,T){const x=(!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=b=>{Cn(b.data.key,b.data.fid)}),Gn);x&&x.postMessage({key:b,fid:T}),0===ur.size&&Gn&&(Gn.close(),Gn=null)}(x,T)}function Cn(b,T){const x=ur.get(b);if(x)for(const V of x)V(T)}let Gn=null;const Vn="firebase-installations-store";let Wi=null;function Qr(){return Wi||(Wi=(0,he.openDb)("firebase-installations-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore(Vn)}})),Wi}function Br(b,T){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(b,T){const x=en(b),J=(yield Qr()).transaction(Vn,"readwrite"),me=J.objectStore(Vn),ke=yield me.get(x);return yield me.put(T,x),yield J.complete,(!ke||ke.fid!==T.fid)&&Rr(b,T.fid),T})).apply(this,arguments)}function Bn(b){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(b){const T=en(b),V=(yield Qr()).transaction(Vn,"readwrite");yield V.objectStore(Vn).delete(T),yield V.complete})).apply(this,arguments)}function ot(b,T){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,O.Z)(function*(b,T){const x=en(b),J=(yield Qr()).transaction(Vn,"readwrite"),me=J.objectStore(Vn),ke=yield me.get(x),Ye=T(ke);return void 0===Ye?yield me.delete(x):yield me.put(Ye,x),yield J.complete,Ye&&(!ke||ke.fid!==Ye.fid)&&Rr(b,Ye.fid),Ye})).apply(this,arguments)}function Ut(b){return tn.apply(this,arguments)}function tn(){return(tn=(0,O.Z)(function*(b){let T;const x=yield ot(b,V=>{const J=un(V),me=Vt(b,J);return T=me.registrationPromise,me.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function un(b){return an(b||{fid:kt(),registrationStatus:0})}function Vt(b,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(_e.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(b,T){return We.apply(this,arguments)}(b,x)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Wn(b)}:{installationEntry:T}}function We(){return(We=(0,O.Z)(function*(b,T){try{return Br(b,yield Ue(b,T))}catch(x){throw le(x)&&409===x.customData.serverCode?yield Bn(b):yield Br(b,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Wn(b){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(b){let T=yield Jr(b);for(;1===T.registrationStatus;)yield it(100),T=yield Jr(b);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:V}=yield Ut(b);return V||x}return T})).apply(this,arguments)}function Jr(b){return ot(b,T=>{if(!T)throw _e.create("installation-not-found");return an(T)})}function an(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function ms(b,T){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*({appConfig:b,platformLoggerProvider:T},x){const V=z(b,x),J=Pt(b,x),me=T.getImmediate({optional:!0});me&&J.append("x-firebase-client",me.getPlatformInfoString());const Ye={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X}})},Qe=yield ie(()=>fetch(V,Ye));if(Qe.ok)return Ke(yield Qe.json());throw yield Be("Generate Auth Token",Qe)})).apply(this,arguments)}function z(b,{fid:T}){return`${Se(b)}/${T}/authTokens:generate`}function $(b){return De.apply(this,arguments)}function De(){return(De=(0,O.Z)(function*(b,T=!1){let x;const V=yield ot(b.appConfig,me=>{if(!Tn(me))throw _e.create("not-registered");const ke=me.authToken;if(!T&&Kn(ke))return me;if(1===ke.requestStatus)return x=ce(b,T),me;{if(!navigator.onLine)throw _e.create("app-offline");const Ye=H(me);return x=Ft(b,Ye),Ye}});return x?yield x:V.authToken})).apply(this,arguments)}function ce(b,T){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(b,T){let x=yield $e(b.appConfig);for(;1===x.authToken.requestStatus;)yield it(100),x=yield $e(b.appConfig);const V=x.authToken;return 0===V.requestStatus?$(b,T):V})).apply(this,arguments)}function $e(b){return ot(b,T=>{if(!Tn(T))throw _e.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ft(b,T){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(b,T){try{const x=yield ms(b,T),V=Object.assign(Object.assign({},T),{authToken:x});return yield Br(b.appConfig,V),x}catch(x){if(!le(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Br(b.appConfig,V)}else yield Bn(b.appConfig);throw x}})).apply(this,arguments)}function Tn(b){return void 0!==b&&2===b.registrationStatus}function Kn(b){return 2===b.requestStatus&&!function(b){const T=Date.now();return T<b.creationTime||b.creationTime+b.expiresIn<T+36e5}(b)}function H(b){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:T})}function He(){return(He=(0,O.Z)(function*(b){const T=b,{installationEntry:x,registrationPromise:V}=yield Ut(T.appConfig);return V?V.catch(console.error):$(T).catch(console.error),x.fid})).apply(this,arguments)}function St(){return(St=(0,O.Z)(function*(b,T=!1){const x=b;return yield Lt(x.appConfig),(yield $(x,T)).token})).apply(this,arguments)}function Lt(b){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*(b){const{registrationPromise:T}=yield Ut(b);T&&(yield T)})).apply(this,arguments)}function vr(b){return _e.create("missing-app-config-values",{valueName:b})}const hr="installations";(0,ue._registerComponent)(new ae.wA(hr,b=>{const T=b.getProvider("app").getImmediate();return{app:T,appConfig:function(b){if(!b||!b.options)throw vr("App Configuration");if(!b.name)throw vr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!b.options[x])throw vr(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(T),platformLoggerProvider:(0,ue._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ae.wA("installations-internal",b=>{const T=b.getProvider("app").getImmediate(),x=(0,ue._getProvider)(T,hr).getImmediate();return{getId:()=>function(b){return He.apply(this,arguments)}(x),getToken:J=>function(b){return St.apply(this,arguments)}(x,J)}},"PRIVATE")),(0,ue.registerVersion)(Y,k),(0,ue.registerVersion)(Y,k,"esm2017");const Er="@firebase/remote-config",jn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ma{constructor(T,x,V,J){this.client=T,this.storage=x,this.storageCache=V,this.logger=J}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-x,J=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var x=this;return(0,O.Z)(function*(){const[V,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(T.cacheMaxAgeMillis,V))return J;T.eTag=J&&J.eTag;const me=yield x.client.fetch(T),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(ke),me})()}}function fr(b=navigator){return b.languages&&b.languages[0]||b.language}class vn{constructor(T,x,V,J,me,ke){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=V,this.projectId=J,this.apiKey=me,this.appId=ke}fetch(T){var x=this;return(0,O.Z)(function*(){const[V,J]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Qe={sdk_version:x.sdkVersion,app_instance_id:V,app_instance_id_token:J,app_id:x.appId,language_code:fr()},zt={method:"POST",headers:Ye,body:JSON.stringify(Qe)},Bt=fetch(ke,zt),nr=new Promise((Vi,Ys)=>{T.signal.addEventListener(()=>{const Gu=new Error("The operation was aborted.");Gu.name="AbortError",Ys(Gu)})});let gr;try{yield Promise.race([Bt,nr]),gr=yield Bt}catch(Vi){let Ys="fetch-client-network";throw"AbortError"===Vi.name&&(Ys="fetch-timeout"),jn.create(Ys,{originalErrorMessage:Vi.message})}let Nn=gr.status;const ss=gr.headers.get("ETag")||void 0;let To,bi;if(200===gr.status){let Vi;try{Vi=yield gr.json()}catch(Ys){throw jn.create("fetch-client-parse",{originalErrorMessage:Ys.message})}To=Vi.entries,bi=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?Nn=500:"NO_CHANGE"===bi?Nn=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(To={}),304!==Nn&&200!==Nn)throw jn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:ss,config:To}})()}}class xu{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,O.Z)(function*(){const V=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:V}){var J=this;return(0,O.Z)(function*(){yield function(b,T){return new Promise((x,V)=>{const J=Math.max(T-Date.now(),0),me=setTimeout(x,J);b.addEventListener(()=>{clearTimeout(me),V(jn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const me=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),me}catch(me){if(!function(b){if(!(b instanceof se.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}(me))throw me;const ke={throttleEndTimeMillis:Date.now()+(0,se.$s)(V),backoffCount:V+1};return yield J.storage.setThrottleMetadata(ke),J.attemptFetch(T,ke)}})()}}class nd{constructor(T,x,V,J,me){this.app=T,this._client=x,this._storageCache=V,this._storage=J,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ou(b,T){const x=b.target.error||void 0;return jn.create(T,{originalErrorMessage:x&&x.message})}const mi="app_namespace_store";class Ho{constructor(T,x,V,J=function(){return new Promise((b,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=V=>{T(Ou(V,"storage-open"))},x.onsuccess=V=>{b(V.target.result)},x.onupgradeneeded=V=>{const J=V.target.result;switch(V.oldVersion){case 0:J.createObjectStore(mi,{keyPath:"compositeKey"})}}}catch(x){T(jn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=V,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,O.Z)(function*(){const V=yield x.openDbPromise;return new Promise((J,me)=>{const Ye=V.transaction([mi],"readonly").objectStore(mi),Qe=x.createCompositeKey(T);try{const zt=Ye.get(Qe);zt.onerror=Bt=>{me(Ou(Bt,"storage-get"))},zt.onsuccess=Bt=>{const nr=Bt.target.result;J(nr?nr.value:void 0)}}catch(zt){me(jn.create("storage-get",{originalErrorMessage:zt&&zt.message}))}})})()}set(T,x){var V=this;return(0,O.Z)(function*(){const J=yield V.openDbPromise;return new Promise((me,ke)=>{const Qe=J.transaction([mi],"readwrite").objectStore(mi),zt=V.createCompositeKey(T);try{const Bt=Qe.put({compositeKey:zt,value:x});Bt.onerror=nr=>{ke(Ou(nr,"storage-set"))},Bt.onsuccess=()=>{me()}}catch(Bt){ke(jn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(T){var x=this;return(0,O.Z)(function*(){const V=yield x.openDbPromise;return new Promise((J,me)=>{const Ye=V.transaction([mi],"readwrite").objectStore(mi),Qe=x.createCompositeKey(T);try{const zt=Ye.delete(Qe);zt.onerror=Bt=>{me(Ou(Bt,"storage-delete"))},zt.onsuccess=()=>{J()}}catch(zt){me(jn.create("storage-delete",{originalErrorMessage:zt&&zt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Kp{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const x=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),me=yield x;me&&(T.lastFetchStatus=me);const ke=yield V;ke&&(T.lastSuccessfulFetchTimestampMillis=ke);const Ye=yield J;Ye&&(T.activeConfig=Ye)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Nc(){return Or.apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ae.wA("remote-config",function(T,{instanceIdentifier:x}){const V=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,se.hl)())throw jn.create("indexed-db-unavailable");const{projectId:me,apiKey:ke,appId:Ye}=V.options;if(!me)throw jn.create("registration-project-id");if(!ke)throw jn.create("registration-api-key");if(!Ye)throw jn.create("registration-app-id");const Qe=new Ho(Ye,V.name,x=x||"firebase"),zt=new Kp(Qe),Bt=new Te.Yd(Er);Bt.logLevel=Te.in.ERROR;const nr=new vn(J,ue.SDK_VERSION,x,me,ke,Ye),gr=new xu(nr,Qe),Nn=new Ma(gr,Qe,zt,Bt),ss=new nd(V,Nn,zt,Qe,Bt);return function(b){const T=(0,se.m9)(b);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ss),ss},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Er,"0.3.1"),(0,ue.registerVersion)(Er,"0.3.1","esm2017");const Pa="/firebase-messaging-sw.js",Mu="/firebase-cloud-messaging-push-scope",Pc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kc="google.c.a.c_id",sd="google.c.a.c_l",Ls="google.c.a.ts",Vh="google.c.a.e";var yi=(()=>{return(b=yi||(yi={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",yi;var b})();function Li(b){const T=new Uint8Array(b);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nu(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(x),J=new Uint8Array(V.length);for(let me=0;me<V.length;++me)J[me]=V.charCodeAt(me);return J}const Ir="fcm_token_details_db",$h="fcm_token_object_Store";function Fc(b){return Us.apply(this,arguments)}function Us(){return(Us=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Ir))return null;let T=null;return(yield(0,he.openDb)(Ir,5,function(){var V=(0,O.Z)(function*(J){var me;if(J.oldVersion<2||!J.objectStoreNames.contains($h))return;const ke=J.transaction.objectStore($h),Ye=yield ke.index("fcmSenderId").get(b);if(yield ke.clear(),Ye)if(2===J.oldVersion){const Qe=Ye;if(!Qe.auth||!Qe.p256dh||!Qe.endpoint)return;T={token:Qe.fcmToken,createTime:null!==(me=Qe.createTime)&&void 0!==me?me:Date.now(),subscriptionOptions:{auth:Qe.auth,p256dh:Qe.p256dh,endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:"string"==typeof Qe.vapidKey?Qe.vapidKey:Li(Qe.vapidKey)}}}else if(3===J.oldVersion){const Qe=Ye;T={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:Li(Qe.auth),p256dh:Li(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:Li(Qe.vapidKey)}}}else if(4===J.oldVersion){const Qe=Ye;T={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:Li(Qe.auth),p256dh:Li(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:Li(Qe.vapidKey)}}}});return function(J){return V.apply(this,arguments)}}())).close(),yield(0,he.deleteDb)(Ir),yield(0,he.deleteDb)("fcm_vapid_details_db"),yield(0,he.deleteDb)("undefined"),od(T)?T:null})).apply(this,arguments)}function od(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:T}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const $n="firebase-messaging-store";let qo=null;function Zo(){return qo||(qo=(0,he.openDb)("firebase-messaging-database",1,b=>{switch(b.oldVersion){case 0:b.createObjectStore($n)}})),qo}function ys(b){return _s.apply(this,arguments)}function _s(){return(_s=(0,O.Z)(function*(b){const T=ho(b),V=yield(yield Zo()).transaction($n).objectStore($n).get(T);if(V)return V;{const J=yield Fc(b.appConfig.senderId);if(J)return yield zo(b,J),J}})).apply(this,arguments)}function zo(b,T){return lo.apply(this,arguments)}function lo(){return(lo=(0,O.Z)(function*(b,T){const x=ho(b),J=(yield Zo()).transaction($n,"readwrite");return yield J.objectStore($n).put(T,x),yield J.complete,T})).apply(this,arguments)}function En(b){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(b){const T=ho(b),V=(yield Zo()).transaction($n,"readwrite");yield V.objectStore($n).delete(T),yield V.complete})).apply(this,arguments)}function ho({appConfig:b}){return b.appId}const Dt=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uc(b,T){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(b,T){const x=yield Jn(b),V=fo(T),J={method:"POST",headers:x,body:JSON.stringify(V)};let me;try{me=yield(yield fetch(vs(b.appConfig),J)).json()}catch(ke){throw Dt.create("token-subscribe-failed",{errorInfo:ke})}if(me.error)throw Dt.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw Dt.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function Go(b,T){return ni.apply(this,arguments)}function ni(){return(ni=(0,O.Z)(function*(b,T){const x=yield Jn(b),V=fo(T.subscriptionOptions),J={method:"PATCH",headers:x,body:JSON.stringify(V)};let me;try{me=yield(yield fetch(`${vs(b.appConfig)}/${T.token}`,J)).json()}catch(ke){throw Dt.create("token-update-failed",{errorInfo:ke})}if(me.error)throw Dt.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw Dt.create("token-update-no-token");return me.token})).apply(this,arguments)}function Bc(b,T){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(b,T){const V={method:"DELETE",headers:yield Jn(b)};try{const me=yield(yield fetch(`${vs(b.appConfig)}/${T}`,V)).json();if(me.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(J){throw Dt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function vs({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Jn(b){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,O.Z)(function*({appConfig:b,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function fo({p256dh:b,auth:T,endpoint:x,vapidKey:V}){const J={web:{endpoint:x,auth:T,p256dh:b}};return V!==Pc&&(J.web.applicationPubKey=V),J}const ad=6048e5;function Qi(b){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,O.Z)(function*(b){const T=yield Ua(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:T.endpoint,auth:Li(T.getKey("auth")),p256dh:Li(T.getKey("p256dh"))},V=yield ys(b.firebaseDependencies);if(V){if(ku(V.subscriptionOptions,x))return Date.now()>=V.createTime+ad?ud(b,{token:V.token,createTime:Date.now(),subscriptionOptions:x}):V.token;try{yield Bc(b.firebaseDependencies,V.token)}catch(J){console.warn(J)}return po(b.firebaseDependencies,x)}return po(b.firebaseDependencies,x)})).apply(this,arguments)}function Ko(b){return ht.apply(this,arguments)}function ht(){return(ht=(0,O.Z)(function*(b){const T=yield ys(b.firebaseDependencies);T&&(yield Bc(b.firebaseDependencies,T.token),yield En(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function ud(b,T){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,O.Z)(function*(b,T){try{const x=yield Go(b.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield zo(b.firebaseDependencies,V),x}catch(x){throw yield Ko(b),x}})).apply(this,arguments)}function po(b,T){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(b,T){const V={token:yield Uc(b,T),createTime:Date.now(),subscriptionOptions:T};return yield zo(b,V),V.token})).apply(this,arguments)}function Ua(b,T){return go.apply(this,arguments)}function go(){return(go=(0,O.Z)(function*(b,T){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nu(T)})})).apply(this,arguments)}function ku(b,T){return T.vapidKey===b.vapidKey&&T.endpoint===b.endpoint&&T.auth===b.auth&&T.p256dh===b.p256dh}function Ne(b){const T={from:b.from,collapseKey:b.collapse_key,messageId:b.fcm_message_id};return function(b,T){if(!T.notification)return;b.notification={};const x=T.notification.title;x&&(b.notification.title=x);const V=T.notification.body;V&&(b.notification.body=V);const J=T.notification.image;J&&(b.notification.image=J)}(T,b),function(b,T){!T.data||(b.data=T.data)}(T,b),function(b,T){if(!T.fcmOptions)return;b.fcmOptions={};const x=T.fcmOptions.link;x&&(b.fcmOptions.link=x);const V=T.fcmOptions.analytics_label;V&&(b.fcmOptions.analyticsLabel=V)}(T,b),T}function cd(b){return"object"==typeof b&&!!b&&kc in b}function js(b,T){const x=[];for(let V=0;V<b.length;V++)x.push(b.charAt(V)),V<T.length&&x.push(T.charAt(V));return x.join("")}function mo(b){return Dt.create("missing-app-config-values",{valueName:b})}js("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),js("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yo{constructor(T,x,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(b){if(!b||!b.options)throw mo("App Configuration Object");if(!b.name)throw mo("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const V of T)if(!x[V])throw mo(V);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:x,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Fu(b){return ld.apply(this,arguments)}function ld(){return(ld=(0,O.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Pa,{scope:Mu}),b.swRegistration.update().catch(()=>{})}catch(T){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function $s(b,T){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(b,T){if(!T&&!b.swRegistration&&(yield Fu(b)),T||!b.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");b.swRegistration=T}})).apply(this,arguments)}function Cr(b,T){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(b,T){T?b.vapidKey=T:b.vapidKey||(b.vapidKey=Pc)})).apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*(b,T){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield Cr(b,null==T?void 0:T.vapidKey),yield $s(b,null==T?void 0:T.serviceWorkerRegistration),Qi(b)})).apply(this,arguments)}function Ui(b,T,x){return jc.apply(this,arguments)}function jc(){return(jc=(0,O.Z)(function*(b,T,x){const V=dd(T);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:x[kc],message_name:x[sd],message_time:x[Ls],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dd(b){switch(b){case yi.NOTIFICATION_CLICKED:return"notification_open";case yi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jo(){return(Jo=(0,O.Z)(function*(b,T){const x=T.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===yi.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Ne(x)):b.onMessageHandler.next(Ne(x)));const V=x.data;cd(V)&&"1"===V[Vh]&&(yield Ui(b,x.messageType,V))})).apply(this,arguments)}const Uu="@firebase/messaging";function fd(){return yo.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ae.wA("messaging",b=>{const T=new Yo(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(b,T){return Jo.apply(this,arguments)}(T,x)),T},"PUBLIC")),(0,ue._registerComponent)(new ae.wA("messaging-internal",b=>{const T=b.getProvider("messaging").getImmediate();return{getToken:V=>function(b,T){return qs.apply(this,arguments)}(T,V)}},"PRIVATE")),(0,ue.registerVersion)(Uu,"0.9.2"),(0,ue.registerVersion)(Uu,"0.9.2","esm2017");const ii="analytics",sn="firebase_id",qc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",md="https://www.googletagmanager.com/gtag/js",pr=new Te.Yd("@firebase/analytics");function Vu(b){return Promise.all(b.map(T=>T.catch(x=>x)))}function Xo(b,T){const x=document.createElement("script");x.src=`${md}?l=${b}&id=${T}`,x.async=!0,document.head.appendChild(x)}function ea(b,T,x,V,J,me){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(b,T,x,V,J,me){const ke=V[J];try{if(ke)yield T[ke];else{const Qe=(yield Vu(x)).find(zt=>zt.measurementId===J);Qe&&(yield T[Qe.appId])}}catch(Ye){pr.error(Ye)}b("config",J,me)})).apply(this,arguments)}function yd(b,T,x,V,J){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,O.Z)(function*(b,T,x,V,J){try{let me=[];if(J&&J.send_to){let ke=J.send_to;Array.isArray(ke)||(ke=[ke]);const Ye=yield Vu(x);for(const Qe of ke){const zt=Ye.find(nr=>nr.measurementId===Qe),Bt=zt&&T[zt.appId];if(!Bt){me=[];break}me.push(Bt)}}0===me.length&&(me=Object.values(T)),yield Promise.all(me),b("event",V,J||{})}catch(me){pr.error(me)}})).apply(this,arguments)}function Wh(){const b=window.document.getElementsByTagName("script");for(const T of Object.values(b))if(T.src&&T.src.includes(md))return T;return null}const Xn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yh=new class{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function er(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ta(b){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(b){var T;const{appId:x,apiKey:V}=b,J={method:"GET",headers:er(V)},me=qc.replace("{app-id}",x),ke=yield fetch(me,J);if(200!==ke.status&&304!==ke.status){let Ye="";try{const Qe=yield ke.json();(null===(T=Qe.error)||void 0===T?void 0:T.message)&&(Ye=Qe.error.message)}catch(Qe){}throw Xn.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Ye})}return ke.json()})).apply(this,arguments)}function vd(b){return vo.apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(b,T=Yh,x){const{appId:V,apiKey:J,measurementId:me}=b.options;if(!V)throw Xn.create("no-app-id");if(!J){if(me)return{measurementId:me,appId:V};throw Xn.create("no-api-key")}const ke=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new zs;return setTimeout((0,O.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),Ed({appId:V,apiKey:J,measurementId:me},ke,Ye,T)})).apply(this,arguments)}function Ed(b,T,x){return ju.apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(b,{throttleEndTimeMillis:T,backoffCount:x},V,J=Yh){const{appId:me,measurementId:ke}=b;try{yield na(V,T)}catch(Ye){if(ke)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:me,measurementId:ke};throw Ye}try{const Ye=yield ta(b);return J.deleteThrottleMetadata(me),Ye}catch(Ye){if(!Qh(Ye)){if(J.deleteThrottleMetadata(me),ke)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Ye.message}]`),{appId:me,measurementId:ke};throw Ye}const Qe=503===Number(Ye.customData.httpStatus)?(0,se.$s)(x,J.intervalMillis,30):(0,se.$s)(x,J.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Qe,backoffCount:x+1};return J.setThrottleMetadata(me,zt),pr.debug(`Calling attemptFetch again in ${Qe} millis`),Ed(b,zt,V,J)}})).apply(this,arguments)}function na(b,T){return new Promise((x,V)=>{const J=Math.max(T-Date.now(),0),me=setTimeout(x,J);b.addEventListener(()=>{clearTimeout(me),V(Xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Qh(b){if(!(b instanceof se.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}class zs{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function zc(){return ws.apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(){if(!(0,se.hl)())return pr.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(b){return pr.warn(Xn.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function Wc(){return(Wc=(0,O.Z)(function*(b,T,x,V,J,me,ke){var Ye;const Qe=vd(b);Qe.then(Nn=>{x[Nn.measurementId]=Nn.appId,b.options.measurementId&&Nn.measurementId!==b.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>pr.error(Nn)),T.push(Qe);const zt=zc().then(Nn=>{if(Nn)return V.getId()}),[Bt,nr]=yield Promise.all([Qe,zt]);Wh()||Xo(me,Bt.measurementId),J("js",new Date);const gr=null!==(Ye=null==ke?void 0:ke.config)&&void 0!==Ye?Ye:{};return gr.origin="firebase",gr.update=!0,null!=nr&&(gr[sn]=nr),J("config",Bt.measurementId,gr),Bt.measurementId})).apply(this,arguments)}class jr{constructor(T){this.app=T}_delete(){return delete Xi[this.app.options.appId],Promise.resolve()}}let Xi={},si=[];const pn={};let Gs,Ws,st="dataLayer",$u=!1;function Ei(b,T,x){!function(){const b=[];if((0,se.ru)()&&b.push("This is a browser extension environment."),(0,se.zI)()||b.push("Cookies are not available."),b.length>0){const T=b.map((V,J)=>`(${J+1}) ${V}`).join(" "),x=Xn.create("invalid-analytics-context",{errorInfo:T});pr.warn(x.message)}}();const V=b.options.appId;if(!V)throw Xn.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Xn.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xi[V])throw Xn.create("already-exists",{id:V});if(!$u){!function(b){let T=[];Array.isArray(window[b])?T=window[b]:window[b]=T}(st);const{wrappedGtag:me,gtagCore:ke}=function(b,T,x,V,J){let me=function(...ke){window[V].push(arguments)};return window[J]&&"function"==typeof window[J]&&(me=window[J]),window[J]=function(b,T,x,V){function me(){return(me=(0,O.Z)(function*(ke,Ye,Qe){try{"event"===ke?yield yd(b,T,x,Ye,Qe):"config"===ke?yield ea(b,T,x,V,Ye,Qe):b("set",Ye)}catch(zt){pr.error(zt)}})).apply(this,arguments)}return function(ke,Ye,Qe){return me.apply(this,arguments)}}(me,b,T,x),{gtagCore:me,wrappedGtag:window[J]}}(Xi,si,pn,st,"gtag");Ws=me,Gs=ke,$u=!0}return Xi[V]=function(b,T,x,V,J,me,ke){return Wc.apply(this,arguments)}(b,si,pn,T,Gs,st,x),new jr(b)}function qa(){return(qa=(0,O.Z)(function*(b,T,x,V,J){if(J&&J.global)b("event",x,V);else{const me=yield T;b("event",x,Object.assign(Object.assign({},V),{send_to:me}))}})).apply(this,arguments)}function ia(){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(b){return!1}})).apply(this,arguments)}const Ot="@firebase/analytics";(0,ue._registerComponent)(new ae.wA(ii,(T,{options:x})=>Ei(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new ae.wA("analytics-internal",function(T){try{const x=T.getProvider(ii).getImmediate();return{logEvent:(V,J,me)=>function(b,T,x,V){b=(0,se.m9)(b),function(b,T,x,V,J){return qa.apply(this,arguments)}(Ws,Xi[b.app.options.appId],T,x,V).catch(J=>pr.error(J))}(x,V,J,me)}}catch(x){throw Xn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(Ot,"0.7.2"),(0,ue.registerVersion)(Ot,"0.7.2","esm2017");var Xe=L(7771),ln=L(3637),yt=L(3342),Io=L(3101),Id=L(309);const sa=new h.GfV("7.1.1"),oa="__angularfire_symbol__analyticsIsSupported",Zu="__angularfire_symbol__remoteConfigIsSupported",yn="__angularfire_symbol__messagingIsSupported";function ua(b,T,x){if(T){if(1===T.length)return T[0];const me=T.filter(ke=>ke.app===x);if(1===me.length)return me[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[oa]||(globalThis[oa]=ia().then(b=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=b)),globalThis[yn]||(globalThis[yn]=fd().then(b=>globalThis.__angularfire_symbol__messagingIsSupportedValue=b)),globalThis[Zu]||(globalThis[Zu]=Nc().then(b=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=b));const ca=(b,T)=>{const x=T?[T]:(0,B.C6)(),V=[];return x.forEach(J=>{J.container.getProvider(b).instances.forEach(ke=>{V.includes(ke)||V.push(ke)})}),V};function la(){}class Cd{constructor(T,x=Xe.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,V){const J=this.zone;return this.delegate.schedule(function(ke){J.runGuarded(()=>{T.apply(this,[ke])})},x,V)}}class Mr{constructor(T){this.zone=T,this.task=null}call(T,x){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),x.pipe((0,yt.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wi=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Cd(Zone.current)),this.insideAngular=x.run(()=>new Cd(Zone.current,ln.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Nr(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Wa(b){return Nr(),function(b){return function(x){return(x=x.lift(new Mr(b.ngZone))).pipe((0,Io.R)(b.outsideAngular),(0,Id.QV)(b.insideAngular))}}(Nr())(b)}},4486:(rt,xe,L)=>{"use strict";L.d(xe,{Z:()=>Ce});var h=L(3854),B=L(6034),O=L(5452),ue=L(5601);class se{constructor(G,ye){this._delegate=G,this.firebase=ye,(0,O._addComponent)(G,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(G,ye=O._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const le=this._delegate.container.getProvider(G);return!le.isInitialized()&&"EXPLICIT"===(null===(_e=le.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&le.initialize(),le.getImmediate({identifier:ye})}_removeServiceInstance(G,ye=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(ye)}_addComponent(G){(0,O._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,O._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function Y(){const fe=function(fe){const G={},ye={__esModule:!0,initializeApp:function(Ie,Pt={}){const ie=O.initializeApp(Ie,Pt);if((0,h.r3)(G,ie.name))return G[ie.name];const ve=new fe(ie,ye);return G[ie.name]=ve,ve},app:le,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(Ie){const Pt=Ie.name,ie=Pt.replace("-compat","");if(O._registerComponent(Ie)&&"PUBLIC"===Ie.type){const ve=(de=le())=>{if("function"!=typeof de[ie])throw Te.create("invalid-app-argument",{appName:Pt});return de[ie]()};void 0!==Ie.serviceProps&&(0,h.ZB)(ve,Ie.serviceProps),ye[ie]=ve,fe.prototype[ie]=function(...de){return this._getService.bind(this,Pt).apply(this,Ie.multipleInstances?de:[])}}return"PUBLIC"===Ie.type?ye[ie]:null},removeApp:function(Ie){delete G[Ie]},useAsService:function(Ie,Pt){return"serverAuth"===Pt?null:Pt},modularAPIs:O}};function le(Ie){if(!(0,h.r3)(G,Ie=Ie||O._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ie});return G[Ie]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function(){return Object.keys(G).map(Ie=>G[Ie])}}),le.App=fe,ye}(se);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(ye){(0,h.ZB)(fe,ye)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),fe}(),U=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=k;(0,O.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(rt,xe,L)=>{"use strict";L.r(xe),L.d(xe,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ns,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>en,_addOrOverwriteComponent:()=>ur,_apps:()=>kt,_clearComponents:()=>Cn,_components:()=>Un,_getProvider:()=>pt,_registerComponent:()=>Rr,_removeServiceInstance:()=>lt,deleteApp:()=>Wi,getApp:()=>cr,getApps:()=>Vn,initializeApp:()=>Yr,onLog:()=>xt,registerVersion:()=>Br,setLogLevel:()=>Bn});var h=L(8239),B=L(6034),O=L(5601),ue=L(3854);class se{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(Ut=>{if(function(ot){const Pe=ot.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(Ut)){const tn=Ut.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(Ut=>Ut).join(" ")}}const Te="@firebase/app",Y=new O.Yd("@firebase/app"),Rn="[DEFAULT]",Et={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,Un=new Map;function en(ot,Pe){try{ot.container.addComponent(Pe)}catch(Ut){Y.debug(`Component ${Pe.name} failed to register with FirebaseApp ${ot.name}`,Ut)}}function ur(ot,Pe){ot.container.addOrOverwriteComponent(Pe)}function Rr(ot){const Pe=ot.name;if(Un.has(Pe))return Y.debug(`There were multiple attempts to register component ${Pe}.`),!1;Un.set(Pe,ot);for(const Ut of kt.values())en(Ut,ot);return!0}function pt(ot,Pe){return ot.container.getProvider(Pe)}function lt(ot,Pe,Ut=Rn){pt(ot,Pe).clearInstance(Ut)}function Cn(){Un.clear()}const Gn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class qt{constructor(Pe,Ut,tn){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},Ut),this._name=Ut.name,this._automaticDataCollectionEnabled=Ut.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Ns="9.1.3";function Yr(ot,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const Ut=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},Pe),tn=Ut.name;if("string"!=typeof tn||!tn)throw Gn.create("bad-app-name",{appName:String(tn)});const un=kt.get(tn);if(un){if((0,ue.vZ)(ot,un.options)&&(0,ue.vZ)(Ut,un.config))return un;throw Gn.create("duplicate-app",{appName:tn})}const Vt=new B.H0(tn);for(const We of Un.values())Vt.addComponent(We);const Je=new qt(ot,Ut,Vt);return kt.set(tn,Je),Je}function cr(ot=Rn){const Pe=kt.get(ot);if(!Pe)throw Gn.create("no-app",{appName:ot});return Pe}function Vn(){return Array.from(kt.values())}function Wi(ot){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(ot){const Pe=ot.name;kt.has(Pe)&&(kt.delete(Pe),yield Promise.all(ot.container.getProviders().map(Ut=>Ut.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Br(ot,Pe,Ut){var tn;let un=null!==(tn=Et[ot])&&void 0!==tn?tn:ot;Ut&&(un+=`-${Ut}`);const Vt=un.match(/\s|\//),Je=Pe.match(/\s|\//);if(Vt||Je){const We=[`Unable to register library "${un}" with version "${Pe}":`];return Vt&&We.push(`library name "${un}" contains illegal characters (whitespace or "/")`),Vt&&Je&&We.push("and"),Je&&We.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Y.warn(We.join(" "))}Rr(new B.wA(`${un}-version`,()=>({library:un,version:Pe}),"VERSION"))}function xt(ot,Pe){if(null!==ot&&"function"!=typeof ot)throw Gn.create("invalid-log-argument");(0,O.Am)(ot,Pe)}function Bn(ot){(0,O.Ub)(ot)}Rr(new B.wA("platform-logger",Pe=>new se(Pe),"PRIVATE")),Br(Te,"0.7.4",""),Br(Te,"0.7.4","esm2017"),Br("fire-js","")},1243:(rt,xe,L)=>{"use strict";L.d(xe,{$:()=>ad,A:()=>U,E:()=>Ze,G:()=>fn,I:()=>ei,K:()=>Kn,L:()=>Nc,M:()=>Pc,N:()=>id,P:()=>ef,Q:()=>kc,R:()=>Ot,T:()=>Mu,V:()=>yi,W:()=>$h,X:()=>ho,Y:()=>Dt,Z:()=>Vc,_:()=>Vs,a:()=>Xn,a0:()=>Pu,a1:()=>ht,a2:()=>Bs,a3:()=>La,a4:()=>go,a5:()=>Ne,a6:()=>Mt,a7:()=>On,a8:()=>cd,a9:()=>Yo,aA:()=>bi,aB:()=>x,aC:()=>hr,aG:()=>vi,aJ:()=>Ls,aa:()=>ld,ab:()=>Hs,ae:()=>qs,af:()=>jc,ag:()=>dd,aj:()=>Hh,ak:()=>pd,am:()=>Gh,an:()=>Bu,ao:()=>Rt,ap:()=>ie,aq:()=>In,ar:()=>Lt,as:()=>le,at:()=>uf,au:()=>Jp,av:()=>Se,aw:()=>Ie,ax:()=>de,ay:()=>ee,az:()=>Hr,b:()=>Wh,c:()=>Cd,d:()=>Ks,e:()=>wi,f:()=>me,g:()=>nr,h:()=>Qe,i:()=>Kc,j:()=>ss,k:()=>tl,l:()=>yt,m:()=>nl,n:()=>Md,o:()=>he,r:()=>Id,s:()=>Xe,u:()=>Xh,z:()=>oe});var h=L(8239),B=L(3854),O=L(5452),ue=L(4762),se=L(5601),ae=L(6034);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const oe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new se.Yd("@firebase/auth");function _e(v,...g){ye.logLevel<=se.in.ERROR&&ye.error(`Auth (${O.SDK_VERSION}): ${v}`,...g)}function le(v,...g){throw It(v,...g)}function Se(v,...g){return It(v,...g)}function Ke(v,g,m){const w=Object.assign(Object.assign({},Ce()),{[g]:m});return new B.LL("auth","Firebase",w).create(g,{appName:v.name})}function Be(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&le(v,"argument-error"),Ke(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(v,...g){if("string"!=typeof v){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return fe.create(v,...g)}function Ie(v,g,...m){if(!v)throw It(g,...m)}function Pt(v){const g="INTERNAL ASSERTION FAILED: "+v;throw _e(g),new Error(g)}function ie(v,g){v||Pt(g)}const ve=new Map;function de(v){ie(v instanceof Function,"Expected a class definition");let g=ve.get(v);return g?(ie(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,ve.set(v,g),g)}function pe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function it(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class kt{constructor(g,m){this.shortDelay=g,this.longDelay=m,ie(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Un(v,g){ie(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class en{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rr=new kt(3e4,6e4);function pt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function lt(v,g,m,w){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(v,g,m,w,S={}){return Ms(v,S,()=>{let P={},re={};w&&("GET"===g?re=w:P={body:JSON.stringify(w)});const Fe=(0,B.xO)(Object.assign({key:v.config.apiKey},re)).slice(1),tt=new(en.headers());return tt.set("Content-Type","application/json"),tt.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&tt.set("X-Firebase-Locale",v.languageCode),en.fetch()(Yr(v,v.config.apiHost,m,Fe),Object.assign({method:g,headers:tt,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function Ms(v,g,m){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(v,g,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ur),g);try{const S=new cr(v),P=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const re=yield P.json();if("needConfirmation"in re)throw Vn(v,"account-exists-with-different-credential",re);if(P.ok&&!("errorMessage"in re))return re;{const Fe=P.ok?re.errorMessage:re.error.message,[tt,ct]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw Vn(v,"credential-already-in-use",re);if("EMAIL_EXISTS"===tt)throw Vn(v,"email-already-in-use",re);const Nt=w[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw Ke(v,Nt,ct);le(v,Nt)}}catch(S){if(S instanceof B.ZR)throw S;le(v,"network-request-failed")}})).apply(this,arguments)}function qt(v,g,m,w){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(v,g,m,w,S={}){const P=yield lt(v,g,m,w,S);return"mfaPendingCredential"in P&&le(v,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function Yr(v,g,m,w){const S=`${g}${m}?${w}`;return v.config.emulator?Un(v.config,S):`${v.config.apiScheme}://${S}`}class cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"timeout")),Rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(v,g,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Se(v,g,w);return S.customData._tokenResponse=m,S}function Qr(){return(Qr=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Br(v,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bn(v,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ot(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function tn(){return(tn=(0,h.Z)(function*(v,g=!1){const m=(0,B.m9)(v),w=yield m.getIdToken(g),S=Vt(w);Ie(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,re=null==P?void 0:P.sign_in_provider;return{claims:S,token:w,authTime:ot(un(S.auth_time)),issuedAtTime:ot(un(S.iat)),expirationTime:ot(un(S.exp)),signInProvider:re||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function un(v){return 1e3*Number(v)}function Vt(v){const[g,m,w]=v.split(".");if(void 0===g||void 0===m||void 0===w)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(m);return S?JSON.parse(S):(_e("Failed to decode base64 JWT payload"),null)}catch(S){return _e("Caught error parsing JWT payload as JSON",S),null}}function We(v,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof B.ZR&&gs(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function gs({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Jr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,h.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class an{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(v){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(v){var g;const m=v.auth,w=yield v.getIdToken(),S=yield We(v,Bn(m,{idToken:w}));Ie(null==S?void 0:S.users.length,m,"internal-error");const P=S.users[0];v._notifyReloadListener(P);const re=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?De(P.providerUserInfo):[],Fe=$(v.providerData,re),Nt=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==Fe?void 0:Fe.length)),jt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Fe,metadata:new an(P.createdAt,P.lastLoginAt),isAnonymous:Nt};Object.assign(v,jt)})).apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(v){const g=(0,B.m9)(v);yield Zt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function $(v,g){return[...v.filter(w=>!g.some(S=>S.providerId===w.providerId)),...g]}function De(v){return v.map(g=>{var{providerId:m}=g,w=(0,ue._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ge(){return(Ge=(0,h.Z)(function*(v,g){const m=yield Ms(v,{},()=>{const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:P}=v.config,re=Yr(v,S,"/v1/token",`key=${P}`);return en.fetch()(re,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(void 0!==g.idToken,"internal-error"),Ie(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(v){const g=Vt(v);return Ie(g,"internal-error"),Ie(void 0!==g.exp,"internal-error"),Ie(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,h.Z)(function*(){return Ie(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,h.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:re}=yield function(v,g){return Ge.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(S,P,Number(re))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:S,expirationTime:P}=m,re=new $e;return w&&(Ie("string"==typeof w,"internal-error",{appName:g}),re.refreshToken=w),S&&(Ie("string"==typeof S,"internal-error",{appName:g}),re.accessToken=S),P&&(Ie("number"==typeof P,"internal-error",{appName:g}),re.expirationTime=P),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $e,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function Ft(v,g){Ie("string"==typeof v||void 0===v,"internal-error",{appName:g})}class cn{constructor(g){var{uid:m,auth:w,stsTokenManager:S}=g,P=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new an(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,h.Z)(function*(){const w=yield We(m,m.stsTokenManager.getToken(m.auth,g));return Ie(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function(v){return tn.apply(this,arguments)}(this,g)}reload(){return function(v){return z.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new cn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,h.Z)(function*(){let S=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),S=!0),m&&(yield Zt(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,h.Z)(function*(){const m=yield g.getIdToken();return yield We(g,function(v,g){return Qr.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,S,P,re,Fe,tt,ct,Nt;const jt=null!==(w=m.displayName)&&void 0!==w?w:void 0,os=null!==(S=m.email)&&void 0!==S?S:void 0,as=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Qa=null!==(re=m.photoURL)&&void 0!==re?re:void 0,hf=null!==(Fe=m.tenantId)&&void 0!==Fe?Fe:void 0,rl=null!==(tt=m._redirectEventId)&&void 0!==tt?tt:void 0,tg=null!==(ct=m.createdAt)&&void 0!==ct?ct:void 0,ff=null!==(Nt=m.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:bs,emailVerified:il,isAnonymous:Bi,providerData:Ro,stsTokenManager:Xu}=m;Ie(bs&&Xu,g,"internal-error");const ec=$e.fromJSON(this.name,Xu);Ie("string"==typeof bs,g,"internal-error"),Ft(jt,g.name),Ft(os,g.name),Ie("boolean"==typeof il,g,"internal-error"),Ie("boolean"==typeof Bi,g,"internal-error"),Ft(as,g.name),Ft(Qa,g.name),Ft(hf,g.name),Ft(rl,g.name),Ft(tg,g.name),Ft(ff,g.name);const sl=new cn({uid:bs,auth:g,email:os,emailVerified:il,displayName:jt,isAnonymous:Bi,photoURL:Qa,phoneNumber:as,tenantId:hf,stsTokenManager:ec,createdAt:tg,lastLoginAt:ff});return Ro&&Array.isArray(Ro)&&(sl.providerData=Ro.map(X0=>Object.assign({},X0))),rl&&(sl._redirectEventId=rl),sl}static _fromIdTokenResponse(g,m,w=!1){return(0,h.Z)(function*(){const S=new $e;S.updateFromServerResponse(m);const P=new cn({uid:m.localId,auth:g,stsTokenManager:S,isAnonymous:w});return yield Zt(P),P})()}}const Kn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,h.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function ee(v,g,m){return`firebase:${v}:${g}:${m}`}class H{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:S,name:P}=this.auth;this.fullUserKey=ee(this.userKey,S.apiKey,P),this.fullPersistenceKey=ee("persistence",S.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?cn._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,h.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new H(de(Kn),g,w);const S=(yield Promise.all(m.map(function(){var ct=(0,h.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let P=S[0]||de(Kn);const re=ee(w,g.config.apiKey,g.name);let Fe=null;for(const ct of m)try{const Nt=yield ct._get(re);if(Nt){const jt=cn._fromJSON(g,Nt);ct!==P&&(Fe=jt),P=ct;break}}catch(Nt){}const tt=S.filter(ct=>ct._shouldAllowMigration);return P._shouldAllowMigration&&tt.length?(P=tt[0],Fe&&(yield P._set(re,Fe.toJSON())),yield Promise.all(m.map(function(){var ct=(0,h.Z)(function*(Nt){if(Nt!==P)try{yield Nt._remove(re)}catch(jt){}});return function(Nt){return ct.apply(this,arguments)}}())),new H(P,g,w)):new H(P,g,w)})()}}function q(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(St(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Re(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(bn(g))return"Blackberry";if(lr(g))return"Webos";if(He(g))return"Safari";if((g.includes("chrome/")||mt(g))&&!g.includes("edge/"))return"Chrome";if(Lt(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Re(v=(0,B.z$)()){return/firefox\//i.test(v)}function He(v=(0,B.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function mt(v=(0,B.z$)()){return/crios\//i.test(v)}function St(v=(0,B.z$)()){return/iemobile/i.test(v)}function Lt(v=(0,B.z$)()){return/android/i.test(v)}function bn(v=(0,B.z$)()){return/blackberry/i.test(v)}function lr(v=(0,B.z$)()){return/webos/i.test(v)}function In(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function Rt(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function dr(v=(0,B.z$)()){return In(v)||Lt(v)||lr(v)||bn(v)||/windows phone/i.test(v)||St(v)}function ks(v,g=[]){let m;switch(v){case"Browser":m=q((0,B.z$)());break;case"Worker":m=`${q((0,B.z$)())}-${v}`;break;default:m=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${w}`}class vr{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=de(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var S;w._deleted||(w.persistenceManager=yield H.create(w,g),!w._deleted&&((null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(m),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,h.Z)(function*(){var w;let S=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const P=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,re=null==S?void 0:S._redirectEventId,Fe=yield m.tryRedirectSignIn(g);(!P||P===re)&&(null==Fe?void 0:Fe.user)&&(S=Fe.user)}return S?S._redirectEventId?(Ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(S){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,h.Z)(function*(){try{yield Zt(g)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,h.Z)(function*(){const w=g?(0,B.m9)(g):null;return w&&Ie(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return g&&Ie(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(de(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,h.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&de(g)||m._popupRedirectResolver;Ie(w,m,"argument-error"),m.redirectPersistenceManager=yield H.create(m,[de(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,h.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,h.Z)(function*(){if(g===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,S){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),re=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(re,this,"internal-error"),re.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,w,S):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ks(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function hr(v){return(0,B.m9)(v)}class Xr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ze(v,g,m){const w=hr(v);Ie(w._canInitEmulator,w,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),P=Ct(g),{host:re,port:Fe}=function(v){const g=Ct(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const P=S[1];return{host:P,port:Er(w.substr(P.length+1))}}{const[P,re]=w.split(":");return{host:P,port:Er(re)}}}(g);w.config.emulator={url:`${P}//${re}${null===Fe?"":`:${Fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:re,port:Fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ct(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Er(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class fn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Pt("not implemented")}_getIdTokenResponse(g){return Pt("not implemented")}_linkToIdToken(g,m){return Pt("not implemented")}_getReauthenticationResolver(g){return Pt("not implemented")}}function gi(v,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:resetPassword",pt(v,g))})).apply(this,arguments)}function jn(v,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tt(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:update",pt(v,g))})).apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithPassword",pt(v,g))})).apply(this,arguments)}function Yn(v,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:sendOobCode",pt(v,g))})).apply(this,arguments)}function Ra(v,g){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(v,g){return Yn(v,g)})).apply(this,arguments)}function Fi(v,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,h.Z)(function*(v,g){return Yn(v,g)})).apply(this,arguments)}function Oa(v,g){return Au.apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(v,g){return Yn(v,g)})).apply(this,arguments)}function xc(v,g){return Su.apply(this,arguments)}function Su(){return(Su=(0,h.Z)(function*(v,g){return Yn(v,g)})).apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithEmailLink",pt(v,g))})).apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithEmailLink",pt(v,g))})).apply(this,arguments)}class Ma extends fn{constructor(g,m,w,S=null){super("password",w),this._email=g,this._password=m,this._tenantId=S}static _fromEmailAndPassword(g,m){return new Ma(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new Ma(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function(v,g){return xa.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,g){return Yi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:le(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return jn(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,g){return Qn.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:le(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function fr(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithIdp",pt(v,g))})).apply(this,arguments)}class ei extends fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new ei(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):le("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S}=m,P=(0,ue._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const re=new ei(w,S);return re.idToken=P.idToken||void 0,re.accessToken=P.accessToken||void 0,re.secret=P.secret,re.nonce=P.nonce,re.pendingToken=P.pendingToken||null,re}_getIdTokenResponse(g){return fr(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,fr(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,B.xO)(m)}return g}}function xu(v,g){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:sendVerificationCode",pt(v,g))})).apply(this,arguments)}function nd(){return(nd=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,g))})).apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(v,g){const m=yield qt(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,g));if(m.temporaryProof)throw Vn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Na={USER_NOT_FOUND:"user-not-found"};function rd(){return(rd=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Na)})).apply(this,arguments)}class Ho extends fn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ho({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ho({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(v,g){return nd.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(v,g){return mi.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(v,g){return rd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:P}=g;return w||m||S||P?new Ho({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:P}):null}}class Mc{constructor(g){var m,w,S,P,re,Fe;const tt=(0,B.zd)((0,B.pd)(g)),ct=null!==(m=tt.apiKey)&&void 0!==m?m:null,Nt=null!==(w=tt.oobCode)&&void 0!==w?w:null,jt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=tt.mode)&&void 0!==S?S:null);Ie(ct&&Nt&&jt,"argument-error"),this.apiKey=ct,this.operation=jt,this.code=Nt,this.continueUrl=null!==(P=tt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(re=tt.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Fe=tt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(g){const m=function(v){const g=(0,B.zd)((0,B.pd)(v)).link,m=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||g||v}(g);try{return new Mc(m)}catch(w){return null}}}let Nc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Ma._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Mc.parseLink(w);return Ie(S,"argument-error"),Ma._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Or{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Pa extends Or{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Mu extends Pa{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in m&&"signInMethod"in m,"argument-error"),ei._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Mu.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Mu.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:P,nonce:re,providerId:Fe}=g;if(!w&&!S&&!m&&!P||!Fe)return null;try{return new Mu(Fe)._credential({idToken:m,accessToken:w,nonce:re,pendingToken:P})}catch(tt){return null}}}let Pc=(()=>{class v extends Pa{constructor(){super("facebook.com")}static credential(m){return ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),id=(()=>{class v extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return v.credential(w,S)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),kc=(()=>{class v extends Pa{constructor(){super("github.com")}static credential(m){return ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ls extends fn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return fr(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,fr(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,fr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:S,pendingToken:P}=m;return w&&S&&P&&w===S?new Ls(w,P):null}static _create(g,m){return new Ls(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yi=(()=>{class v extends Pa{constructor(){super("twitter.com")}static credential(m,w){return ei._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return v.credential(w,S)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Li(v,g){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signUp",pt(v,g))})).apply(this,arguments)}class Ir{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,S=!1){return(0,h.Z)(function*(){const P=yield cn._fromIdTokenResponse(g,w,S),re=jh(w);return new Ir({user:P,providerId:re,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const S=jh(w);return new Ir({user:g,providerId:S,_tokenResponse:w,operationType:m})})()}}function jh(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function $h(v){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(v){var g;const m=hr(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Li(m,{returnSecureToken:!0}),S=yield Ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Us extends B.ZR{constructor(g,m,w,S){var P;super(m.code,m.message),this.operationType=w,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,Us.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(P=g.tenantId)&&void 0!==P?P:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,w,S){return new Us(g,m,w,S)}}function od(v,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Us._fromErrorAndOperation(v,P,g,w):P})}function ka(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Hh(v,g){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(v,g){const m=(0,B.m9)(v);yield ys(!0,m,g);const{providerUserInfo:w}=yield Br(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),S=ka(w||[]);return m.providerData=m.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function qo(v,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,h.Z)(function*(v,g,m=!1){const w=yield We(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ir._forOperation(v,"link",w)})).apply(this,arguments)}function ys(v,g,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(v,g,m){yield Zt(g);const S=!1===v?"provider-already-linked":"no-such-provider";Ie(ka(g.providerData).has(m)===v,g.auth,S)})).apply(this,arguments)}function zo(v,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(v,g,m=!1){const{auth:w}=v,S="reauthenticate";try{const P=yield We(v,od(w,S,g,v),m);Ie(P.idToken,w,"internal-error");const re=Vt(P.idToken);Ie(re,w,"internal-error");const{sub:Fe}=re;return Ie(v.uid===Fe,w,"user-mismatch"),Ir._forOperation(v,S,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&le(w,"user-mismatch"),P}})).apply(this,arguments)}function En(v,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,h.Z)(function*(v,g,m=!1){const w="signIn",S=yield od(v,w,g),P=yield Ir._fromIdTokenResponse(v,w,S);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function ho(v,g){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(v,g){return En(hr(v),g)})).apply(this,arguments)}function Dt(v,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(v,g){const m=(0,B.m9)(v);return yield ys(!1,m,g.providerId),qo(m,g)})).apply(this,arguments)}function Vc(v,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(v,g){return zo((0,B.m9)(v),g)})).apply(this,arguments)}function ni(v,g){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,h.Z)(function*(v,g){return qt(v,"POST","/v1/accounts:signInWithCustomToken",pt(v,g))})).apply(this,arguments)}function Vs(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(v,g){const m=hr(v),w=yield ni(m,{token:g,returnSecureToken:!0}),S=yield Ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Jn{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Wo._fromServerResponse(g,m):le(g,"internal-error")}}class Wo extends Jn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Wo(m)}}function fo(v,g,m){var w;Ie((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function ad(v,g,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:g};m&&fo(w,S,m),yield Fi(w,S)})).apply(this,arguments)}function Pu(v,g,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(v,g,m){yield gi((0,B.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function ht(v,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,h.Z)(function*(v,g){yield Tt((0,B.m9)(v),{oobCode:g})})).apply(this,arguments)}function Bs(v,g){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(v,g){const m=(0,B.m9)(v),w=yield gi(m,{oobCode:g}),S=w.requestType;switch(Ie(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(w.mfaInfo,m,"internal-error");default:Ie(w.email,m,"internal-error")}let P=null;return w.mfaInfo&&(P=Jn._fromServerResponse(hr(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function La(v,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,g){const{data:m}=yield Bs((0,B.m9)(v),g);return m.email})).apply(this,arguments)}function go(v,g,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(v,g,m){const w=hr(v),S=yield Li(w,{returnSecureToken:!0,email:g,password:m}),P=yield Ir._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ne(v,g,m){return ho((0,B.m9)(v),Nc.credential(g,m))}function Mt(v,g,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:g};Ie(m.handleCodeInApp,w,"argument-error"),m&&fo(w,S,m),yield Oa(w,S)})).apply(this,arguments)}function On(v,g){const m=Mc.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function cd(v,g,m){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v),S=Nc.credentialWithLink(g,m||pe());return Ie(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ho(w,S)})).apply(this,arguments)}function Ji(v,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:createAuthUri",pt(v,g))})).apply(this,arguments)}function Yo(v,g){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(v,g){const w={identifier:g,continueUri:it()?pe():"http://localhost"},{signinMethods:S}=yield Ji((0,B.m9)(v),w);return S||[]})).apply(this,arguments)}function ld(v,g){return $s.apply(this,arguments)}function $s(){return($s=(0,h.Z)(function*(v,g){const m=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&fo(m.auth,S,g);const{email:P}=yield Ra(m.auth,S);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function Hs(v,g,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&fo(w.auth,P,m);const{email:re}=yield xc(w.auth,P);re!==v.email&&(yield v.reload())})).apply(this,arguments)}function _i(v,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(v,g){return lt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qs(v,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,B.m9)(v),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},re=yield We(w,_i(w.auth,P));w.displayName=re.displayName||null,w.photoURL=re.photoUrl||null;const Fe=w.providerData.find(({providerId:tt})=>"password"===tt);Fe&&(Fe.displayName=w.displayName,Fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(re)})).apply(this,arguments)}function jc(v,g){return Lu((0,B.m9)(v),g,null)}function dd(v,g){return Lu((0,B.m9)(v),null,g)}function Lu(v,g,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(v,g,m){const{auth:w}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const re=yield We(v,jn(w,P));yield v._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Es{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class $c extends Es{constructor(g,m,w,S){super(g,m,w),this.username=S}}class hd extends Es{constructor(g,m){super(g,"facebook.com",m)}}class qh extends $c{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class fd extends Es{constructor(g,m){super(g,"google.com",m)}}class yo extends $c{constructor(g,m,w){super(g,"twitter.com",m,w)}}function pd(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var g,m;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const re=null===(m=null===(g=Vt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new Es(P,"anonymous"!==re&&"custom"!==re?re:null)}if(!w)return null;switch(w){case"facebook.com":return new hd(P,S);case"github.com":return new qh(P,S);case"google.com":return new fd(P,S);case"twitter.com":return new yo(P,S,v.screenName||null);case"custom":case"anonymous":return new Es(P,null);default:return new Es(P,w,S)}}(m)}class sn{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new sn("enroll",g)}static _fromMfaPendingCredential(g){return new sn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return sn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return sn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ba{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=hr(g),S=(m.serverResponse.mfaInfo||[]).map(re=>Jn._fromServerResponse(w,re));Ie(m.serverResponse.mfaPendingCredential,w,"internal-error");const P=sn._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new Ba(P,S,function(){var re=(0,h.Z)(function*(Fe){const tt=yield Fe._process(w,P);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const ct=Object.assign(Object.assign({},m.serverResponse),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const Nt=yield Ir._fromIdTokenResponse(w,m.operationType,ct);return yield w._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return Ie(m.user,w,"internal-error"),Ir._forOperation(m.user,m.operationType,ct);default:le(w,"internal-error")}});return function(Fe){return re.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,h.Z)(function*(){return m.signInResolver(g)})()}}function Gh(v,g){var m;const w=(0,B.m9)(v),S=g;return Ie(g.operationType,w,"argument-error"),Ie(null===(m=S.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ba._fromError(w,S)}function qc(v,g){return lt(v,"POST","/v2/accounts/mfaEnrollment:start",pt(v,g))}class Vu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Jn._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Vu(g)}getSession(){var g=this;return(0,h.Z)(function*(){return sn._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,h.Z)(function*(){const S=g,P=yield w.getSession(),re=yield We(w.user,S._process(w.user.auth,P,m));return yield w.user._updateTokensIfNecessary(re),w.user.reload()})()}unenroll(g){var m=this;return(0,h.Z)(function*(){const w="string"==typeof g?g:g.uid,S=yield m.user.getIdToken(),P=yield We(m.user,function(v,g){return lt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(v,g))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:re})=>re!==w),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch(re){if("auth/user-token-expired"!==re.code)throw re}})()}}const Xo=new WeakMap;function Bu(v){const g=(0,B.m9)(v);return Xo.has(g)||Xo.set(g,Vu._fromUser(g)),Xo.get(g)}const ea="__sak";class ja{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ea,"1"),this.storage.removeItem(ea),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const Wh=(()=>{class v extends ja{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,B.z$)();return He(v)||In(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=dr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),P=this.localCache[w];S!==P&&m(w,P,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Fe,tt,ct)=>{this.notifyListeners(Fe,ct)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(S);if(m.newValue!==Fe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const P=()=>{const Fe=this.storage.getItem(S);!w&&this.localCache[S]===Fe||this.notifyListeners(S,Fe)},re=this.storage.getItem(S);(0,B.w1)()&&10===document.documentMode&&re!==m.newValue&&m.newValue!==m.oldValue?setTimeout(P,10):P()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,P=this;return(0,h.Z)(function*(){yield S().call(P,m,w),P.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,h.Z)(function*(){const P=yield w().call(S,m);return S.localCache[m]=JSON.stringify(P),P})()}_remove(m){var w=()=>super._remove,S=this;return(0,h.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Xn=(()=>{class v extends ja{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Kh=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(P=>P.isListeningto(m));if(w)return w;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const S=m,{eventId:P,eventType:re,data:Fe}=S.data,tt=w.handlersMap[re];if(!(null==tt?void 0:tt.size))return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:re});const ct=Array.from(tt).map(function(){var jt=(0,h.Z)(function*(os){return os(S.origin,Fe)});return function(os){return jt.apply(this,arguments)}}()),Nt=yield function(v){return Promise.all(v.map(function(){var g=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(ct);S.ports[0].postMessage({status:"done",eventId:P,eventType:re,response:Nt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function vi(v="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return v+m}class Yh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var S=this;return(0,h.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let re,Fe;return new Promise((tt,ct)=>{const Nt=vi("",20);P.port1.start();const jt=setTimeout(()=>{ct(new Error("unsupported_event"))},w);Fe={messageChannel:P,onMessage(os){const as=os;if(as.data.eventId===Nt)switch(as.data.status){case"ack":clearTimeout(jt),re=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),tt(as.data.response);break;default:clearTimeout(jt),clearTimeout(re),ct(new Error("invalid_response"))}}},S.handlers.add(Fe),P.port1.addEventListener("message",Fe.onMessage),S.target.postMessage({eventType:g,eventId:Nt,data:m},[P.port2])}).finally(()=>{Fe&&S.removeMessageHandler(Fe)})})()}}function er(){return window}function _o(){return void 0!==er().WorkerGlobalScope&&"function"==typeof er().importScripts}function vo(){return(vo=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const na="firebaseLocalStorageDb",zs="firebaseLocalStorage",zc="fbase_key";class ws{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Gc(v,g){return v.transaction([zs],g?"readwrite":"readonly").objectStore(zs)}function jr(){const v=indexedDB.open(na,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(zs,{keyPath:zc})}catch(S){m(S)}}),v.addEventListener("success",(0,h.Z)(function*(){const w=v.result;w.objectStoreNames.contains(zs)?g(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(na);return new ws(v).toPromise()}(),g(yield jr()))}))})}function Xi(v,g,m){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(v,g,m){const w=Gc(v,!0).put({[zc]:g,value:m});return new ws(w).toPromise()})).apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(v,g){const m=Gc(v,!1).get(g),w=yield new ws(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Dn(v,g){const m=Gc(v,!0).delete(g);return new ws(m).toPromise()}const Kc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield jr()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let S=0;for(;;)try{const P=yield w._openDb();return yield m(P)}catch(P){if(S++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return _o()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Kh._getInstance(_o()?self:null),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(S,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(S,P){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function(){return vo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Yh(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield jr();return yield Xi(m,ea,"1"),yield Dn(m,ea),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(P=>Xi(P,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const S=yield w._withRetries(P=>function(v,g){return st.apply(this,arguments)}(P,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(S=>Dn(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(re=>{const Fe=Gc(re,!1).getAll();return new ws(Fe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:re,value:Fe}of w)P.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(Fe)&&(m.notifyListeners(re,Fe),S.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!P.has(re)&&(m.notifyListeners(re,null),S.push(re));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ha(v,g){return lt(v,"POST","/v2/accounts/mfaSignIn:start",pt(v,g))}function qa(){return(qa=(0,h.Z)(function*(v){return(yield lt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(v){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=S=>{const P=Se("internal-error");P.customData=S,m(P)},w.type="text/javascript",w.charset="UTF-8",function(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function es(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Eo=1e12;class ra{constructor(g){this.auth=g,this.counter=Eo,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Qc(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||Eo;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Eo))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(g||Eo))||void 0===w||w.execute(),""})()}}class Qc{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;Ie(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Za=es("rcb"),ia=new kt(3e4,6e4);class za{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!er().grecaptcha}load(g,m=""){return Ie((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(er().grecaptcha):new Promise((w,S)=>{const P=er().setTimeout(()=>{S(Se(g,"network-request-failed"))},ia.get());er()[Za]=()=>{er().clearTimeout(P),delete er()[Za];const Fe=er().grecaptcha;if(!Fe)return void S(Se(g,"internal-error"));const tt=Fe.render;Fe.render=(ct,Nt)=>{const jt=tt(ct,Nt);return this.counter++,jt},this.hostLanguage=m,w(Fe)},gt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Za,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),S(Se(g,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!er().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ns{load(g){return(0,h.Z)(function*(){return new ra(g)})()}clearedOneInstance(){}}const rs="recaptcha",bo={theme:"light",type:"image"};class Ot{constructor(g,m=Object.assign({},bo),w){this.parameters=m,this.type=rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hr(w),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;Ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ns:new za,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(P=>{const re=Fe=>{!Fe||(g.tokenChangeListeners.delete(re),P(Fe))};g.tokenChangeListeners.add(re),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=er()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){Ie(it()&&!_o(),g.auth,"internal-error"),yield function(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(v){return qa.apply(this,arguments)}(g.auth);Ie(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class is{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ho._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Xe(v,g,m){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v,g,m){const w=hr(v),S=yield qu(w,g,(0,B.m9)(m));return new is(S,P=>ho(w,P))})).apply(this,arguments)}function yt(v,g,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v);yield ys(!1,w,"phone");const S=yield qu(w.auth,g,(0,B.m9)(m));return new is(S,P=>Dt(w,P))})).apply(this,arguments)}function Id(v,g,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v),S=yield qu(w.auth,g,(0,B.m9)(m));return new is(S,P=>Vc(w,P))})).apply(this,arguments)}function qu(v,g,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(v,g,m){var w;const S=yield m.verify();try{let P;if(Ie("string"==typeof S,v,"argument-error"),Ie(m.type===rs,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const re=P.session;if("phoneNumber"in P)return Ie("enroll"===re.type,v,"internal-error"),(yield qc(v,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ie("signin"===re.type,v,"internal-error");const Fe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return Ie(Fe,v,"missing-multi-factor-info"),(yield Ha(v,{mfaPendingCredential:re.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield xu(v,{phoneNumber:P.phoneNumber,recaptchaToken:S});return re}}finally{m._reset()}})).apply(this,arguments)}function Xh(v,g){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,h.Z)(function*(v,g){yield qo((0,B.m9)(v),g)})).apply(this,arguments)}let ef=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=hr(m)}verifyPhoneNumber(m,w){return qu(this.auth,m,(0,B.m9)(w))}static credential(m,w){return Ho._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?Ho._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function yn(v,g){return g?de(g):(Ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Co extends fn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return fr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return fr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return fr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Mn(v){return En(v.auth,new Co(v),v.bypassAuthState)}function aa(v){const{auth:g,user:m}=v;return Ie(m,g,"internal-error"),zo(m,new Co(v),v.bypassAuthState)}function tr(v){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(v){const{auth:g,user:m}=v;return Ie(m,g,"internal-error"),qo(m,new Co(v),v.bypassAuthState)})).apply(this,arguments)}class ca{constructor(g,m,w,S,P=!1){this.auth=g,this.resolver=w,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,h.Z)(function*(w,S){g.pendingPromise={resolve:w,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:P,tenantId:re,error:Fe,type:tt}=g;if(Fe)return void m.reject(Fe);const ct={auth:m.auth,requestUri:w,sessionId:S,tenantId:re||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(tt)(ct))}catch(Nt){m.reject(Nt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Mn;case"linkViaPopup":case"linkViaRedirect":return tr;case"reauthViaPopup":case"reauthViaRedirect":return aa;default:le(this.auth,"internal-error")}}resolve(g){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const la=new kt(2e3,1e4);function Cd(v,g,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(v,g,m){const w=hr(v);Be(v,g,Or);const S=yn(w,m);return new Ga(w,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function wi(v,g,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v);Be(w.auth,g,Or);const S=yn(w.auth,m);return new Ga(w.auth,"reauthViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}function Ks(v,g,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v);Be(w.auth,g,Or);const S=yn(w.auth,m);return new Ga(w.auth,"linkViaPopup",g,S,w).executeNotNull()})).apply(this,arguments)}let Ga=(()=>{class v extends ca{constructor(m,w,S,P,re){super(m,w,P,re),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return Ie(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const w=vi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,la.get())};m()}}return v.currentPopupAction=null,v})();const Wa=new Map;class tf extends ca{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=Wa.get(m.auth._key());if(!w){try{const P=(yield function(v,g){return zu.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(P)}catch(S){w=()=>Promise.reject(S)}Wa.set(m.auth._key(),w)}return w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const S=yield w.auth._redirectUserForId(g.eventId);if(S)return w.user=S,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function zu(){return(zu=(0,h.Z)(function*(v,g){const m=J(g),w="true"===(yield V(v)._get(m));return yield V(v)._remove(m),w})).apply(this,arguments)}function b(v,g){return T.apply(this,arguments)}function T(){return(T=(0,h.Z)(function*(v,g){return V(v)._set(J(g),"true")})).apply(this,arguments)}function x(){Wa.clear()}function V(v){return de(v._redirectPersistence)}function J(v){return ee("pendingRedirect",v.config.apiKey,v.name)}function me(v,g,m){return function(v,g,m){return Ye.apply(this,arguments)}(v,g,m)}function Ye(){return(Ye=(0,h.Z)(function*(v,g,m){const w=hr(v);Be(v,g,Or);const S=yn(w,m);return yield b(S,w),S._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Qe(v,g,m){return function(v,g,m){return Bt.apply(this,arguments)}(v,g,m)}function Bt(){return(Bt=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v);Be(w.auth,g,Or);const S=yn(w.auth,m);yield b(S,w.auth);const P=yield Ys(w);return S._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function nr(v,g,m){return function(v,g,m){return Nn.apply(this,arguments)}(v,g,m)}function Nn(){return(Nn=(0,h.Z)(function*(v,g,m){const w=(0,B.m9)(v);Be(w.auth,g,Or);const S=yn(w.auth,m);yield ys(!1,w,g.providerId),yield b(S,w.auth);const P=yield Ys(w);return S._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function ss(v,g){return To.apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(v,g){return yield hr(v)._initializationPromise,bi(v,g,!1)})).apply(this,arguments)}function bi(v,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(v,g,m=!1){const w=hr(v),S=yn(w,g),re=yield new tf(w,S,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield w._persistUserIfCurrent(re.user),yield w._setRedirectUser(null,g)),re})).apply(this,arguments)}function Ys(v){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(v){const g=vi(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Hr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!Wu(g)){const S=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,S))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(g))}saveEventToCache(g){this.cachedEventUids.add(da(g)),this.lastProcessedEventTime=Date.now()}}function da(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Wu({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Jp(v){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(v,g={}){return lt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rf=/^https?/;function Ao(){return(Ao=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Jp(v);for(const m of g)try{if(sf(m))return}catch(w){}le(v,"unauthorized-domain")})).apply(this,arguments)}function sf(v){const g=pe(),{protocol:m,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const re=new URL(v);return""===re.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===w}if(!rf.test(m))return!1;if(Jc.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Dd=new kt(3e4,6e4);function Ad(){const v=er().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let So=null;function Js(v){return So=So||function(v){return new Promise((g,m)=>{var w,S,P;function re(){Ad(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ad(),m(Se(v,"network-request-failed"))},timeout:Dd.get()})}if(null===(S=null===(w=er().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=er().gapi)||void 0===P?void 0:P.load)){const Fe=es("iframefcb");return er()[Fe]=()=>{gapi.load?re():m(Se(v,"network-request-failed"))},gt(`https://apis.google.com/js/api.js?onload=${Fe}`)}re()}}).catch(g=>{throw So=null,g})}(v),So}const Xc=new kt(5e3,15e3),eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ku(v){const g=v.config;Ie(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?Un(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:O.SDK_VERSION},S=el.get(v.config.apiHost);S&&(w.eid=S);const P=v._getFrameworks();return P.length&&(w.fw=P.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function rr(){return(rr=(0,h.Z)(function*(v){const g=yield Js(v),m=er().gapi;return Ie(m,v,"internal-error"),g.open({where:document.body,url:Ku(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eg,dontclear:!0},w=>new Promise(function(){var S=(0,h.Z)(function*(P,re){yield w.restyle({setHideOnLeave:!1});const Fe=Se(v,"network-request-failed"),tt=er().setTimeout(()=>{re(Fe)},Xc.get());function ct(){er().clearTimeout(tt),P(w)}w.ping(ct).then(ct,()=>{re(Fe)})});return function(P,re){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const Pr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function uf(v,g,m,w,S,P){Ie(v.config.authDomain,v,"auth-domain-config-required"),Ie(v.config.apiKey,v,"invalid-api-key");const re={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:O.SDK_VERSION,eventId:S};if(g instanceof Or){g.setDefaultLanguage(v.languageCode),re.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[tt,ct]of Object.entries(P||{}))re[tt]=ct}if(g instanceof Pa){const tt=g.getScopes().filter(ct=>""!==ct);tt.length>0&&(re.scopes=tt.join(","))}v.tenantId&&(re.tid=v.tenantId);const Fe=re;for(const tt of Object.keys(Fe))void 0===Fe[tt]&&delete Fe[tt];return`${function({config:v}){return v.emulator?Un(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(Fe).slice(1)}`}const Qu="webStorageSupport",tl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=bi}_openPopup(g,m,w,S){var P=this;return(0,h.Z)(function*(){var re;ie(null===(re=P.eventManagers[g._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Fe=uf(g,m,w,pe(),S);return function(v,g,m,w=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),re=Math.max((window.screen.availWidth-w)/2,0).toString();let Fe="";const tt=Object.assign(Object.assign({},Pr),{width:w.toString(),height:S.toString(),top:P,left:re}),ct=(0,B.z$)().toLowerCase();m&&(Fe=mt(ct)?"_blank":m),Re(ct)&&(g=g||"http://localhost",tt.scrollbars="yes");const Nt=Object.entries(tt).reduce((os,[as,Qa])=>`${os}${as}=${Qa},`,"");if(function(v=(0,B.z$)()){var g;return In(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(ct)&&"_self"!==Fe)return function(v,g){const m=document.createElement("a");m.href=v,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Fe),new xd(null);const jt=window.open(g||"",Fe,Nt);Ie(jt,v,"popup-blocked");try{jt.focus()}catch(os){}return new xd(jt)}(g,Fe,vi())})()}_openRedirect(g,m,w,S){var P=this;return(0,h.Z)(function*(){return yield P._originValidation(g),v=uf(g,m,w,pe(),S),er().location.href=v,new Promise(()=>{});var v})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:S,promise:P}=this.eventManagers[m];return S?Promise.resolve(S):(ie(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w}initAndGetManager(g){var m=this;return(0,h.Z)(function*(){const w=yield function(v){return rr.apply(this,arguments)}(g),S=new Hr(g);return w.register("authEvent",P=>(Ie(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:S},m.iframes[g._key()]=w,S})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Qu,{type:Qu},S=>{var P;const re=null===(P=null==S?void 0:S[0])||void 0===P?void 0:P[Qu];void 0!==re&&m(!!re),le(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return Ao.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return dr()||He()||In()}};class Rd extends class{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return Pt("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Rd(g)}_finalizeEnroll(g,m,w){return function(v,g){return lt(v,"POST","/v2/accounts/mfaEnrollment:finalize",pt(v,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(v,g){return lt(v,"POST","/v2/accounts/mfaSignIn:finalize",pt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nl=(()=>{class v{constructor(){}static assertion(m){return Rd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var v,Od="@firebase/auth";class lf{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var S;g((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Md(v=(0,O.getApp)()){const g=(0,O._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function(v,g){const m=(0,O._getProvider)(v,"auth");if(m.isInitialized()){const S=m.getImmediate(),P=m.getOptions();if((0,B.vZ)(P,null!=g?g:{}))return S;le(S,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:tl,persistence:[Kc,Wh,Xn]})}v="Browser",(0,O._registerComponent)(new ae.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),{apiKey:S,authDomain:P}=w.options;return(re=>{Ie(S&&!S.includes(":"),"invalid-api-key",{appName:re.name}),Ie(!(null==P?void 0:P.includes(":")),"argument-error",{appName:re.name});const Fe={apiKey:S,authDomain:P,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ks(v)},tt=new vr(re,Fe);return function(v,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(de);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(tt,m),tt})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ae.wA("auth-internal",g=>{const m=hr(g.getProvider("auth").getImmediate());return new lf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Od,"0.18.3",void 0),(0,O.registerVersion)(Od,"0.18.3","esm2017")},6034:(rt,xe,L)=>{"use strict";L.d(xe,{wA:()=>O,H0:()=>he});var h=L(4762),B=L(3854),O=function(){function Y(k,U,X){this.name=k,this.instanceFactory=U,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},Y.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},Y.prototype.setServiceProps=function(k){return this.serviceProps=k,this},Y.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},Y}(),ue="[DEFAULT]",se=function(){function Y(k,U){this.name=k,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(k){var U=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(U)){var X=new B.BH;if(this.instancesDeferred.set(U,X),this.isInitialized(U)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:U});K&&X.resolve(K)}catch(oe){}}return this.instancesDeferred.get(U).promise},Y.prototype.getImmediate=function(k){var U,X=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),K=null!==(U=null==k?void 0:k.optional)&&void 0!==U&&U;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(oe){if(K)return null;throw oe}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(k){var U,X;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(le){}try{for(var K=(0,h.XA)(this.instancesDeferred.entries()),oe=K.next();!oe.done;oe=K.next()){var Ce=(0,h.CR)(oe.value,2),G=Ce[1],ye=this.normalizeInstanceIdentifier(Ce[0]);try{var _e=this.getOrInitializeService({instanceIdentifier:ye});G.resolve(_e)}catch(le){}}}catch(le){U={error:le}}finally{try{oe&&!oe.done&&(X=K.return)&&X.call(K)}finally{if(U)throw U.error}}}},Y.prototype.clearInstance=function(k){void 0===k&&(k=ue),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},Y.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var k;return(0,h.Jh)(this,function(U){switch(U.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(k.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,h.CR)(k.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return U.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(k){return void 0===k&&(k=ue),this.instances.has(k)},Y.prototype.getOptions=function(k){return void 0===k&&(k=ue),this.instancesOptions.get(k)||{}},Y.prototype.initialize=function(k){var U,X;void 0===k&&(k={});var K=k.options,oe=void 0===K?{}:K,Ce=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var fe=this.getOrInitializeService({instanceIdentifier:Ce,options:oe});try{for(var G=(0,h.XA)(this.instancesDeferred.entries()),ye=G.next();!ye.done;ye=G.next()){var _e=(0,h.CR)(ye.value,2),Se=_e[1];Ce===this.normalizeInstanceIdentifier(_e[0])&&Se.resolve(fe)}}catch(Be){U={error:Be}}finally{try{ye&&!ye.done&&(X=G.return)&&X.call(G)}finally{if(U)throw U.error}}return fe},Y.prototype.onInit=function(k,U){var X,K=this.normalizeInstanceIdentifier(U),oe=null!==(X=this.onInitCallbacks.get(K))&&void 0!==X?X:new Set;oe.add(k),this.onInitCallbacks.set(K,oe);var Ce=this.instances.get(K);return Ce&&k(Ce,K),function(){oe.delete(k)}},Y.prototype.invokeOnInitCallbacks=function(k,U){var X,K,oe=this.onInitCallbacks.get(U);if(oe)try{for(var Ce=(0,h.XA)(oe),fe=Ce.next();!fe.done;fe=Ce.next()){var G=fe.value;try{G(k,U)}catch(ye){}}}catch(ye){X={error:ye}}finally{try{fe&&!fe.done&&(K=Ce.return)&&K.call(Ce)}finally{if(X)throw X.error}}},Y.prototype.getOrInitializeService=function(k){var U=k.instanceIdentifier,X=k.options,K=void 0===X?{}:X,oe=this.instances.get(U);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:ae(U),options:K}),this.instances.set(U,oe),this.instancesOptions.set(U,K),this.invokeOnInitCallbacks(oe,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,oe)}catch(Ce){}return oe||null},Y.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ue),this.component?this.component.multipleInstances?k:ue:k},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function ae(Y){return Y===ue?void 0:Y}var he=function(){function Y(k){this.name=k,this.providers=new Map}return Y.prototype.addComponent=function(k){var U=this.getProvider(k.name);if(U.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);U.setComponent(k)},Y.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},Y.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var U=new se(k,this);return this.providers.set(k,U),U},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},5601:(rt,xe,L)=>{"use strict";L.d(xe,{in:()=>B,Yd:()=>Te,Ub:()=>he,Am:()=>Y});const h=[];var B=(()=>{return(k=B||(B={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",B;var k})();const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ue=B.INFO,se={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ae=(k,U,...X)=>{if(U<k.logLevel)return;const K=(new Date).toISOString(),oe=se[U];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[oe](`[${K}]  ${k.name}:`,...X)};class Te{constructor(U){this.name=U,this._logLevel=ue,this._logHandler=ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in B))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?O[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...U),this._logHandler(this,B.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...U),this._logHandler(this,B.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,B.INFO,...U),this._logHandler(this,B.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,B.WARN,...U),this._logHandler(this,B.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...U),this._logHandler(this,B.ERROR,...U)}}function he(k){h.forEach(U=>{U.setLogLevel(k)})}function Y(k,U){for(const X of h){let K=null;U&&U.level&&(K=O[U.level]),X.userLogHandler=null===k?null:(oe,Ce,...fe)=>{const G=fe.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(_e){return null}}).filter(ye=>ye).join(" ");Ce>=(null!=K?K:oe.logLevel)&&k({level:B[Ce].toLowerCase(),message:G,args:fe,type:oe.name})}}}},3854:(rt,xe,L)=>{"use strict";L.d(xe,{BH:()=>K,LL:()=>pe,ZR:()=>Ue,zI:()=>ve,US:()=>ae,tV:()=>Y,$s:()=>Jr,r3:()=>pt,Sg:()=>oe,ne:()=>Wi,vZ:()=>Gn,ZB:()=>U,pd:()=>cr,m9:()=>ms,z$:()=>Ce,jU:()=>ye,ru:()=>_e,d:()=>Se,xb:()=>Cn,w1:()=>Ke,hl:()=>Pt,uI:()=>fe,UG:()=>G,b$:()=>le,G6:()=>Ie,Mn:()=>Be,xO:()=>Ns,zd:()=>Yr,eu:()=>ie});const ue=function(Z){const z=[];let $=0;for(let De=0;De<Z.length;De++){let ce=Z.charCodeAt(De);ce<128?z[$++]=ce:ce<2048?(z[$++]=ce>>6|192,z[$++]=63&ce|128):55296==(64512&ce)&&De+1<Z.length&&56320==(64512&Z.charCodeAt(De+1))?(ce=65536+((1023&ce)<<10)+(1023&Z.charCodeAt(++De)),z[$++]=ce>>18|240,z[$++]=ce>>12&63|128,z[$++]=ce>>6&63|128,z[$++]=63&ce|128):(z[$++]=ce>>12|224,z[$++]=ce>>6&63|128,z[$++]=63&ce|128)}return z},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,z){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let ce=0;ce<Z.length;ce+=3){const Ge=Z[ce],$e=ce+1<Z.length,Ft=$e?Z[ce+1]:0,cn=ce+2<Z.length,Tn=cn?Z[ce+2]:0;let H=(15&Ft)<<2|Tn>>6,q=63&Tn;cn||(q=64,$e||(H=64)),De.push($[Ge>>2],$[(3&Ge)<<4|Ft>>4],$[H],$[q])}return De.join("")},encodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Z):this.encodeByteArray(ue(Z),z)},decodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Z):function(Z){const z=[];let $=0,De=0;for(;$<Z.length;){const ce=Z[$++];if(ce<128)z[De++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const Ge=Z[$++];z[De++]=String.fromCharCode((31&ce)<<6|63&Ge)}else if(ce>239&&ce<365){const cn=((7&ce)<<18|(63&Z[$++])<<12|(63&Z[$++])<<6|63&Z[$++])-65536;z[De++]=String.fromCharCode(55296+(cn>>10)),z[De++]=String.fromCharCode(56320+(1023&cn))}else{const Ge=Z[$++],$e=Z[$++];z[De++]=String.fromCharCode((15&ce)<<12|(63&Ge)<<6|63&$e)}}return z.join("")}(this.decodeStringToByteArray(Z,z))},decodeStringToByteArray(Z,z){this.init_();const $=z?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let ce=0;ce<Z.length;){const Ge=$[Z.charAt(ce++)],Ft=ce<Z.length?$[Z.charAt(ce)]:0;++ce;const Tn=ce<Z.length?$[Z.charAt(ce)]:64;++ce;const ee=ce<Z.length?$[Z.charAt(ce)]:64;if(++ce,null==Ge||null==Ft||null==Tn||null==ee)throw Error();De.push(Ge<<2|Ft>>4),64!==Tn&&(De.push(Ft<<4&240|Tn>>2),64!==ee&&De.push(Tn<<6&192|ee))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},he=function(Z){return function(Z){const z=ue(Z);return ae.encodeByteArray(z,!0)}(Z).replace(/\./g,"")},Y=function(Z){try{return ae.decodeString(Z,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function U(Z,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return z}for(const $ in z)!z.hasOwnProperty($)||!X($)||(Z[$]=U(Z[$],z[$]));return Z}function X(Z){return"__proto__"!==Z}class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,$)=>{this.resolve=z,this.reject=$})}wrapCallback(z){return($,De)=>{$?this.reject($):this.resolve(De),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z($):z($,De))}}}function oe(Z,z){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=z||"demo-project",ce=Z.iat||0,Ge=Z.sub||Z.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:ce,exp:ce+3600,auth_time:ce,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify($e)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function ye(){return"object"==typeof self&&self.self===self}function _e(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return Ce().indexOf("Electron/")>=0}function Ke(){const Z=Ce();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Be(){return Ce().indexOf("MSAppHost/")>=0}function Ie(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){return"object"==typeof indexedDB}function ie(){return new Promise((Z,z)=>{try{let $=!0;const De="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(De);ce.onsuccess=()=>{ce.result.close(),$||self.indexedDB.deleteDatabase(De),Z(!0)},ce.onupgradeneeded=()=>{$=!1},ce.onerror=()=>{var Ge;z((null===(Ge=ce.error)||void 0===Ge?void 0:Ge.message)||"")}}catch($){z($)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(z,$,De){super($),this.code=z,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(z,$,De){this.service=z,this.serviceName=$,this.errors=De}create(z,...$){const De=$[0]||{},ce=`${this.service}/${z}`,Ge=this.errors[z],$e=Ge?function(Z,z){return Z.replace(Qt,($,De)=>{const ce=z[De];return null!=ce?String(ce):`<${De}?>`})}(Ge,De):"Error";return new Ue(ce,`${this.serviceName}: ${$e} (${ce}).`,De)}}const Qt=/\{\$([^}]+)}/g;function pt(Z,z){return Object.prototype.hasOwnProperty.call(Z,z)}function Cn(Z){for(const z in Z)if(Object.prototype.hasOwnProperty.call(Z,z))return!1;return!0}function Gn(Z,z){if(Z===z)return!0;const $=Object.keys(Z),De=Object.keys(z);for(const ce of $){if(!De.includes(ce))return!1;const Ge=Z[ce],$e=z[ce];if(qt(Ge)&&qt($e)){if(!Gn(Ge,$e))return!1}else if(Ge!==$e)return!1}for(const ce of De)if(!$.includes(ce))return!1;return!0}function qt(Z){return null!==Z&&"object"==typeof Z}function Ns(Z){const z=[];for(const[$,De]of Object.entries(Z))Array.isArray(De)?De.forEach(ce=>{z.push(encodeURIComponent($)+"="+encodeURIComponent(ce))}):z.push(encodeURIComponent($)+"="+encodeURIComponent(De));return z.length?"&"+z.join("&"):""}function Yr(Z){const z={};return Z.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[ce,Ge]=De.split("=");z[decodeURIComponent(ce)]=decodeURIComponent(Ge)}}),z}function cr(Z){const z=Z.indexOf("?");if(!z)return"";const $=Z.indexOf("#",z);return Z.substring(z,$>0?$:void 0)}function Wi(Z,z){const $=new Qr(Z,z);return $.subscribe.bind($)}class Qr{constructor(z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{z(this)}).catch(De=>{this.error(De)})}next(z){this.forEachObserver($=>{$.next(z)})}error(z){this.forEachObserver($=>{$.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,$,De){let ce;if(void 0===z&&void 0===$&&void 0===De)throw new Error("Missing Observer.");ce=function(Z,z){if("object"!=typeof Z||null===Z)return!1;for(const $ of["next","error","complete"])if($ in Z&&"function"==typeof Z[$])return!0;return!1}(z)?z:{next:z,error:$,complete:De},void 0===ce.next&&(ce.next=Bn),void 0===ce.error&&(ce.error=Bn),void 0===ce.complete&&(ce.complete=Bn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch($e){}}),this.observers.push(ce),Ge}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,z)}sendOne(z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{$(this.observers[z])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function Jr(Z,z=1e3,$=2){const De=z*Math.pow($,Z),ce=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+ce)}function ms(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(rt,xe,L)=>{"use strict";L.d(xe,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=L(5452);(0,h.registerVersion)("firebase","9.1.3","app")},7841:(rt,xe,L)=>{"use strict";L.d(xe,{Z:()=>h.Z});var h=L(4486);h.Z.registerVersion("firebase","9.1.3","app-compat")},4828:(rt,xe,L)=>{"use strict";L.r(xe);var h=L(8239),B=L(4486),O=L(1243),ue=L(3854),Te=(L(5452),L(5601),L(6034));function he(){return window}function U(){return(U=(0,h.Z)(function*(ee,H,q){var Re;const{BuildInfo:He}=he();(0,O.ap)(H.sessionId,"AuthEvent did not contain a session ID");const mt=yield ye(H.sessionId),St={};return(0,O.aq)()?St.ibi=He.packageName:(0,O.ar)()?St.apn=He.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),He.displayName&&(St.appDisplayName=He.displayName),St.sessionId=mt,(0,O.at)(ee,q,H.type,void 0,null!==(Re=H.eventId)&&void 0!==Re?Re:void 0,St)})).apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(ee){const{BuildInfo:H}=he(),q={};(0,O.aq)()?q.iosBundleId=H.packageName:(0,O.ar)()?q.androidPackageName=H.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),yield(0,O.au)(ee,q)})).apply(this,arguments)}function fe(){return(fe=(0,h.Z)(function*(ee,H,q){const{cordova:Re}=he();let He=()=>{};try{yield new Promise((mt,St)=>{let Lt=null;function bn(){var Rt;mt();const Ki=null===(Rt=Re.plugins.browsertab)||void 0===Rt?void 0:Rt.close;"function"==typeof Ki&&Ki(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function lr(){Lt||(Lt=window.setTimeout(()=>{St((0,O.av)(ee,"redirect-cancelled-by-user"))},2e3))}function In(){"visible"===(null==document?void 0:document.visibilityState)&&lr()}H.addPassiveListener(bn),document.addEventListener("resume",lr,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",In,!1),He=()=>{H.removePassiveListener(bn),document.removeEventListener("resume",lr,!1),document.removeEventListener("visibilitychange",In,!1),Lt&&window.clearTimeout(Lt)}})}finally{He()}})).apply(this,arguments)}function ye(ee){return _e.apply(this,arguments)}function _e(){return(_e=(0,h.Z)(function*(ee){const H=le(ee),q=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(q)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function le(ee){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ee);const H=new ArrayBuffer(ee.length),q=new Uint8Array(H);for(let Re=0;Re<ee.length;Re++)q[Re]=ee.charCodeAt(Re);return q}class Ke extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(H)),super.onEvent(H)}initialized(){var H=this;return(0,h.Z)(function*(){yield H.initPromise})()}}function Ie(ee){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(ee){const H=yield de()._get(we(ee));return H&&(yield de()._remove(we(ee))),H})).apply(this,arguments)}function ve(){const ee=[],H="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Re=Math.floor(Math.random()*H.length);ee.push(H.charAt(Re))}return ee.join("")}function de(){return(0,O.ax)(O.b)}function we(ee){return(0,O.ay)("authEvent",ee.config.apiKey,ee.name)}function it(ee){if(!(null==ee?void 0:ee.includes("?")))return{};const[H,...q]=ee.split("?");return(0,ue.zd)(q.join("?"))}function kt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function pt(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function Cn(ee=(0,ue.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yr(){try{const ee=self.localStorage,H=O.aG();if(ee)return ee.setItem(H,"1"),ee.removeItem(H),!function(ee=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(ee=(0,ue.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,ue.hl)()}catch(ee){return cr()&&(0,ue.hl)()}return!1}function cr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return("http:"===pt()||"https:"===pt()||(0,ue.ru)()||Cn())&&!((0,ue.b$)()||(0,ue.UG)())&&Yr()&&!cr()}function Wi(){return Cn()&&"undefined"!=typeof document}function Br(){return(Br=(0,h.Z)(function*(){return!!Wi()&&new Promise(ee=>{const H=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),ee(!0)})})})).apply(this,arguments)}const xt={LOCAL:"local",NONE:"none",SESSION:"session"},Bn=O.aw,pi="persistence";function Pe(ee){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,h.Z)(function*(ee){yield ee._initializationPromise;const H=un(),q=O.ay(pi,ee.config.apiKey,ee.name);(null==H?void 0:H.sessionStorage)&&H.sessionStorage.setItem(q,ee._getPersistence())})).apply(this,arguments)}function un(){return"undefined"!=typeof window?window:null}const Vt=O.aw;class Je{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(H){var q=this;return(0,h.Z)(function*(){const Re=H._key();let He=q.eventManagers.get(Re);return He||(He=new Ke(H),q.eventManagers.set(Re,He),q.attachCallbackListeners(H,He)),He})()}_openPopup(H){(0,O.as)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,q,Re,He){var mt=this;return(0,h.Z)(function*(){!function(ee){var H,q,Re,He,mt,St,Lt,bn,lr,In;const Rt=he();(0,O.aw)("function"==typeof(null===(H=null==Rt?void 0:Rt.universalLinks)||void 0===H?void 0:H.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(q=null==Rt?void 0:Rt.BuildInfo)||void 0===q?void 0:q.packageName),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(mt=null===(He=null===(Re=null==Rt?void 0:Rt.cordova)||void 0===Re?void 0:Re.plugins)||void 0===He?void 0:He.browsertab)||void 0===mt?void 0:mt.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(bn=null===(Lt=null===(St=null==Rt?void 0:Rt.cordova)||void 0===St?void 0:St.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===bn?void 0:bn.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(In=null===(lr=null==Rt?void 0:Rt.cordova)||void 0===lr?void 0:lr.InAppBrowser)||void 0===In?void 0:In.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const St=yield mt._initialize(H);yield St.initialized(),St.resetRedirect(),(0,O.aB)(),yield mt._originValidation(H);const Lt=function(ee,H,q=null){return{type:H,eventId:q,urlResponse:null,sessionId:ve(),postBody:null,tenantId:ee.tenantId,error:(0,O.av)(ee,"no-auth-event")}}(H,Re,He);yield function(ee,H){return de()._set(we(ee),H)}(H,Lt);const bn=yield function(ee,H,q){return U.apply(this,arguments)}(H,Lt,q),lr=yield function(ee){const{cordova:H}=he();return new Promise(q=>{H.plugins.browsertab.isAvailable(Re=>{let He=null;Re?H.plugins.browsertab.openUrl(ee):He=H.InAppBrowser.open(ee,(0,O.ao)()?"_blank":"_system","location=yes"),q(He)})})}(bn);return function(ee,H,q){return fe.apply(this,arguments)}(H,St,lr)})()}_isIframeWebStorageSupported(H,q){throw new Error("Method not implemented.")}_originValidation(H){const q=H._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function(ee){return K.apply(this,arguments)}(H)),this.originValidationPromises[q]}attachCallbackListeners(H,q){const{universalLinks:Re,handleOpenURL:He,BuildInfo:mt}=he(),St=setTimeout((0,h.Z)(function*(){yield Ie(H),q.onEvent(kt())}),500),Lt=function(){var In=(0,h.Z)(function*(Rt){clearTimeout(St);const Ki=yield Ie(H);let oo=null;Ki&&(null==Rt?void 0:Rt.url)&&(oo=function(ee,H){var q,Re;const He=function(ee){const H=it(ee),q=H.link?decodeURIComponent(H.link):void 0,Re=it(q).link,He=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return it(He).link||He||Re||q||ee}(H);if(He.includes("/__/auth/callback")){const mt=it(He),St=mt.firebaseError?function(ee){try{return JSON.parse(ee)}catch(H){return null}}(decodeURIComponent(mt.firebaseError)):null,Lt=null===(Re=null===(q=null==St?void 0:St.code)||void 0===q?void 0:q.split("auth/"))||void 0===Re?void 0:Re[1],bn=Lt?(0,O.av)(Lt):null;return bn?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:bn,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:He,postBody:null}}return null}(Ki,Rt.url)),q.onEvent(oo||kt())});return function(Ki){return In.apply(this,arguments)}}();void 0!==Re&&"function"==typeof Re.subscribe&&Re.subscribe(null,Lt);const bn=He,lr=`${mt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var In=(0,h.Z)(function*(Rt){if(Rt.toLowerCase().startsWith(lr)&&Lt({url:Rt}),"function"==typeof bn)try{bn(Rt)}catch(Ki){console.error(Ki)}});return function(Rt){return In.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(H){var q=this;return(0,h.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,q,Re,He){var mt=this;return(0,h.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(H,q,Re,He)})()}_openRedirect(H,q,Re,He){var mt=this;return(0,h.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(H,q,Re,He)})()}_isIframeWebStorageSupported(H,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,q)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,h.Z)(function*(){if(H.underlyingResolver)return;const q=yield function(){return Br.apply(this,arguments)}();H.underlyingResolver=q?H.cordovaResolver:H.browserResolver})()}}function We(ee){return ee.unwrap()}function gs(ee){return an(ee)}function an(ee){const{_tokenResponse:H}=ee instanceof ue.ZR?ee.customData:ee;if(!H)return null;if(!(ee instanceof ue.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return O.P.credentialFromResult(ee);const q=H.providerId;if(!q||q===O.o.PASSWORD)return null;let Re;switch(q){case O.o.GOOGLE:Re=O.N;break;case O.o.FACEBOOK:Re=O.M;break;case O.o.GITHUB:Re=O.Q;break;case O.o.TWITTER:Re=O.V;break;default:const{oauthIdToken:He,oauthAccessToken:mt,oauthTokenSecret:St,pendingToken:Lt,nonce:bn}=H;return mt||St||He||Lt?Lt?q.startsWith("saml.")?O.aJ._create(q,Lt):O.I._fromParams({providerId:q,signInMethod:q,pendingToken:Lt,idToken:He,accessToken:mt}):new O.T(q).credential({idToken:He,accessToken:mt,rawNonce:bn}):null}return ee instanceof ue.ZR?Re.credentialFromError(ee):Re.credentialFromResult(ee)}function Zt(ee,H){return H.catch(q=>{throw q instanceof ue.ZR&&function(ee,H){var q;const Re=null===(q=H.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===H.code)H.resolver=new z(ee,O.am(ee,H));else if(Re){const He=an(H),mt=H;He&&(mt.credential=He,mt.tenantId=Re.tenantId||void 0,mt.email=Re.email||void 0,mt.phoneNumber=Re.phoneNumber||void 0)}}(ee,q),q}).then(q=>{const He=q.user;return{operationType:q.operationType,credential:gs(q),additionalUserInfo:O.ak(q),user:$.getOrCreate(He)}})}function ms(ee,H){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(ee,H){const q=yield H;return{verificationId:q.verificationId,confirm:Re=>Zt(ee,q.confirm(Re))}})).apply(this,arguments)}class z{constructor(H,q){this.resolver=q,this.auth=H.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return Zt(We(this.auth),this.resolver.resolveSignIn(H))}}class ${constructor(H){this._delegate=H,this.multiFactor=O.an(H)}static getOrCreate(H){return $.USER_MAP.has(H)||$.USER_MAP.set(H,new $(H)),$.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var q=this;return(0,h.Z)(function*(){return Zt(q.auth,O.Y(q._delegate,H))})()}linkWithPhoneNumber(H,q){var Re=this;return(0,h.Z)(function*(){return ms(Re.auth,O.l(Re._delegate,H,q))})()}linkWithPopup(H){var q=this;return(0,h.Z)(function*(){return Zt(q.auth,O.d(q._delegate,H,Je))})()}linkWithRedirect(H){var q=this;return(0,h.Z)(function*(){return yield Pe(O.aC(q.auth)),O.g(q._delegate,H,Je)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var q=this;return(0,h.Z)(function*(){return Zt(q.auth,O.Z(q._delegate,H))})()}reauthenticateWithPhoneNumber(H,q){return ms(this.auth,O.r(this._delegate,H,q))}reauthenticateWithPopup(H){return Zt(this.auth,O.e(this._delegate,H,Je))}reauthenticateWithRedirect(H){var q=this;return(0,h.Z)(function*(){return yield Pe(O.aC(q.auth)),O.h(q._delegate,H,Je)})()}sendEmailVerification(H){return O.aa(this._delegate,H)}unlink(H){var q=this;return(0,h.Z)(function*(){return yield O.aj(q._delegate,H),q})()}updateEmail(H){return O.af(this._delegate,H)}updatePassword(H){return O.ag(this._delegate,H)}updatePhoneNumber(H){return O.u(this._delegate,H)}updateProfile(H){return O.ae(this._delegate,H)}verifyBeforeUpdateEmail(H,q){return O.ab(this._delegate,H,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const De=O.aw;let ce=(()=>{class ee{constructor(q,Re){if(this.app=q,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=q.options;De(He,"invalid-api-key",{appName:q.name});let mt=[O.K];if("undefined"!=typeof window){mt=function(ee,H){const q=un();if(!(null==q?void 0:q.sessionStorage))return[];const Re=O.ay(pi,ee,H);switch(q.sessionStorage.getItem(Re)){case xt.NONE:return[O.K];case xt.LOCAL:return[O.i,O.a];case xt.SESSION:return[O.a];default:return[]}}(He,q.name);for(const Lt of[O.i,O.b,O.a])mt.includes(Lt)||mt.push(Lt)}De(He,"invalid-api-key",{appName:q.name});const St="undefined"!=typeof window?Je:void 0;this._delegate=Re.initialize({options:{persistence:mt,popupRedirectResolver:St}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Re){O.E(this._delegate,q,Re)}applyActionCode(q){return O.a1(this._delegate,q)}checkActionCode(q){return O.a2(this._delegate,q)}confirmPasswordReset(q,Re){return O.a0(this._delegate,q,Re)}createUserWithEmailAndPassword(q,Re){var He=this;return(0,h.Z)(function*(){return Zt(He._delegate,O.a4(He._delegate,q,Re))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return O.a9(this._delegate,q)}isSignInWithEmailLink(q){return O.a7(this._delegate,q)}getRedirectResult(){var q=this;return(0,h.Z)(function*(){De(Vn(),q._delegate,"operation-not-supported-in-this-environment");const Re=yield O.j(q._delegate,Je);return Re?Zt(q._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function(ee,H){(0,O.aC)(ee)._logFramework(H)}(this._delegate,q)}onAuthStateChanged(q,Re,He){const{next:mt,error:St,complete:Lt}=Ge(q,Re,He);return this._delegate.onAuthStateChanged(mt,St,Lt)}onIdTokenChanged(q,Re,He){const{next:mt,error:St,complete:Lt}=Ge(q,Re,He);return this._delegate.onIdTokenChanged(mt,St,Lt)}sendSignInLinkToEmail(q,Re){return O.a6(this._delegate,q,Re)}sendPasswordResetEmail(q,Re){return O.$(this._delegate,q,Re||void 0)}setPersistence(q){var Re=this;return(0,h.Z)(function*(){let He;switch(function(ee,H){Bn(Object.values(xt).includes(H),ee,"invalid-persistence-type"),(0,ue.b$)()?Bn(H!==xt.SESSION,ee,"unsupported-persistence-type"):(0,ue.UG)()?Bn(H===xt.NONE,ee,"unsupported-persistence-type"):cr()?Bn(H===xt.NONE||H===xt.LOCAL&&(0,ue.hl)(),ee,"unsupported-persistence-type"):Bn(H===xt.NONE||Yr(),ee,"unsupported-persistence-type")}(Re._delegate,q),q){case xt.SESSION:He=O.a;break;case xt.LOCAL:He=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case xt.NONE:He=O.K;break;default:return O.as("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Zt(this._delegate,O.W(this._delegate))}signInWithCredential(q){return Zt(this._delegate,O.X(this._delegate,q))}signInWithCustomToken(q){return Zt(this._delegate,O._(this._delegate,q))}signInWithEmailAndPassword(q,Re){return Zt(this._delegate,O.a5(this._delegate,q,Re))}signInWithEmailLink(q,Re){return Zt(this._delegate,O.a8(this._delegate,q,Re))}signInWithPhoneNumber(q,Re){return ms(this._delegate,O.s(this._delegate,q,Re))}signInWithPopup(q){var Re=this;return(0,h.Z)(function*(){return De(Vn(),Re._delegate,"operation-not-supported-in-this-environment"),Zt(Re._delegate,O.c(Re._delegate,q,Je))})()}signInWithRedirect(q){var Re=this;return(0,h.Z)(function*(){return De(Vn(),Re._delegate,"operation-not-supported-in-this-environment"),yield Pe(Re._delegate),O.f(Re._delegate,q,Je)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return O.a3(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=xt,ee})();function Ge(ee,H,q){let Re=ee;"function"!=typeof ee&&({next:Re,error:H,complete:q}=ee);const He=Re;return{next:St=>He(St&&$.getOrCreate(St)),error:H,complete:q}}class $e{constructor(){this.providerId="phone",this._delegate=new O.P(We(B.Z.auth()))}static credential(H,q){return O.P.credential(H,q)}verifyPhoneNumber(H,q){return this._delegate.verifyPhoneNumber(H,q)}unwrap(){return this._delegate}}$e.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,$e.PROVIDER_ID=O.P.PROVIDER_ID;const Ft=O.aw;var ee;(ee=B.Z).INTERNAL.registerComponent(new Te.wA("auth-compat",H=>{const q=H.getProvider("app-compat").getImmediate(),Re=H.getProvider("auth");return new ce(q,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,PhoneAuthProvider:$e,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(H,q,Re=B.Z.app()){var He;Ft(null===(He=Re.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new O.R(H,q,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ce,AuthCredential:O.G,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.1.6")},6676:function(rt,xe){!function(L){"use strict";function h(G){return Array.prototype.slice.call(G)}function B(G){return new Promise(function(ye,_e){G.onsuccess=function(){ye(G.result)},G.onerror=function(){_e(G.error)}})}function O(G,ye,_e){var le,Se=new Promise(function(Ke,Be){B(le=G[ye].apply(G,_e)).then(Ke,Be)});return Se.request=le,Se}function ue(G,ye,_e){var le=O(G,ye,_e);return le.then(function(Se){if(Se)return new k(Se,le.request)})}function se(G,ye,_e){_e.forEach(function(le){Object.defineProperty(G.prototype,le,{get:function(){return this[ye][le]},set:function(Se){this[ye][le]=Se}})})}function ae(G,ye,_e,le){le.forEach(function(Se){Se in _e.prototype&&(G.prototype[Se]=function(){return O(this[ye],Se,arguments)})})}function Te(G,ye,_e,le){le.forEach(function(Se){Se in _e.prototype&&(G.prototype[Se]=function(){return this[ye][Se].apply(this[ye],arguments)})})}function he(G,ye,_e,le){le.forEach(function(Se){Se in _e.prototype&&(G.prototype[Se]=function(){return ue(this[ye],Se,arguments)})})}function Y(G){this._index=G}function k(G,ye){this._cursor=G,this._request=ye}function U(G){this._store=G}function X(G){this._tx=G,this.complete=new Promise(function(ye,_e){G.oncomplete=function(){ye()},G.onerror=function(){_e(G.error)},G.onabort=function(){_e(G.error)}})}function K(G,ye,_e){this._db=G,this.oldVersion=ye,this.transaction=new X(_e)}function oe(G){this._db=G}se(Y,"_index",["name","keyPath","multiEntry","unique"]),ae(Y,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),he(Y,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(k,"_cursor",["direction","key","primaryKey","value"]),ae(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(G){G in IDBCursor.prototype&&(k.prototype[G]=function(){var ye=this,_e=arguments;return Promise.resolve().then(function(){return ye._cursor[G].apply(ye._cursor,_e),B(ye._request).then(function(le){if(le)return new k(le,ye._request)})})})}),U.prototype.createIndex=function(){return new Y(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new Y(this._store.index.apply(this._store,arguments))},se(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ae(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),he(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Te(U,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},se(X,"_tx",["objectStoreNames","mode"]),Te(X,"_tx",IDBTransaction,["abort"]),K.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},se(K,"_db",["name","version","objectStoreNames"]),Te(K,"_db",IDBDatabase,["deleteObjectStore","close"]),oe.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},se(oe,"_db",["name","version","objectStoreNames"]),Te(oe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(G){[U,Y].forEach(function(ye){G in ye.prototype&&(ye.prototype[G.replace("open","iterate")]=function(){var _e=h(arguments),le=_e[_e.length-1],Se=this._store||this._index,Ke=Se[G].apply(Se,_e.slice(0,-1));Ke.onsuccess=function(){le(Ke.result)}})})}),[Y,U].forEach(function(G){G.prototype.getAll||(G.prototype.getAll=function(ye,_e){var le=this,Se=[];return new Promise(function(Ke){le.iterateCursor(ye,function(Be){Be?(Se.push(Be.value),void 0===_e||Se.length!=_e?Be.continue():Ke(Se)):Ke(Se)})})})}),L.openDb=function(G,ye,_e){var le=O(indexedDB,"open",[G,ye]),Se=le.request;return Se&&(Se.onupgradeneeded=function(Ke){_e&&_e(new K(Se.result,Ke.oldVersion,Se.transaction))}),le.then(function(Ke){return new oe(Ke)})},L.deleteDb=function(G){return O(indexedDB,"deleteDatabase",[G])},Object.defineProperty(L,"__esModule",{value:!0})}(xe)},7574:(rt,xe,L)=>{"use strict";L.d(xe,{y:()=>U});var h=L(7393),O=L(9181),ue=L(6490),ae=L(6554),Te=L(4487);var k=L(2494);let U=(()=>{class K{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const fe=new K;return fe.source=this,fe.operator=Ce,fe}subscribe(Ce,fe,G){const{operator:ye}=this,_e=function(K,oe,Ce){if(K){if(K instanceof h.L)return K;if(K[O.b])return K[O.b]()}return K||oe||Ce?new h.L(K,oe,Ce):new h.L(ue.c)}(Ce,fe,G);if(_e.add(ye?ye.call(_e,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),k.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(fe){k.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=fe),function(K){for(;K;){const{closed:oe,destination:Ce,isStopped:fe}=K;if(oe||fe)return!1;K=Ce&&Ce instanceof h.L?Ce:null}return!0}(Ce)?Ce.error(fe):console.warn(fe)}}forEach(Ce,fe){return new(fe=X(fe))((G,ye)=>{let _e;_e=this.subscribe(le=>{try{Ce(le)}catch(Se){ye(Se),_e&&_e.unsubscribe()}},ye,G)})}_subscribe(Ce){const{source:fe}=this;return fe&&fe.subscribe(Ce)}[ae.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(K){return 0===K.length?Te.y:1===K.length?K[0]:function(Ce){return K.reduce((fe,G)=>G(fe),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=X(Ce))((fe,G)=>{let ye;this.subscribe(_e=>ye=_e,_e=>G(_e),()=>fe(ye))})}}return K.create=oe=>new K(oe),K})();function X(K){if(K||(K=k.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(rt,xe,L)=>{"use strict";L.d(xe,{c:()=>O});var h=L(2494),B=L(4449);const O={closed:!0,next(ue){},error(ue){if(h.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,B.z)(ue)},complete(){}}},9765:(rt,xe,L)=>{"use strict";L.d(xe,{Yc:()=>Te,xQ:()=>he});var h=L(7574),B=L(7393),O=L(5319),ue=L(7971),se=L(8858),ae=L(9181);class Te extends B.L{constructor(U){super(U),this.destination=U}}let he=(()=>{class k extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new Te(this)}lift(X){const K=new Y(this,this);return K.operator=X,K}next(X){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:K}=this,oe=K.length,Ce=K.slice();for(let fe=0;fe<oe;fe++)Ce[fe].next(X)}}error(X){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:K}=this,oe=K.length,Ce=K.slice();for(let fe=0;fe<oe;fe++)Ce[fe].error(X);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:X}=this,K=X.length,oe=X.slice();for(let Ce=0;Ce<K;Ce++)oe[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new ue.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new ue.N;return this.hasError?(X.error(this.thrownError),O.w.EMPTY):this.isStopped?(X.complete(),O.w.EMPTY):(this.observers.push(X),new se.W(this,X))}asObservable(){const X=new h.y;return X.source=this,X}}return k.create=(U,X)=>new Y(U,X),k})();class Y extends he{constructor(U,X){super(),this.destination=U,this.source=X}next(U){const{destination:X}=this;X&&X.next&&X.next(U)}error(U){const{destination:X}=this;X&&X.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:X}=this;return X?this.source.subscribe(U):O.w.EMPTY}}},8858:(rt,xe,L)=>{"use strict";L.d(xe,{W:()=>B});var h=L(5319);class B extends h.w{constructor(ue,se){super(),this.subject=ue,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,se=ue.observers;if(this.subject=null,!se||0===se.length||ue.isStopped||ue.closed)return;const ae=se.indexOf(this.subscriber);-1!==ae&&se.splice(ae,1)}}},7393:(rt,xe,L)=>{"use strict";L.d(xe,{L:()=>Te});var h=L(9105),B=L(6490),O=L(5319),ue=L(9181),se=L(2494),ae=L(4449);class Te extends O.w{constructor(k,U,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!k){this.destination=B.c;break}if("object"==typeof k){k instanceof Te?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,k,U,X)}}[ue.b](){return this}static create(k,U,X){const K=new Te(k,U,X);return K.syncErrorThrowable=!1,K}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class he extends Te{constructor(k,U,X,K){super(),this._parentSubscriber=k;let oe,Ce=this;(0,h.m)(U)?oe=U:U&&(oe=U.next,X=U.error,K=U.complete,U!==B.c&&(Ce=Object.create(U),(0,h.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=oe,this._error=X,this._complete=K}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;se.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:X}=se.v;if(this._error)X&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(U.syncErrorThrowable)X?(U.syncErrorValue=k,U.syncErrorThrown=!0):(0,ae.z)(k),this.unsubscribe();else{if(this.unsubscribe(),X)throw k;(0,ae.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const U=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,U){try{k.call(this._context,U)}catch(X){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw X;(0,ae.z)(X)}}__tryOrSetError(k,U,X){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,X)}catch(K){return se.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=K,k.syncErrorThrown=!0,!0):((0,ae.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(rt,xe,L)=>{"use strict";L.d(xe,{w:()=>ae});var h=L(9796),B=L(1555),O=L(9105);const se=(()=>{function he(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((k,U)=>`${U+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return he.prototype=Object.create(Error.prototype),he})();class ae{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:U,_unsubscribe:X,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ae)k.remove(this);else if(null!==k)for(let oe=0;oe<k.length;++oe)k[oe].remove(this);if((0,O.m)(X)){U&&(this._unsubscribe=void 0);try{X.call(this)}catch(oe){Y=oe instanceof se?Te(oe.errors):[oe]}}if((0,h.k)(K)){let oe=-1,Ce=K.length;for(;++oe<Ce;){const fe=K[oe];if((0,B.K)(fe))try{fe.unsubscribe()}catch(G){Y=Y||[],G instanceof se?Y=Y.concat(Te(G.errors)):Y.push(G)}}}if(Y)throw new se(Y)}add(Y){let k=Y;if(!Y)return ae.EMPTY;switch(typeof Y){case"function":k=new ae(Y);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ae)){const K=k;k=new ae,k._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:U}=k;if(null===U)k._parentOrParents=this;else if(U instanceof ae){if(U===this)return k;k._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return k;U.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[k]:X.push(k),k}remove(Y){const k=this._subscriptions;if(k){const U=k.indexOf(Y);-1!==U&&k.splice(U,1)}}}var he;function Te(he){return he.reduce((Y,k)=>Y.concat(k instanceof se?k.errors:k),[])}ae.EMPTY=((he=new ae).closed=!0,he)},2494:(rt,xe,L)=>{"use strict";L.d(xe,{v:()=>B});let h=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=O},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(rt,xe,L)=>{"use strict";L.d(xe,{IY:()=>ue,Ds:()=>ae,ft:()=>he});var h=L(7393),B=L(7574),O=L(7444);class ue extends h.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends h.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function he(Y,k){if(k.closed)return;if(Y instanceof B.y)return Y.subscribe(k);let U;try{U=(0,O.s)(Y)(k)}catch(X){k.error(X)}return U}},2441:(rt,xe,L)=>{"use strict";L.d(xe,{c:()=>se,N:()=>ae});var h=L(9765),B=L(7574),O=L(5319),ue=L(1307);class se extends B.y{constructor(U,X){super(),this.source=U,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new O.w,U.add(this.source.subscribe(new Te(this.getSubject(),this))),U.closed&&(this._connection=null,U=O.w.EMPTY)),U}refCount(){return(0,ue.x)()(this)}}const ae=(()=>{const k=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class Te extends h.Yc{constructor(U,X){super(U),this.connectable=X}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const X=U._connection;U._refCount=0,U._subject=null,U._connection=null,X&&X.unsubscribe()}}}},9193:(rt,xe,L)=>{"use strict";L.d(xe,{E:()=>B,c:()=>O});var h=L(7574);const B=new h.y(se=>se.complete());function O(se){return se?function(se){return new h.y(ae=>se.schedule(()=>ae.complete()))}(se):B}},4402:(rt,xe,L)=>{"use strict";L.d(xe,{D:()=>Ce});var h=L(7574),B=L(7444),O=L(5319),ue=L(6554),Te=L(4087),he=L(377),U=L(4072),X=L(9489);function Ce(fe,G){return G?function(fe,G){if(null!=fe){if(function(fe){return fe&&"function"==typeof fe[ue.L]}(fe))return function(fe,G){return new h.y(ye=>{const _e=new O.w;return _e.add(G.schedule(()=>{const le=fe[ue.L]();_e.add(le.subscribe({next(Se){_e.add(G.schedule(()=>ye.next(Se)))},error(Se){_e.add(G.schedule(()=>ye.error(Se)))},complete(){_e.add(G.schedule(()=>ye.complete()))}}))})),_e})}(fe,G);if((0,U.t)(fe))return function(fe,G){return new h.y(ye=>{const _e=new O.w;return _e.add(G.schedule(()=>fe.then(le=>{_e.add(G.schedule(()=>{ye.next(le),_e.add(G.schedule(()=>ye.complete()))}))},le=>{_e.add(G.schedule(()=>ye.error(le)))}))),_e})}(fe,G);if((0,X.z)(fe))return(0,Te.r)(fe,G);if(function(fe){return fe&&"function"==typeof fe[he.hZ]}(fe)||"string"==typeof fe)return function(fe,G){if(!fe)throw new Error("Iterable cannot be null");return new h.y(ye=>{const _e=new O.w;let le;return _e.add(()=>{le&&"function"==typeof le.return&&le.return()}),_e.add(G.schedule(()=>{le=fe[he.hZ](),_e.add(G.schedule(function(){if(ye.closed)return;let Se,Ke;try{const Be=le.next();Se=Be.value,Ke=Be.done}catch(Be){return void ye.error(Be)}Ke?ye.complete():(ye.next(Se),this.schedule())}))})),_e})}(fe,G)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,G):fe instanceof h.y?fe:new h.y((0,B.s)(fe))}},6693:(rt,xe,L)=>{"use strict";L.d(xe,{n:()=>ue});var h=L(7574),B=L(5015),O=L(4087);function ue(se,ae){return ae?(0,O.r)(se,ae):new h.y((0,B.V)(se))}},6682:(rt,xe,L)=>{"use strict";L.d(xe,{T:()=>se});var h=L(7574),B=L(4869),O=L(3282),ue=L(6693);function se(...ae){let Te=Number.POSITIVE_INFINITY,he=null,Y=ae[ae.length-1];return(0,B.K)(Y)?(he=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(Te=ae.pop())):"number"==typeof Y&&(Te=ae.pop()),null===he&&1===ae.length&&ae[0]instanceof h.y?ae[0]:(0,O.J)(Te)((0,ue.n)(ae,he))}},5917:(rt,xe,L)=>{"use strict";L.d(xe,{of:()=>ue});var h=L(4869),B=L(6693),O=L(4087);function ue(...se){let ae=se[se.length-1];return(0,h.K)(ae)?(se.pop(),(0,O.r)(se,ae)):(0,B.n)(se)}},8002:(rt,xe,L)=>{"use strict";L.d(xe,{U:()=>B});var h=L(7393);function B(se,ae){return function(he){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new O(se,ae))}}class O{constructor(ae,Te){this.project=ae,this.thisArg=Te}call(ae,Te){return Te.subscribe(new ue(ae,this.project,this.thisArg))}}class ue extends h.L{constructor(ae,Te,he){super(ae),this.project=Te,this.count=0,this.thisArg=he||this}_next(ae){let Te;try{Te=this.project.call(this.thisArg,ae,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(Te)}}},3282:(rt,xe,L)=>{"use strict";L.d(xe,{J:()=>O});var h=L(9773),B=L(4487);function O(ue=Number.POSITIVE_INFINITY){return(0,h.zg)(B.y,ue)}},9773:(rt,xe,L)=>{"use strict";L.d(xe,{zg:()=>ue});var h=L(8002),B=L(4402),O=L(5345);function ue(he,Y,k=Number.POSITIVE_INFINITY){return"function"==typeof Y?U=>U.pipe(ue((X,K)=>(0,B.D)(he(X,K)).pipe((0,h.U)((oe,Ce)=>Y(X,oe,K,Ce))),k)):("number"==typeof Y&&(k=Y),U=>U.lift(new se(he,k)))}class se{constructor(Y,k=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=k}call(Y,k){return k.subscribe(new ae(Y,this.project,this.concurrent))}}class ae extends O.Ds{constructor(Y,k,U=Number.POSITIVE_INFINITY){super(Y),this.project=k,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let k;const U=this.index++;try{k=this.project(Y,U)}catch(X){return void this.destination.error(X)}this.active++,this._innerSub(k)}_innerSub(Y){const k=new O.IY(this),U=this.destination;U.add(k);const X=(0,O.ft)(Y,k);X!==k&&U.add(X)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(rt,xe,L)=>{"use strict";L.d(xe,{ht:()=>U,QV:()=>Y});var h=L(7393),B=L(9193),O=L(5917),ue=L(7574);class he{constructor(oe,Ce,fe){this.kind=oe,this.value=Ce,this.error=fe,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,Ce,fe){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return Ce&&Ce(this.error);case"C":return fe&&fe()}}accept(oe,Ce,fe){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,Ce,fe)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return K=this.error,new ue.y(Ce=>Ce.error(K));case"C":return(0,B.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new he("N",oe):he.undefinedValueNotification}static createError(oe){return new he("E",void 0,oe)}static createComplete(){return he.completeNotification}}function Y(K,oe=0){return function(fe){return fe.lift(new k(K,oe))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class k{constructor(oe,Ce=0){this.scheduler=oe,this.delay=Ce}call(oe,Ce){return Ce.subscribe(new U(oe,this.scheduler,this.delay))}}class U extends h.L{constructor(oe,Ce,fe=0){super(oe),this.scheduler=Ce,this.delay=fe}static dispatch(oe){const{notification:Ce,destination:fe}=oe;Ce.observe(fe),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new X(oe,this.destination)))}_next(oe){this.scheduleMessage(he.createNext(oe))}_error(oe){this.scheduleMessage(he.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class X{constructor(oe,Ce){this.notification=oe,this.destination=Ce}}},1307:(rt,xe,L)=>{"use strict";L.d(xe,{x:()=>B});var h=L(7393);function B(){return function(ae){return ae.lift(new O(ae))}}class O{constructor(ae){this.connectable=ae}call(ae,Te){const{connectable:he}=this;he._refCount++;const Y=new ue(ae,he),k=Te.subscribe(Y);return Y.closed||(Y.connection=he.connect()),k}}class ue extends h.L{constructor(ae,Te){super(ae),this.connectable=Te}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const Te=ae._refCount;if(Te<=0)return void(this.connection=null);if(ae._refCount=Te-1,Te>1)return void(this.connection=null);const{connection:he}=this,Y=ae._connection;this.connection=null,Y&&(!he||Y===he)&&Y.unsubscribe()}}},3101:(rt,xe,L)=>{"use strict";L.d(xe,{R:()=>G});var h=L(7574);let B=1;const O=Promise.resolve(),ue={};function se(_e){return _e in ue&&(delete ue[_e],!0)}const ae={setImmediate(_e){const le=B++;return ue[le]=!0,O.then(()=>se(le)&&_e()),le},clearImmediate(_e){se(_e)}};var he=L(6465),k=L(6102);const K=new class extends k.v{flush(le){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let Ke,Be=-1,It=Se.length;le=le||Se.shift();do{if(Ke=le.execute(le.state,le.delay))break}while(++Be<It&&(le=Se.shift()));if(this.active=!1,Ke){for(;++Be<It&&(le=Se.shift());)le.unsubscribe();throw Ke}}}(class extends he.o{constructor(le,Se){super(le,Se),this.scheduler=le,this.work=Se}requestAsyncId(le,Se,Ke=0){return null!==Ke&&Ke>0?super.requestAsyncId(le,Se,Ke):(le.actions.push(this),le.scheduled||(le.scheduled=ae.setImmediate(le.flush.bind(le,null))))}recycleAsyncId(le,Se,Ke=0){if(null!==Ke&&Ke>0||null===Ke&&this.delay>0)return super.recycleAsyncId(le,Se,Ke);0===le.actions.length&&(ae.clearImmediate(Se),le.scheduled=void 0)}});var oe=L(9796);class fe extends h.y{constructor(le,Se=0,Ke=K){var _e;super(),this.source=le,this.delayTime=Se,this.scheduler=Ke,(!(!(0,oe.k)(_e=Se)&&_e-parseFloat(_e)+1>=0)||Se<0)&&(this.delayTime=0),(!Ke||"function"!=typeof Ke.schedule)&&(this.scheduler=K)}static create(le,Se=0,Ke=K){return new fe(le,Se,Ke)}static dispatch(le){const{source:Se,subscriber:Ke}=le;return this.add(Se.subscribe(Ke))}_subscribe(le){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:le})}}function G(_e,le=0){return function(Ke){return Ke.lift(new ye(_e,le))}}class ye{constructor(le,Se){this.scheduler=le,this.delay=Se}call(le,Se){return new fe(Se,this.delay,this.scheduler).subscribe(le)}}},3342:(rt,xe,L)=>{"use strict";L.d(xe,{b:()=>ue});var h=L(7393);function B(){}var O=L(9105);function ue(Te,he,Y){return function(U){return U.lift(new se(Te,he,Y))}}class se{constructor(he,Y,k){this.nextOrObserver=he,this.error=Y,this.complete=k}call(he,Y){return Y.subscribe(new ae(he,this.nextOrObserver,this.error,this.complete))}}class ae extends h.L{constructor(he,Y,k,U){super(he),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=k||B,this._tapComplete=U||B,(0,O.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||B,this._tapError=Y.error||B,this._tapComplete=Y.complete||B)}_next(he){try{this._tapNext.call(this._context,he)}catch(Y){return void this.destination.error(Y)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(Y){return void this.destination.error(Y)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(rt,xe,L)=>{"use strict";L.d(xe,{r:()=>O});var h=L(7574),B=L(5319);function O(ue,se){return new h.y(ae=>{const Te=new B.w;let he=0;return Te.add(se.schedule(function(){he!==ue.length?(ae.next(ue[he++]),ae.closed||Te.add(this.schedule())):ae.complete()})),Te})}},6465:(rt,xe,L)=>{"use strict";L.d(xe,{o:()=>O});var h=L(5319);class B extends h.w{constructor(se,ae){super()}schedule(se,ae=0){return this}}class O extends B{constructor(se,ae){super(se,ae),this.scheduler=se,this.work=ae,this.pending=!1}schedule(se,ae=0){if(this.closed)return this;this.state=se;const Te=this.id,he=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(he,Te,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(he,this.id,ae),this}requestAsyncId(se,ae,Te=0){return setInterval(se.flush.bind(se,this),Te)}recycleAsyncId(se,ae,Te=0){if(null!==Te&&this.delay===Te&&!1===this.pending)return ae;clearInterval(ae)}execute(se,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(se,ae);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ae){let he,Te=!1;try{this.work(se)}catch(Y){Te=!0,he=!!Y&&Y||new Error(Y)}if(Te)return this.unsubscribe(),he}_unsubscribe(){const se=this.id,ae=this.scheduler,Te=ae.actions,he=Te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&Te.splice(he,1),null!=se&&(this.id=this.recycleAsyncId(ae,se,null)),this.delay=null}}},6102:(rt,xe,L)=>{"use strict";L.d(xe,{v:()=>B});let h=(()=>{class O{constructor(se,ae=O.now){this.SchedulerAction=se,this.now=ae}schedule(se,ae=0,Te){return new this.SchedulerAction(this,se).schedule(Te,ae)}}return O.now=()=>Date.now(),O})();class B extends h{constructor(ue,se=h.now){super(ue,()=>B.delegate&&B.delegate!==this?B.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,se=0,ae){return B.delegate&&B.delegate!==this?B.delegate.schedule(ue,se,ae):super.schedule(ue,se,ae)}flush(ue){const{actions:se}=this;if(this.active)return void se.push(ue);let ae;this.active=!0;do{if(ae=ue.execute(ue.state,ue.delay))break}while(ue=se.shift());if(this.active=!1,ae){for(;ue=se.shift();)ue.unsubscribe();throw ae}}}},3637:(rt,xe,L)=>{"use strict";L.d(xe,{z:()=>O});var h=L(6465);const O=new(L(6102).v)(h.o)},7771:(rt,xe,L)=>{"use strict";L.d(xe,{c:()=>ae,N:()=>se});var h=L(6465),O=L(6102);const se=new class extends O.v{}(class extends h.o{constructor(he,Y){super(he,Y),this.scheduler=he,this.work=Y}schedule(he,Y=0){return Y>0?super.schedule(he,Y):(this.delay=Y,this.state=he,this.scheduler.flush(this),this)}execute(he,Y){return Y>0||this.closed?super.execute(he,Y):this._execute(he,Y)}requestAsyncId(he,Y,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(he,Y,k):he.flush(this)}}),ae=se},377:(rt,xe,L)=>{"use strict";L.d(xe,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(rt,xe,L)=>{"use strict";L.d(xe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(rt,xe,L)=>{"use strict";L.d(xe,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(rt,xe,L)=>{"use strict";L.d(xe,{N:()=>B});const B=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(rt,xe,L)=>{"use strict";function h(B){setTimeout(()=>{throw B},0)}L.d(xe,{z:()=>h})},4487:(rt,xe,L)=>{"use strict";function h(B){return B}L.d(xe,{y:()=>h})},9796:(rt,xe,L)=>{"use strict";L.d(xe,{k:()=>h});const h=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(rt,xe,L)=>{"use strict";L.d(xe,{z:()=>h});const h=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(rt,xe,L)=>{"use strict";function h(B){return"function"==typeof B}L.d(xe,{m:()=>h})},1555:(rt,xe,L)=>{"use strict";function h(B){return null!==B&&"object"==typeof B}L.d(xe,{K:()=>h})},4072:(rt,xe,L)=>{"use strict";function h(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}L.d(xe,{t:()=>h})},4869:(rt,xe,L)=>{"use strict";function h(B){return B&&"function"==typeof B.schedule}L.d(xe,{K:()=>h})},7444:(rt,xe,L)=>{"use strict";L.d(xe,{s:()=>U});var h=L(5015),B=L(4449),ue=L(377),ae=L(6554),he=L(9489),Y=L(4072),k=L(1555);const U=X=>{if(X&&"function"==typeof X[ae.L])return(X=>K=>{const oe=X[ae.L]();if("function"!=typeof oe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return oe.subscribe(K)})(X);if((0,he.z)(X))return(0,h.V)(X);if((0,Y.t)(X))return(X=>K=>(X.then(oe=>{K.closed||(K.next(oe),K.complete())},oe=>K.error(oe)).then(null,B.z),K))(X);if(X&&"function"==typeof X[ue.hZ])return(X=>K=>{const oe=X[ue.hZ]();for(;;){let Ce;try{Ce=oe.next()}catch(fe){return K.error(fe),K}if(Ce.done){K.complete();break}if(K.next(Ce.value),K.closed)break}return"function"==typeof oe.return&&K.add(()=>{oe.return&&oe.return()}),K})(X);{const oe=`You provided ${(0,k.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(oe)}}},5015:(rt,xe,L)=>{"use strict";L.d(xe,{V:()=>h});const h=B=>O=>{for(let ue=0,se=B.length;ue<se&&!O.closed;ue++)O.next(B[ue]);O.complete()}},6199:(rt,xe,L)=>{"use strict";var h=L(3018);let B=null;function O(){return B}const Te=new h.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function Y(){return(0,h.LFG)(U)}const k=new h.OlP("Location Initialized");let U=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){X()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){X()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Te))},n.\u0275prov=(0,h.Yz7)({factory:K,token:n,providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function K(){return new U((0,h.LFG)(Te))}function oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:ye,token:n,providedIn:"root"}),n})();function ye(n){const e=(0,h.LFG)(Te).location;return new le((0,h.LFG)(he),e&&e.origin||"")}const _e=new h.OlP("appBaseHref");let le=(()=>{class n extends G{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oe(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+fe(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const f=this.prepareExternalUrl(a+fe(l));this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){const f=this.prepareExternalUrl(a+fe(l));this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(_e,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends G{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=oe(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let f=this.prepareExternalUrl(a+fe(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){let f=this.prepareExternalUrl(a+fe(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(_e,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ce(Ie(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+fe(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(G),h.LFG(he))},n.normalizeQueryParams=fe,n.joinWithSlash=oe,n.stripTrailingSlash=Ce,n.\u0275prov=(0,h.Yz7)({factory:Be,token:n,providedIn:"root"}),n})();function Be(){return new Ke((0,h.LFG)(G),(0,h.LFG)(he))}function Ie(n){return n.replace(/\/index.html$/,"")}var ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Percent=1]="Percent",ie[ie.Currency=2]="Currency",ie[ie.Scientific=3]="Scientific",ie))(),ve=(()=>((ve=ve||{})[ve.Zero=0]="Zero",ve[ve.One=1]="One",ve[ve.Two=2]="Two",ve[ve.Few=3]="Few",ve[ve.Many=4]="Many",ve[ve.Other=5]="Other",ve))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))();function Cn(n,e){const t=(0,h.cg1)(n),s=t[h.wAp.NumberSymbols][e];if(void 0===s){if(e===pe.CurrencyDecimal)return t[h.wAp.NumberSymbols][pe.Decimal];if(e===pe.CurrencyGroup)return t[h.wAp.NumberSymbols][pe.Group]}return s}const cr=h.kL8,bn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function fn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class gi{}let jn=(()=>{class n extends gi{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(cr(s||this.locale)(t)){case ve.Zero:return"zero";case ve.One:return"one";case ve.Two:return"two";case ve.Few:return"few";case ve.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),uo=(()=>{class n{constructor(t,s,a,l){this._iterableDiffers=t,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),t.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),t.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),t.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(s=>this._toggleClass(s,!0)):Object.keys(t).forEach(s=>this._toggleClass(s,!!t[s])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(s=>this._toggleClass(s,!1)):Object.keys(t).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(t,s){(t=t.trim())&&t.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class xa{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yn=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,f)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new xa(null,this._ngForOf,-1,-1),null===f?void 0:f),I=new wr(a,_);s.push(I)}else if(null==f)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const _=this._viewContainer.get(l);this._viewContainer.move(_,f);const I=new wr(a,_);s.push(I)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=l,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class wr{constructor(e,t){this.record=e,this.view=t}}let br=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new Fi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Fi{constructor(){this.$implicit=null,this.ngIf=null}}function nn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function vn(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,h.AaK)(n)}'`)}class Oc{createSubscription(e,t){return e.subscribe({next:t,error:s=>{throw s}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ei{createSubscription(e,t){return e.then(t,s=>{throw s})}dispose(e){}onDestroy(e){}}const xu=new ei,ti=new Oc;let Ru=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,s=>this._updateLatestValue(t,s))}_selectStrategy(t){if((0,h.QGY)(t))return xu;if((0,h.F4k)(t))return ti;throw vn(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,s){t===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})();const Ou=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let mi=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw vn(n,t);return t.replace(Ou,s=>s[0].toUpperCase()+s.substr(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=h.Yjl({name:"titlecase",type:n,pure:!0}),n})(),Na=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw vn(n,t);return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=h.Yjl({name:"uppercase",type:n,pure:!0}),n})(),Or=(()=>{class n{constructor(t){this._locale=t}transform(t,s,a){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;a=a||this._locale;try{return function(n,e,t){return function(n,e,t,s,a,l,f=!1){let _="",I=!1;if(isFinite(n)){let A=function(n){let s,a,l,f,_,e=Math.abs(n)+"",t=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(a<0&&(a=l),a+=+e.slice(l+1),e=e.substring(0,l)):a<0&&(a=e.length),l=0;"0"===e.charAt(l);l++);if(l===(_=e.length))s=[0],a=1;else{for(_--;"0"===e.charAt(_);)_--;for(a-=l,s=[],f=0;l<=_;l++,f++)s[f]=Number(e.charAt(l))}return a>22&&(s=s.splice(0,21),t=a-1,a=1),{digits:s,exponent:t,integerLen:a}}(n);f&&(A=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(A));let M=e.minInt,F=e.minFrac,Q=e.maxFrac;if(l){const hn=l.match(bn);if(null===hn)throw new Error(`${l} is not a valid digit info`);const r=hn[1],i=hn[3],o=hn[5];null!=r&&(M=fn(r)),null!=i&&(F=fn(i)),null!=o?Q=fn(o):null!=i&&F>Q&&(Q=F)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let s=n.digits,a=s.length-n.integerLen;const l=Math.min(Math.max(e,a),t);let f=l+n.integerLen,_=s[f];if(f>0){s.splice(Math.max(n.integerLen,f));for(let F=f;F<s.length;F++)s[F]=0}else{a=Math.max(0,a),n.integerLen=1,s.length=Math.max(1,f=l+1),s[0]=0;for(let F=1;F<f;F++)s[F]=0}if(_>=5)if(f-1<0){for(let F=0;F>f;F--)s.unshift(0),n.integerLen++;s.unshift(1),n.integerLen++}else s[f-1]++;for(;a<Math.max(0,l);a++)s.push(0);let I=0!==l;const A=e+n.integerLen,M=s.reduceRight(function(F,Q,te,Me){return Me[te]=(Q+=F)<10?Q:Q-10,I&&(0===Me[te]&&te>=A?Me.pop():I=!1),Q>=10?1:0},0);M&&(s.unshift(M),n.integerLen++)}(A,F,Q);let te=A.digits,Me=A.integerLen;const qe=A.exponent;let et=[];for(I=te.every(hn=>!hn);Me<M;Me++)te.unshift(0);for(;Me<0;Me++)te.unshift(0);Me>0?et=te.splice(Me,te.length):(et=te,te=[0]);const Ht=[];for(te.length>=e.lgSize&&Ht.unshift(te.splice(-e.lgSize,te.length).join(""));te.length>e.gSize;)Ht.unshift(te.splice(-e.gSize,te.length).join(""));te.length&&Ht.unshift(te.join("")),_=Ht.join(Cn(t,s)),et.length&&(_+=Cn(t,a)+et.join("")),qe&&(_+=Cn(t,pe.Exponential)+"+"+qe)}else _=Cn(t,pe.Infinity);return _=n<0&&!I?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=n.split(";"),a=s[0],l=s[1],f=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],_=f[0],I=f[1]||"";t.posPre=_.substr(0,_.indexOf("#"));for(let M=0;M<I.length;M++){const F=I.charAt(M);"0"===F?t.minFrac=t.maxFrac=M+1:"#"===F?t.maxFrac=M+1:t.posSuf+=F}const A=_.split(",");if(t.gSize=A[1]?A[1].length:0,t.lgSize=A[2]||A[1]?(A[2]||A[1]).length:0,l){const M=a.length-t.posPre.length-t.posSuf.length,F=l.indexOf("#");t.negPre=l.substr(0,F).replace(/'/g,""),t.negSuf=l.substr(F+M).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,ie.Decimal),Cn(e,pe.MinusSign)),e,pe.Group,pe.Decimal,t)}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),a,s)}catch(l){throw vn(n,l.message)}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16))},n.\u0275pipe=h.Yjl({name:"number",type:n,pure:!0}),n})();let Ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:gi,useClass:jn}]}),n})();function Ir(n){return"server"===n}let Us=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new od((0,h.LFG)(Te),window)}),n})();class od{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ka(this.window.history)||ka(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ka(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ys extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ys,B||(B=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_s=_s||document.querySelector("base"),_s?_s.getAttribute("href"):null);return null==t?null:function(n){lo=lo||document.createElement("a"),lo.setAttribute("href",n);const e=lo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let lo,_s=null;const Fa=new h.OlP("TRANSITION_ID"),Lc=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=O(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Fa,Te,h.zs3],multi:!0}];class Dt{static init(){(0,h.VLi)(new Dt)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const _=function(I){f=f||I,l--,0==l&&s(f)};a.forEach(function(I){I.whenStable(_)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Uc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=new h.OlP("EventManagerPlugins");let po=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const f=a[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bs),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class La{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=O().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Ua=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),go=(()=>{class n extends Ua{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,a.push(s.appendChild(f))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(ku),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ku))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Te))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function ku(n){O().remove(n)}const Ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mt=/%COMP%/g;function Yo(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Yo(n,a,t):(a=a.replace(Mt,n),t.push(a))}return t}function Fu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $s=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Hs(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new qs(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new Ui(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Yo(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(po),h.LFG(go),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Hs{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ne[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Ne[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Ne[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fu(s)):this.eventManager.addEventListener(e,t,Fu(s))}}class qs extends Hs{constructor(e,t,s,a){super(e),this.component=s;const l=Yo(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Mt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Mt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Ui extends Hs{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Yo(a.id,a.styles,[]);for(let f=0;f<l.length;f++){const _=document.createElement("style");_.textContent=l[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jc=(()=>{class n extends La{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Te))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const yo=["alt","control","meta","shift"],Hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ii=(()=>{class n extends La{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),f=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let f="";if(yo.forEach(I=>{const A=s.indexOf(I);A>-1&&(s.splice(A,1),f+=I+".")}),f+=l,0!=s.length||0===l.length)return null;const _={};return _.domEventName=a,_.fullKey=f,_}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&gd.hasOwnProperty(e)&&(e=gd[e]))}return Hc[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),yo.forEach(l=>{l!=a&&ri[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Te))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){ys.makeCurrent(),Dt.init()},multi:!0},{provide:Te,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Zs=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:Bs,useClass:jc,multi:!0,deps:[Te,h.R0b,h.Lbi]},{provide:Bs,useClass:ii,multi:!0,deps:[Te]},[],{provide:$s,useClass:$s,deps:[po,go,h.AFp]},{provide:h.FYo,useExisting:$s},{provide:Ua,useExisting:go},{provide:go,useClass:go,deps:[Te]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:po,useClass:po,deps:[Bs,h.R0b]},{provide:class{},useClass:Uc,deps:[]},[]];let $a=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Fa,useExisting:h.AFp},Lc]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Zs,imports:[Ls,h.hGG]}),n})();"undefined"!=typeof window&&window;var jr=L(8939),Xi=L(3637),si=L(7574),pn=L(4402),st=L(5917),Dn=L(6643),Gs=L(3282);function $u(...n){return(0,Gs.J)(1)((0,st.of)(...n))}var Kc=L(4869);function Ha(...n){const e=n[n.length-1];return(0,Kc.K)(e)?(n.pop(),t=>$u(n,t,e)):t=>$u(n,t)}var Ei=L(7393);function Hu(){return n=>n.lift(new qa)}class qa{call(e,t){return t.subscribe(new Jh(e))}}class Jh extends Ei.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var gt=L(8002);function es(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Yc(n,e,t))}}class Yc{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new wd(e,this.accumulator,this.seed,this.hasSeed))}}class wd extends Ei.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}class ra{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Qc(e,this.compare,this.keySelector))}}class Qc extends Ei.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}function ts(n,e){return function(s){return s.lift(new Za(n,e))}}class Za{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ia(e,this.predicate,this.thisArg))}}class ia extends Ei.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}L(4828);var Xe,za=L(4486),be=L(8239),ns=L(5452),rs=L(6034),bo=L(5601),Ot=L(3854),bd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},is={},ln=ln||{},yt=bd||self;function Io(){}function Id(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sa(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oa="closure_uid_"+(1e9*Math.random()>>>0),Xh=0;function Zu(n,e,t){return n.call.apply(n.bind,arguments)}function ef(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function yn(n,e,t){return(yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zu:ef).apply(null,arguments)}function Co(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Mn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return e.prototype[a].apply(s,f)}}function aa(){this.s=this.s,this.o=this.o}var ua={};aa.prototype.s=!1,aa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,oa)&&n[oa]||(n[oa]=++Xh)}(this);delete ua[n]}},aa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ca=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},la=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function Mr(n){return Array.prototype.concat.apply([],arguments)}function wi(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Nr(n){return/^[\s\xa0]*$/.test(n)}var $r,Ks=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Jt(n,e){return-1!=n.indexOf(e)}function Ga(n,e){return n<e?-1:n>e?1:0}e:{var Wa=yt.navigator;if(Wa){var tf=Wa.userAgent;if(tf){$r=tf;break e}}$r=""}function Td(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function zu(n){const e={};for(const t in n)e[t]=n[t];return e}var b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<b.length;l++)t=b[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function x(n){return x[" "](n),n}x[" "]=Io;var nr,n,J=Jt($r,"Opera"),me=Jt($r,"Trident")||Jt($r,"MSIE"),ke=Jt($r,"Edge"),Ye=ke||me,Qe=Jt($r,"Gecko")&&!(Jt($r.toLowerCase(),"webkit")&&!Jt($r,"Edge"))&&!(Jt($r,"Trident")||Jt($r,"MSIE"))&&!Jt($r,"Edge"),zt=Jt($r.toLowerCase(),"webkit")&&!Jt($r,"Edge");function Bt(){var n=yt.document;return n?n.documentMode:void 0}e:{var gr="",Nn=(n=$r,Qe?/rv:([^\);]+)(\)|;)/.exec(n):ke?/Edge\/([\d\.]+)/.exec(n):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zt?/WebKit\/(\S+)/.exec(n):J?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nn&&(gr=Nn?Nn[1]:""),me){var ss=Bt();if(null!=ss&&ss>parseFloat(gr)){nr=String(ss);break e}}nr=gr}var To={};function bi(){return e=To,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Ks(String(nr)).split("."),t=Ks("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==n&&f<s;f++){var a=e[f]||"",l=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Ga(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Ga(0==a[2].length,0==l[2].length)||Ga(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var Gu=yt.document&&me&&(Bt()||parseInt(nr,10))||void 0,nf=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{yt.addEventListener("test",Io,e),yt.removeEventListener("test",Io,e)}catch(t){}return n}();function Hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function da(n,e){if(Hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qe){e:{try{x(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&da.Z.h.call(this)}}Hr.prototype.h=function(){this.defaultPrevented=!0},Mn(da,Hr);var Wu={2:"touch",3:"pen",4:"mouse"};da.prototype.h=function(){da.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qs="closure_listenable_"+(1e6*Math.random()|0),Jp=0;function Pn(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Jp,this.ca=this.fa=!1}function Jc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function rf(n){this.src=n,this.g={},this.h=0}function Do(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=ca(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Jc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ao(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}rf.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=Ao(n,e,s,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new Pn(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var sf="closure_lm_"+(1e6*Math.random()|0),Dd={};function Ad(n,e,t,s,a){if(s&&s.once)return Js(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ad(n,e[l],t,s,a);return null}return t=Sd(t),n&&n[Qs]?n.N(e,t,sa(s)?!!s.capture:!!s,a):My(n,e,t,!1,s,a)}function My(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=sa(a)?!!a.capture:!!a,_=el(n);if(_||(n[sf]=_=new rf(n)),(t=_.add(e,t,s,f,l)).proxy)return t;if(s=function(){var e=eg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)nf||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(Xp(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function Js(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Js(n,e[l],t,s,a);return null}return t=Sd(t),n&&n[Qs]?n.O(e,t,sa(s)?!!s.capture:!!s,a):My(n,e,t,!0,s,a)}function Xc(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Xc(n,e[l],t,s,a);else s=sa(s)?!!s.capture:!!s,t=Sd(t),n&&n[Qs]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ao(l=n.g[e],t,s,a))&&(Jc(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=el(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ao(e,t,s,a)),(t=-1<n?e[n]:null)&&Xs(t))}function Xs(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Qs])Do(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(Xp(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=el(e))?(Do(t,n),0==t.h&&(t.src=null,e[sf]=null)):Jc(n)}}}function Xp(n){return n in Dd?Dd[n]:Dd[n]="on"+n}function eg(n,e){if(n.ca)n=!0;else{e=new da(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&Xs(n),n=t.call(s,e)}return n}function el(n){return(n=n[sf])instanceof rf?n:null}var Ku="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sd(n){return"function"==typeof n?n:(n[Ku]||(n[Ku]=function(e){return n.handleEvent(e)}),n[Ku])}function rr(){aa.call(this),this.i=new rf(this),this.P=this,this.I=null}function Pr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Hr(e,n);else if(e instanceof Hr)e.target=e.target||n;else{var a=e;T(e=new Hr(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=xo(f,s,!0,e)&&a}if(a=xo(f=e.g=n,s,!0,e)&&a,a=xo(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=xo(f=e.g=t[l],s,!1,e)&&a}function xo(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var _=f.listener,I=f.ia||f.src;f.fa&&Do(n.i,f),a=!1!==_.call(I,s)&&a}}return a&&!s.defaultPrevented}Mn(rr,aa),rr.prototype[Qs]=!0,rr.prototype.removeEventListener=function(n,e,t,s){Xc(this,n,e,t,s)},rr.prototype.M=function(){if(rr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Jc(t[s]);delete n.g[e],n.h--}}this.I=null},rr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},rr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Ka=yt.JSON.stringify;function Ny(){var n=Qu;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var af,xd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Py,n=>n.reset());class Py{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function J0(n){yt.setTimeout(()=>{throw n},0)}function of(n,e){af||function(){var n=yt.Promise.resolve(void 0);af=function(){n.then(Ju)}}(),Yu||(af(),Yu=!0),Qu.add(n,e)}var Yu=!1,Qu=new class{constructor(){this.h=this.g=null}add(e,t){const s=xd.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ju(){for(var n;n=Ny();){try{n.h.call(n.g)}catch(t){J0(t)}var e=xd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Yu=!1}function tl(n,e){rr.call(this),this.h=n||1,this.g=e||yt,this.j=yn(this.kb,this),this.l=Date.now()}function cf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Rd(n,e,t){if("function"==typeof n)t&&(n=yn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yn(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function nl(n){n.g=Rd(()=>{n.g=null,n.i&&(n.i=!1,nl(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mn(tl,rr),(Xe=tl.prototype).da=!1,Xe.S=null,Xe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pr(this,"tick"),this.da&&(cf(this),this.start()))}},Xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.M=function(){tl.Z.M.call(this),cf(this),delete this.g};class Od extends aa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nl(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ya(n){aa.call(this),this.h=n,this.g={}}Mn(Ya,aa);var lf=[];function df(n,e,t,s){Array.isArray(t)||(t&&(lf[0]=t.toString()),t=lf);for(var a=0;a<t.length;a++){var l=Ad(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function ha(n){Td(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xs(e)},n),n.g={}}function Md(){this.g=!0}function m(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return Ka(t)}catch(_){return e}}(n,t)+(s?" "+s:"")})}Ya.prototype.M=function(){Ya.Z.M.call(this),ha(this)},Ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Md.prototype.Aa=function(){this.g=!1},Md.prototype.info=function(){};var P={},re=null;function Fe(){return re=re||new rr}function tt(n){Hr.call(this,P.Ma,n)}function ct(n){const e=Fe();Pr(e,new tt(e,n))}function Nt(n,e){Hr.call(this,P.STAT_EVENT,n),this.stat=e}function jt(n){const e=Fe();Pr(e,new Nt(e,n))}function os(n,e){Hr.call(this,P.Na,n),this.size=e}function as(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}P.Ma="serverreachability",Mn(tt,Hr),P.STAT_EVENT="statevent",Mn(Nt,Hr),P.Na="timingevent",Mn(os,Hr);var Qa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rl(){}function ff(){}rl.prototype.h=null;var Ro,bs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function il(){Hr.call(this,"d")}function Bi(){Hr.call(this,"c")}function Xu(){}function ec(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new Ya(this),this.P=X0,this.W=new tl(n=Ye?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sl}function sl(){this.i=null,this.g="",this.h=!1}Mn(il,Hr),Mn(Bi,Hr),Mn(Xu,rl),Xu.prototype.g=function(){return new XMLHttpRequest},Xu.prototype.i=function(){return{}},Ro=new Xu;var X0=45e3,eE={},ky={};function pf(n,e,t){n.K=1,n.v=Ly(fa(e)),n.s=t,n.U=!0,ng(n,null)}function ng(n,e){n.F=Date.now(),Nd(n),n.A=fa(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),oE(t.h,"t",s),n.C=0,t=n.l.H,n.h=new sl,n.g=Jy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Od(yn(n.Ia,n,n.g),n.O)),df(n.V,n.g,"readystatechange",n.gb),e=n.H?zu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ct(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var f="",_=l.split("&"),I=0;I<_.length;I++){var A=_[I].split("=");if(1<A.length){var M=A[0];A=A[1];var F=M.split("_");f=2<=F.length&&"type"==F[1]?f+(M+"=")+A+"&":f+(M+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function DC(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=bx(n,t),a==ky){4==e&&(n.o=4,jt(14),s=!1),m(n.j,n.m,null,"[Incomplete Response]");break}if(a==eE){n.o=4,jt(15),m(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}m(n.j,n.m,a,null),sg(n,a)}rg(n)&&a!=ky&&a!=eE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,jt(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qy(e),e.L=!0,jt(11))):(m(n.j,n.m,t,"[Invalid Chunked Response]"),ol(n),gf(n))}function bx(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?ky:(t=Number(e.substring(t,s)),isNaN(t)?eE:(s+=1)+t>e.length?ky:(e=e.substr(s,t),n.C=s+t,e))}function Nd(n){n.Y=Date.now()+n.P,tE(n,n.P)}function tE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=as(yn(n.eb,n),e)}function ig(n){n.B&&(yt.clearTimeout(n.B),n.B=null)}function gf(n){0==n.l.G||n.I||fE(n.l,n)}function ol(n){ig(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cf(n.W),ha(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$y(t.i,n)))if(t.I=n.N,!n.J&&$y(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(A){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=as(yn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Eg(t),nc(t)}_g(t),jt(18)}if(1>=jy(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else hl(t,11)}else if((n.J||t.g==n)&&Eg(t),!Nr(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const M=A[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const F=A[4];null!=F&&(t.za=F,t.h.info("SVER="+t.za));const Q=A[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.K=s=1.5*Q,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const te=n.g;if(te){const Me=te.g?te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Me){var l=s.i;!l.g&&(Jt(Me,"spdy")||Jt(Me,"quic")||Jt(Me,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(cE(l,l.h),l.h=null))}if(s.D){const qe=te.g?te.g.getResponseHeader("X-HTTP-Session-Id"):null;qe&&(s.sa=qe,kn(s.F,s.D,qe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((s=t).oa=mE(s,s.H?s.la:null,s.W),f.J){Hy(s.i,f);var _=f,I=s.K;I&&_.setTimeout(I),_.B&&(ig(_),Nd(_)),s.g=f}else yg(s);0<t.l.length&&Fd(t)}else"stop"!=A[0]&&"close"!=A[0]||hl(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?hl(t,7):pg(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}ct(4)}catch(A){}}function ag(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Id(n)||"string"==typeof n)la(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Id(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Id(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function tc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof tc)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function Fy(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];_n(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)_n(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function _n(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Xe=ec.prototype).setTimeout=function(n){this.P=n},Xe.gb=function(n){n=n.target;const e=this.L;e&&3==pa(n)?e.l():this.Ia(n)},Xe.Ia=function(n){try{if(n==this.g)e:{const M=pa(this.g);var e=this.g.Da();const F=this.g.ba();if(!(3>M)&&(3!=M||Ye||this.g&&(this.h.h||this.g.ga()||LC(this.g)))){this.I||4!=M||7==e||ct(8==e||0>=F?3:2),ig(this);var t=this.g.ba();this.N=t;t:if(rg(this)){var s=LC(this.g);n="";var a=s.length,l=4==pa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),gf(this);var f="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,f){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,I=this.g;if((_=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nr(_)){var A=_;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,jt(12),ol(this),gf(this);break e}m(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sg(this,t)}this.U?(DC(this,M,f),Ye&&this.i&&3==M&&(df(this.V,this.W,"tick",this.fb),this.W.start())):(m(this.j,this.m,f,null),sg(this,f)),4==M&&ol(this),this.i&&!this.I&&(4==M?fE(this.l,this):(this.i=!1,Nd(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),ol(this),gf(this)}}}catch(M){}},Xe.fb=function(){if(this.g){var n=pa(this.g),e=this.g.ga();this.C<e.length&&(ig(this),DC(this,n,e),this.i&&4!=n&&Nd(this))}},Xe.cancel=function(){this.I=!0,ol(this)},Xe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ct(3),jt(17)),ol(this),this.o=2,gf(this)):tE(this,this.Y-n)},(Xe=tc.prototype).R=function(){Fy(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Xe.T=function(){return Fy(this),this.g.concat()},Xe.get=function(n,e){return _n(this.h,n)?this.h[n]:e},Xe.set=function(n,e){_n(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Xe.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var nE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ja(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ja){this.g=void 0!==e?e:n.g,ug(this,n.j),this.s=n.s,cg(this,n.i),lg(this,n.m),this.l=n.l,e=n.h;var t=new _f;t.i=e.i,e.g&&(t.g=new tc(e.g),t.h=e.h),rE(this,t),this.o=n.o}else n&&(t=String(n).match(nE))?(this.g=!!e,ug(this,t[1]||"",!0),this.s=kr(t[2]||""),cg(this,t[3]||"",!0),lg(this,t[4]),this.l=kr(t[5]||"",!0),rE(this,t[6]||"",!0),this.o=kr(t[7]||"")):(this.g=!!e,this.h=new _f(null,this.g))}function fa(n){return new Ja(n)}function ug(n,e,t){n.j=t?kr(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cg(n,e,t){n.i=t?kr(e,!0):e}function lg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rE(n,e,t){e instanceof _f?(n.h=e,function(n,e){e&&!n.j&&(Xa(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(sE(this,s),oE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=al(e,Vy)),n.h=new _f(e,n.g))}function kn(n,e,t){n.h.set(e,t)}function Ly(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kr(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function al(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,iE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ja.prototype.toString=function(){var n=[],e=this.j;e&&n.push(al(e,Uy,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(al(e,Uy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(al(t,"/"==t.charAt(0)?yf:Ii,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",al(t,SC)),n.join("")};var Uy=/[#\/\?@]/g,Ii=/[#\?:]/g,yf=/[#\?]/g,Vy=/[#\?@]/g,SC=/#/g;function _f(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xa(n){n.g||(n.g=new tc,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sE(n,e){Xa(n),e=ul(n,e),_n(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,_n((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Fy(n)))}function By(n,e){return Xa(n),e=ul(n,e),_n(n.g.h,e)}function oE(n,e,t){sE(n,e),0<t.length&&(n.i=null,n.g.set(ul(n,e),wi(t)),n.h+=t.length)}function ul(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aE(n){this.l=n||uE,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=_f.prototype).add=function(n,e){Xa(this),this.i=null,n=ul(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Xa(this),this.g.forEach(function(t,s){la(t,function(a){n.call(e,a,s,this)},this)},this)},Xe.T=function(){Xa(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},Xe.R=function(n){Xa(this);var e=[];if("string"==typeof n)By(this,n)&&(e=Mr(e,this.g.get(ul(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Mr(e,n[t])}return e},Xe.set=function(n,e){return Xa(this),this.i=null,By(this,n=ul(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var f=a;""!==s[l]&&(f+="="+encodeURIComponent(String(s[l]))),n.push(f)}}return this.i=n.join("&")};var uE=10;function dg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jy(n){return n.h?1:n.g?n.g.size:0}function $y(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cE(n,e){n.g?n.g.add(e):n.h=e}function Hy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wi(n.i)}function qy(){}function OC(){this.g=new qy}function Pd(n,e,t){const s=t||"";try{ag(n,function(a,l){let f=a;sa(a)&&(f=Ka(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function hg(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function Ef(n){this.l=n.$b||null,this.j=n.ib||!1}function fg(n,e){rr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aE.prototype.cancel=function(){if(this.i=vf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qy.prototype.stringify=function(n){return yt.JSON.stringify(n,void 0)},qy.prototype.parse=function(n){return yt.JSON.parse(n,void 0)},Mn(Ef,rl),Ef.prototype.g=function(){return new fg(this.l,this.j)},Ef.prototype.i=function(n){return function(){return n}}({}),Mn(fg,rr);var Zy=0;function wf(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ci(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kd(n)}function kd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=fg.prototype).open=function(n,e){if(this.readyState!=Zy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kd(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ci(this)),this.readyState=Zy},Xe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wf(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Xe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ci(this):kd(this),3==this.readyState&&wf(this)}},Xe.Ua=function(n){this.g&&(this.response=this.responseText=n,Ci(this))},Xe.Ta=function(n){this.g&&(this.response=n,Ci(this))},Xe.ha=function(){this.g&&Ci(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var NC=yt.JSON.parse;function Tr(n){rr.call(this),this.headers=new tc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zy,this.K=this.L=!1}Mn(Tr,rr);var zy="",Cx=/^https?$/i,lE=["POST","PUT"];function kC(n){return"content-type"==n.toLowerCase()}function dE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cl(n),Gy(n)}function cl(n){n.D||(n.D=!0,Pr(n,"complete"),Pr(n,"error"))}function Oo(n){if(n.h&&void 0!==ln&&(!n.C[1]||4!=pa(n)||2!=n.ba()))if(n.v&&4==pa(n))Rd(n.Fa,0,n);else if(Pr(n,"readystatechange"),4==pa(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===_){var a=String(n.H).match(nE)[1]||null;if(!a&&yt.self&&yt.self.location){var l=yt.self.location.protocol;a=l.substr(0,l.length-1)}s=!Cx.test(a?a.toLowerCase():"")}t=s}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var f=2<pa(n)?n.g.statusText:""}catch(I){f=""}n.j=f+" ["+n.ba()+"]",cl(n)}}finally{Gy(n)}}}function Gy(n,e){if(n.g){FC(n);const t=n.g,s=n.C[0]?Io:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function FC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function pa(n){return n.g?n.g.readyState:0}function LC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function bf(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return Td(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function ll(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hE(n){this.za=0,this.l=[],this.h=new Md,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ll("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ll("baseRetryDelayMs",5e3,n),this.$a=ll("retryDelaySeedMs",1e4,n),this.Ya=ll("forwardChannelMaxRetries",2,n),this.ra=ll("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new aE(n&&n.concurrentRequestLimit),this.Ca=new OC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function pg(n){if(Wy(n),3==n.G){var e=n.V++,t=fa(n.F);kn(t,"SID",n.J),kn(t,"RID",e),kn(t,"TYPE","terminate"),mg(n,t),(e=new ec(n,n.h,e,void 0)).K=2,e.v=Ly(fa(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon&&(t=yt.navigator.sendBeacon(e.v.toString(),"")),!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nd(e)}gE(n)}function nc(n){n.g&&(Qy(n),n.g.cancel(),n.g=null)}function Wy(n){nc(n),n.u&&(yt.clearTimeout(n.u),n.u=null),Eg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function gg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Fd(n)}function Fd(n){dg(n.i)||n.m||(n.m=!0,of(n.Ha,n),n.C=0)}function Yy(n,e){var t;t=e?e.m:n.V++;const s=fa(n.F);kn(s,"SID",n.J),kn(s,"RID",t),kn(s,"AID",n.U),mg(n,s),n.o&&n.s&&bf(s,n.o,n.s),t=new ec(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=dl(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cE(n.i,t),pf(t,s,e)}function mg(n,e){n.j&&ag({},function(t,s){kn(e,s,t)})}function dl(n,e,t){t=Math.min(n.l.length,t);var s=n.j?yn(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let _=!0;for(let I=0;I<t;I++){let A=a[I].h;const M=a[I].g;if(A-=l,0>A)l=Math.max(0,a[I].h-100),_=!1;else try{Pd(M,f,"req"+A+"_")}catch(F){s&&s(M)}}if(_){s=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function yg(n){n.g||n.u||(n.Y=1,of(n.Ga,n),n.A=0)}function _g(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=as(yn(n.Ga,n),pE(n,n.A)),n.A++,0))}function Qy(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function vg(n){n.g=new ec(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=fa(n.oa);kn(e,"RID","rpc"),kn(e,"SID",n.J),kn(e,"CI",n.N?"0":"1"),kn(e,"AID",n.U),mg(n,e),kn(e,"TYPE","xmlhttp"),n.o&&n.s&&bf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ly(fa(e)),t.s=null,t.U=!0,ng(t,n)}function Eg(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function fE(n,e){var t=null;if(n.g==e){Eg(n),Qy(n),n.g=null;var s=2}else{if(!$y(n.i,e))return;t=e.D,Hy(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Pr(s=Fe(),new os(s,t,e,a)),Fd(n)}else yg(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(jy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=as(yn(n.Ha,n,e),pE(n,n.C)),n.C++,0)))}(n,e)||2==s&&_g(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:hl(n,5);break;case 4:hl(n,10);break;case 3:hl(n,6);break;default:hl(n,2)}}function pE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=yn(n.jb,n);t||(t=new Ja("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||ug(t,"https"),Ly(t)),function(n,e){const t=new Md;if(yt.Image){const s=new Image;s.onload=Co(hg,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Co(hg,t,s,"TestLoadImage: error",!1,e),s.onabort=Co(hg,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Co(hg,t,s,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else jt(2);n.G=0,n.j&&n.j.va(e),gE(n),Wy(n)}function gE(n){n.G=0,n.I=-1,n.j&&((0!=vf(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wi(n.l),n.l.length=0),n.j.ua())}function mE(n,e,t){let s=function(n){return n instanceof Ja?fa(n):new Ja(n,void 0)}(t);if(""!=s.i)e&&cg(s,e+"."+s.i),lg(s,s.m);else{const a=yt.location;s=function(n,e,t,s){var a=new Ja(null,void 0);return n&&ug(a,n),e&&cg(a,e),t&&lg(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Td(n.aa,function(a,l){kn(s,l,a)}),t=n.sa,(e=n.D)&&t&&kn(s,e,t),kn(s,"VER",n.ma),mg(n,s),s}function Jy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t&&n.Ba&&!n.qa?new Ef({ib:!0}):n.qa)).L=n.H,e}function wg(){}function If(){if(me&&!(10<=Number(Gu)))throw Error("Environmental error: no available transport.")}function ji(n,e){rr.call(this),this.g=new hE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Nr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nr(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fl(this)}function yE(n){il.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _E(){Bi.call(this),this.status=1}function fl(n){this.g=n}(Xe=Tr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ro.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Ro),this.g.onreadystatechange=yn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void dE(this,l)}n=t||"";const a=new tc(this.headers);s&&ag(s,function(l,f){a.set(f,l)}),s=function(n){e:{var e=kC;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=yt.FormData&&n instanceof yt.FormData,!(0<=ca(lE,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FC(this),0<this.B&&((this.K=function(n){return me&&bi()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.pa,this)):this.A=Rd(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){dE(this,l)}},Xe.pa=function(){void 0!==ln&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),Gy(this))},Xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gy(this,!0)),Tr.Z.M.call(this)},Xe.Fa=function(){this.s||(this.F||this.v||this.l?Oo(this):this.cb())},Xe.cb=function(){Oo(this)},Xe.ba=function(){try{return 2<pa(this)?this.g.status:-1}catch(n){return-1}},Xe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Xe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),NC(e)}},Xe.Da=function(){return this.m},Xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=hE.prototype).ma=8,Xe.G=1,Xe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Xe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new ec(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=zu(l),T(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dl(this,a,e),kn(t=fa(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),mg(this,t),this.o&&l&&bf(t,this.o,l),cE(this.i,a),this.Ra&&kn(t,"TYPE","init"),this.ja?(kn(t,"$req",e),kn(t,"SID","null"),a.$=!0,pf(a,t,null)):pf(a,t,e),this.G=2}}else 3==this.G&&(n?Yy(this,n):0==this.l.length||dg(this.i)||Yy(this))},Xe.Ga=function(){if(this.u=null,vg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=as(yn(this.bb,this),n)}},Xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jt(10),nc(this),vg(this))},Xe.ab=function(){null!=this.v&&(this.v=null,nc(this),_g(this),jt(19))},Xe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),jt(2)):(this.h.info("Failed to ping google.com"),jt(1))},(Xe=wg.prototype).xa=function(){},Xe.wa=function(){},Xe.va=function(){},Xe.ua=function(){},Xe.Oa=function(){},If.prototype.g=function(n,e){return new ji(n,e)},Mn(ji,rr),ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),of(yn(n.hb,n,e))),jt(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=mE(n,null,n.W),Fd(n)},ji.prototype.close=function(){pg(this.g)},ji.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,gg(this.g,e)}else this.v?((e={}).__data__=Ka(n),gg(this.g,e)):gg(this.g,n)},ji.prototype.M=function(){this.g.j=null,delete this.j,pg(this.g),delete this.g,ji.Z.M.call(this)},Mn(yE,il),Mn(_E,Bi),Mn(fl,wg),fl.prototype.xa=function(){Pr(this.g,"a")},fl.prototype.wa=function(n){Pr(this.g,new yE(n))},fl.prototype.va=function(n){Pr(this.g,new _E(n))},fl.prototype.ua=function(){Pr(this.g,"b")},If.prototype.createWebChannel=If.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,hf.COMPLETE="complete",ff.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",rr.prototype.listen=rr.prototype.N,Tr.prototype.listenOnce=Tr.prototype.O,Tr.prototype.getLastError=Tr.prototype.La,Tr.prototype.getLastErrorCode=Tr.prototype.Da,Tr.prototype.getStatus=Tr.prototype.ba,Tr.prototype.getResponseJson=Tr.prototype.Qa,Tr.prototype.getResponseText=Tr.prototype.ga,Tr.prototype.send=Tr.prototype.ea;var vE=is.createWebChannelTransport=function(){return new If},pl=is.getStatEventTarget=function(){return Fe()},bg=is.ErrorCode=Qa,EE=is.EventType=hf,UC=is.Event=P,Cf=is.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VC=is.FetchXmlHttpFactory=Ef,Tf=is.WebChannel=ff,wE=is.XhrIo=Tr;const Xy="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let gl="9.1.3";const Mo=new bo.Yd("@firebase/firestore");function Ld(){return Mo.logLevel}function je(n,...e){if(Mo.logLevel<=bo.in.DEBUG){const t=e.map(yl);Mo.debug(`Firestore (${gl}): ${n}`,...t)}}function mr(n,...e){if(Mo.logLevel<=bo.in.ERROR){const t=e.map(yl);Mo.error(`Firestore (${gl}): ${n}`,...t)}}function ml(n,...e){if(Mo.logLevel<=bo.in.WARN){const t=e.map(yl);Mo.warn(`Firestore (${gl}): ${n}`,...t)}}function yl(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function _t(n,e){n||at()}function ze(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jC{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class IE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CE{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let f=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Lr,e.enqueueRetryable(()=>l(this.currentUser))};const _=()=>{const A=f;e.enqueueRetryable((0,be.Z)(function*(){yield A.promise,yield l(s.currentUser)}))},I=A=>{je("FirebaseCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(A=>I(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?I(A):(je("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Lr)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(je("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t("string"==typeof s.accessToken),new jC(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Fr(e)}}class HC{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Fr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class qC{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new HC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function ZC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Hn.T=-1;class e_{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ZC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Gt(n,e){return n<e?-1:n>e?1:0}function Ud(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function TE(n){return n+"\0"}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new qr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function DE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _l(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vt{constructor(e,t,s){void 0===t?t=0:t>e.length&&at(),void 0===s?s=e.length-t:s>e.length-t&&at(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===vt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vt?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends vt{construct(e,t,s){return new on(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Le(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new on(t)}static emptyPath(){return new on([])}}const SE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends vt{construct(e,t,s){return new Dr(e,t,s)}static isValidIdentifier(e){return SE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Le(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Le(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[a+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Le(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=I,a+=2}else"`"===_?(f=!f,a++):"."!==_||f?(s+=_,a++):(l(),a++)}if(l(),f)throw new Le(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}class Ti{constructor(e){this.fields=e,e.sort(Dr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ud(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Zr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Zr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const t_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(n){if(_t(!!n),"string"==typeof n){let e=0;const t=t_.exec(n);if(_t(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vl(n){return"string"==typeof n?Zr.fromBase64String(n):Zr.fromUint8Array(n)}function Df(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zC(n){const e=n.mapValue.fields.__previous_value__;return Df(e)?zC(e):e}function Vd(n){const e=Di(n.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}function Bd(n){return null==n}function eo(n){return 0===n&&1/n==-1/0}function Af(n){return"number"==typeof n&&Number.isInteger(n)&&!eo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(on.fromString(e))}static fromName(e){return new nt(on.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new on(e.slice()))}}function eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Df(n)?4:10:at()}function tu(n,e){const t=eu(n);if(t!==eu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vd(n).isEqual(Vd(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Di(s.timestampValue),f=Di(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,vl(n.bytesValue).isEqual(vl(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ir(s.geoPointValue.latitude)===ir(a.geoPointValue.latitude)&&ir(s.geoPointValue.longitude)===ir(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ir(s.integerValue)===ir(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ir(s.doubleValue),f=ir(a.doubleValue);return l===f?eo(l)===eo(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Ud(n.arrayValue.values||[],e.arrayValue.values||[],tu);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(DE(l)!==DE(f))return!1;for(const _ in l)if(l.hasOwnProperty(_)&&(void 0===f[_]||!tu(l[_],f[_])))return!1;return!0}(n,e);default:return at()}var a}function Sf(n,e){return void 0!==(n.values||[]).find(t=>tu(t,e))}function El(n,e){const t=eu(n),s=eu(e);if(t!==s)return Gt(t,s);switch(t){case 0:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=ir(a.integerValue||a.doubleValue),_=ir(l.integerValue||l.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(n,e);case 3:return GC(n.timestampValue,e.timestampValue);case 4:return GC(Vd(n),Vd(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(a,l){const f=vl(a),_=vl(l);return f.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),_=l.split("/");for(let I=0;I<f.length&&I<_.length;I++){const A=Gt(f[I],_[I]);if(0!==A)return A}return Gt(f.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Gt(ir(a.latitude),ir(l.latitude));return 0!==f?f:Gt(ir(a.longitude),ir(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],_=l.values||[];for(let I=0;I<f.length&&I<_.length;++I){const A=El(f[I],_[I]);if(A)return A}return Gt(f.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const f=a.fields||{},_=Object.keys(f),I=l.fields||{},A=Object.keys(I);_.sort(),A.sort();for(let M=0;M<_.length&&M<A.length;++M){const F=Gt(_[M],A[M]);if(0!==F)return F;const Q=El(f[_[M]],I[A[M]]);if(0!==Q)return Q}return Gt(_.length,A.length)}(n.mapValue,e.mapValue);default:throw at()}}function GC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Di(n),s=Di(e),a=Gt(t.seconds,s.seconds);return 0!==a?a:Gt(t.nanos,s.nanos)}function n_(n){return RE(n)}function RE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Di(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vl(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=RE(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const _ of a)f?f=!1:l+=",",l+=`${_}:${RE(s.fields[_])}`;return l+"}"}(n.mapValue):at();var e}function xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ig(n){return!!n&&"integerValue"in n}function r_(n){return!!n&&"arrayValue"in n}function Cg(n){return!!n&&"nullValue"in n}function WC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function i_(n){return!!n&&"mapValue"in n}function Tg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _l(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Tg(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tg(n.arrayValue.values[t]);return e}return Object.assign({},n)}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!i_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tg(t)}setAll(e){let t=Dr.emptyPath(),s={},a=[];e.forEach((f,_)=>{if(!t.isImmediateParentOf(_)){const I=this.getFieldsMap(t);this.applyChanges(I,s,a),s={},a=[],t=_.popLast()}f?s[_.lastSegment()]=Tg(f):a.push(_.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());i_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];i_(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){_l(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new $i(Tg(this.value))}}function KC(n){const e=[];return _l(n.fields,(t,s)=>{const a=new Dr([t]);if(i_(s)){const l=KC(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Ti(e)}class qn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,At.min(),$i.empty(),0)}static newFoundDocument(e,t,s){return new qn(e,1,t,s,0)}static newNoDocument(e,t){return new qn(e,2,t,$i.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,$i.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new qn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tx{constructor(e,t=null,s=[],a=[],l=null,f=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=_,this.A=null}}function YC(n,e=null,t=[],s=[],a=null,l=null,f=null){return new Tx(n,e,t,s,a,l,f)}function Dg(n){const e=ze(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+n_(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=jd(e.startAt)),e.endAt&&(t+="|ub:",t+=jd(e.endAt)),e.A=t}return e.A}function s_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!PE(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!tu(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FE(n.startAt,e.startAt)&&FE(n.endAt,e.endAt)}function No(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class oi extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new OE(e,t,s):"array-contains"===t?new JC(e,s):"in"===t?new rc(e,s):"not-in"===t?new NE(e,s):"array-contains-any"===t?new XC(e,s):new oi(e,t,s)}static R(e,t,s){return"in"===t?new o_(e,s):new ME(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(El(t,this.value)):null!==t&&eu(this.value)===eu(t)&&this.P(El(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class OE extends oi{constructor(e,t,s){super(e,t,s),this.key=nt.fromName(s.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.P(t)}}class o_ extends oi{constructor(e,t){super(e,"in",t),this.keys=Ag(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ME extends oi{constructor(e,t){super(e,"not-in",t),this.keys=Ag(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ag(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nt.fromName(s.referenceValue))}class JC extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return r_(t)&&Sf(t.arrayValue,this.value)}}class rc extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sf(this.value.arrayValue,t)}}class NE extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sf(this.value.arrayValue,t)}}class XC extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!r_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Sf(this.value.arrayValue,s))}}class Sg{constructor(e,t){this.position=e,this.before=t}}function jd(n){return`${n.before?"b":"a"}:${n.position.map(e=>n_(e)).join(",")}`}class $d{constructor(e,t="asc"){this.field=e,this.dir=t}}function PE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function kE(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(s=l.field.isKeyField()?nt.comparator(nt.fromName(f.referenceValue),t.key):El(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function FE(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tu(n.position[t],e.position[t]))return!1;return!0}class Is{constructor(e,t=null,s=[],a=[],l=null,f="F",_=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=_,this.endAt=I,this.V=null,this.S=null}}function wl(n,e,t,s,a,l,f,_){return new Is(n,e,t,s,a,l,f,_)}function ic(n){return new Is(n)}function nu(n){return!Bd(n.limit)&&"F"===n.limitType}function sc(n){return!Bd(n.limit)&&"L"===n.limitType}function oc(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function a_(n){for(const e of n.filters)if(e.v())return e.field;return null}function xg(n){return null!==n.collectionGroup}function bl(n){const e=ze(n);if(null===e.V){e.V=[];const t=a_(e),s=oc(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new $d(t)),e.V.push(new $d(Dr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new $d(Dr.keyField(),l))}}}return e.V}function us(n){const e=ze(n);if(!e.S)if("F"===e.limitType)e.S=YC(e.path,e.collectionGroup,bl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of bl(e))t.push(new $d(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Sg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Sg(e.startAt.position,!e.startAt.before):null;e.S=YC(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function Rg(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return s_(us(n),us(e))&&n.limitType===e.limitType}function Rf(n){return`${Dg(us(n))}|lt:${n.limitType}`}function u_(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${n_(s.value)}`;var s}).join(", ")}]`),Bd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+jd(n.startAt)),n.endAt&&(e+=", endAt: "+jd(n.endAt)),`Target(${e})`}(us(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!kE(t.startAt,bl(t),s)||t.endAt&&kE(t.endAt,bl(t),s)));var t,s}function eT(n){return(e,t)=>{let s=!1;for(const a of bl(n)){const l=LE(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function LE(n,e,t){const s=n.field.isKeyField()?nt.comparator(e.key,t.key):function(a,l,f){const _=l.data.field(a),I=f.data.field(a);return null!==_&&null!==I?El(_,I):at()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return at()}}function c_(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(e)?"-0":e}}function UE(n){return{integerValue:""+n}}function l_(n,e){return Af(e)?UE(e):c_(n,e)}class Og{constructor(){this._=void 0}}function tT(n,e,t){return n instanceof Zd?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof zd?nT(n,e):n instanceof ac?rT(n,e):function(s,a){const l=VE(s,a),f=Mg(l)+Mg(s.C);return Ig(l)&&Ig(s.C)?UE(f):c_(s.N,f)}(n,e)}function Cs(n,e,t){return n instanceof zd?nT(n,e):n instanceof ac?rT(n,e):t}function VE(n,e){return n instanceof Gd?Ig(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Zd extends Og{}class zd extends Og{constructor(e){super(),this.elements=e}}function nT(n,e){const t=d_(e);for(const s of n.elements)t.some(a=>tu(a,s))||t.push(s);return{arrayValue:{values:t}}}class ac extends Og{constructor(e){super(),this.elements=e}}function rT(n,e){let t=d_(e);for(const s of n.elements)t=t.filter(a=>!tu(a,s));return{arrayValue:{values:t}}}class Gd extends Og{constructor(e,t){super(),this.N=e,this.C=t}}function Mg(n){return ir(n.integerValue||n.doubleValue)}function d_(n){return r_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Of{constructor(e,t){this.field=e,this.transform=t}}class sT{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mf{}function oT(n,e,t){n instanceof cs?function(s,a,l){const f=s.value.clone(),_=HE(s.fieldTransforms,a,l.transformResults);f.setAll(_),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ma?function(s,a,l){if(!Ng(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=HE(s.fieldTransforms,a,l.transformResults),_=a.data;_.setAll($E(s)),_.setAll(f),a.convertToFoundDocument(l.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function h_(n,e,t){var a;n instanceof cs?function(s,a,l){if(!Ng(s.precondition,a))return;const f=s.value.clone(),_=aT(s.fieldTransforms,l,a);f.setAll(_),a.convertToFoundDocument(jE(a),f).setHasLocalMutations()}(n,e,t):n instanceof ma?function(s,a,l){if(!Ng(s.precondition,a))return;const f=aT(s.fieldTransforms,l,a),_=a.data;_.setAll($E(s)),_.setAll(f),a.convertToFoundDocument(jE(a),_).setHasLocalMutations()}(n,e,t):Ng(n.precondition,a=e)&&a.convertToNoDocument(At.min())}function BE(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=VE(s.transform,a||null);null!=l&&(null==t&&(t=$i.empty()),t.set(s.field,l))}return t||null}function f_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Ud(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof zd&&s instanceof zd||t instanceof ac&&s instanceof ac?Ud(t.elements,s.elements,tu):t instanceof Gd&&s instanceof Gd?tu(t.C,s.C):t instanceof Zd&&s instanceof Zd);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function jE(n){return n.isFoundDocument()?n.version:At.min()}class cs extends Mf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class ma extends Mf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function $E(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function HE(n,e,t){const s=new Map;_t(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,_=e.data.field(l.field);s.set(l.field,Cs(f,_,t[a]))}return s}function aT(n,e,t){const s=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);s.set(a.field,tT(l,f,e))}return s}class Wd extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class p_ extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class uT{constructor(e){this.count=e}}var Ar,Wt;function qE(n){switch(n){default:return at();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function ZE(n){if(void 0===n)return mr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Ar.OK:return Ee.OK;case Ar.CANCELLED:return Ee.CANCELLED;case Ar.UNKNOWN:return Ee.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return Ee.INTERNAL;case Ar.UNAVAILABLE:return Ee.UNAVAILABLE;case Ar.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Ar.NOT_FOUND:return Ee.NOT_FOUND;case Ar.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Ar.ABORTED:return Ee.ABORTED;case Ar.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Ar.DATA_LOSS:return Ee.DATA_LOSS;default:return at()}}(Wt=Ar||(Ar={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";class sr{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:ai.RED,this.left=null!=a?a:ai.EMPTY,this.right=null!=l?l:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ai.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,s,a){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pg(this.data.getIterator())}getIteratorFrom(e){return new Pg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class Pg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const zE=new sr(nt.comparator);function to(){return zE}const cT=new sr(nt.comparator);function Nf(){return cT}const Ax=new sr(nt.comparator);function GE(){return Ax}const WE=new Fn(nt.comparator);function dn(...n){let e=WE;for(const t of n)e=e.add(t);return e}const KE=new Fn(Gt);function Pf(){return KE}class Yd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ts.createSynthesizedTargetChangeForCurrentChange(e,t)),new Yd(At.min(),s,Pf(),to(),dn())}}class Ts{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ts(Zr.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class Il{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class YE{constructor(e,t){this.targetId=e,this.O=t}}class QE{constructor(e,t,s=Zr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class lT{constructor(){this.F=0,this.M=Jd(),this.L=Zr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=dn(),t=dn(),s=dn();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:at()}}),new Ts(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=Jd()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Qd{constructor(e){this.tt=e,this.et=new Map,this.nt=to(),this.st=g_(),this.it=new Fn(Gt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(No(l))if(0===s){const f=new nt(l.path);this.at(t,f,qn.newNoDocument(f,At.min()))}else _t(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,f)=>{const _=this.dt(f);if(_){if(l.current&&No(_.target)){const I=new nt(_.target.path);null!==this.nt.get(I)||this.gt(f,I)||this.at(f,I,qn.newNoDocument(I,e))}l.K&&(t.set(f,l.W()),l.G())}});let s=dn();this.st.forEach((l,f)=>{let _=!0;f.forEachWhile(I=>{const A=this.dt(I);return!A||2===A.purpose||(_=!1,!1)}),_&&(s=s.add(l))});const a=new Yd(e,t,this.it,this.nt,s);return this.nt=to(),this.st=g_(),this.it=new Fn(Gt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new lT,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Fn(Gt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new lT),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function g_(){return new sr(nt.comparator)}function Jd(){return new sr(nt.comparator)}const kf={asc:"ASCENDING",desc:"DESCENDING"},dT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class m_{constructor(e,t){this.databaseId=e,this.D=t}}function Xd(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JE(n,e){return n.D?e.toBase64():e.toUint8Array()}function XE(n,e){return Xd(n,e.toTimestamp())}function zr(n){return _t(!!n),At.fromTimestamp(function(e){const t=Di(e);return new qr(t.seconds,t.nanos)}(n))}function Ff(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ew(n){const e=on.fromString(n);return _t(ow(e)),e}function Lf(n,e){return Ff(n.databaseId,e.path)}function Po(n,e){const t=ew(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(tw(t))}function uc(n,e){return Ff(n.databaseId,e)}function y_(n){const e=ew(n);return 4===e.length?on.emptyPath():tw(e)}function Uf(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tw(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cl(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function nw(n,e,t){const s=Po(n,e.name),a=zr(e.updateTime),l=new $i({mapValue:{fields:e.fields}}),f=qn.newFoundDocument(s,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function kg(n,e){let t;if(e instanceof cs)t={update:Cl(n,e.key,e.value)};else if(e instanceof Wd)t={delete:Lf(n,e.key)};else if(e instanceof ma)t={update:Cl(n,e.key,e.data),updateMask:sw(e.fieldMask)};else{if(!(e instanceof p_))return at();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof Zd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof zd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Gd)return{fieldPath:l.field.canonicalString(),increment:f.C};throw at()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:XE(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:at()),t;var a}function pT(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?yr.updateTime(zr(a.updateTime)):void 0!==a.exists?yr.exists(a.exists):yr.none():yr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let _=null;"setToServerValue"in f?(_t("REQUEST_TIME"===f.setToServerValue),_=new Zd):"appendMissingElements"in f?_=new zd(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new ac(f.removeAllFromArray.values||[]):"increment"in f?_=new Gd(l,f.increment):at();const I=Dr.fromServerFormat(f.fieldPath);return new Of(I,_)}(n,a)):[];var a;if(e.update){const a=Po(n,e.update.name),l=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ti((e.updateMask.fieldPaths||[]).map(A=>Dr.fromServerFormat(A)));return new ma(a,l,f,t,s)}return new cs(a,l,t,s)}if(e.delete){const a=Po(n,e.delete);return new Wd(a,t)}if(e.verify){const a=Po(n,e.verify);return new p_(a,t)}return at()}function __(n,e){return{documents:[uc(n,e.path)]}}function An(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=uc(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=uc(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(_){if(0===_.length)return;const I=_.map(A=>function(M){if("=="===M.op){if(WC(M.value))return{unaryFilter:{field:eh(M.field),op:"IS_NAN"}};if(Cg(M.value))return{unaryFilter:{field:eh(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(WC(M.value))return{unaryFilter:{field:eh(M.field),op:"IS_NOT_NAN"}};if(Cg(M.value))return{unaryFilter:{field:eh(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eh(M.field),op:mT(M.op),value:M.value}}}(A));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(_){if(0!==_.length)return _.map(I=>{return{field:eh((A=I).field),direction:xx(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(I=e.limit,n.D||Bd(I)?I:{value:I});var I;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=Lg(e.startAt)),e.endAt&&(t.structuredQuery.endAt=Lg(e.endAt)),t}function Fg(n){let e=y_(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){_t(1===s);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=ya(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(M=>{return new $d(Tl((F=M).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let _=null;t.limit&&(_=function(M){let F;return F="object"==typeof M?M.value:M,Bd(F)?null:F}(t.limit));let I=null;t.startAt&&(I=Ug(t.startAt));let A=null;return t.endAt&&(A=Ug(t.endAt)),wl(e,a,f,l,_,"F",I,A)}function ya(n){return n?void 0!==n.unaryFilter?[iw(n)]:void 0!==n.fieldFilter?[rw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ya(e)).reduce((e,t)=>e.concat(t)):at():[]}function Lg(n){return{before:n.before,values:n.position}}function Ug(n){return new Sg(n.values||[],!!n.before)}function xx(n){return kf[n]}function mT(n){return dT[n]}function eh(n){return{fieldPath:n.canonicalString()}}function Tl(n){return Dr.fromServerFormat(n.fieldPath)}function rw(n){return oi.create(Tl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function iw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tl(n.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tl(n.unaryFilter.field);return oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tl(n.unaryFilter.field);return oi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tl(n.unaryFilter.field);return oi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function sw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ow(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ko(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vg(e)),e=Vf(n.get(t),e);return Vg(e)}function Vf(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Vg(n){return n+"\x01\x01"}function _a(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&at(),n.charAt(f+1)){case"\x01":const _=n.substring(l,f);let I;0===a.length?I=_:(a+=_,I=a,a=""),s.push(I);break;case"\x10":a+=n.substring(l,f),a+="\0";break;case"\x11":a+=n.substring(l,f+1);break;default:at()}l=f+2}return new on(s)}class aw{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ls{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}ls.store="owner",ls.key="owner";class ru{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}ru.store="mutationQueues",ru.keyPath="userId";class Sn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}Sn.store="mutations",Sn.keyPath="batchId",Sn.userMutationsIndex="userMutationsIndex",Sn.userMutationsKeyPath=["userId","batchId"];class Ai{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ko(t)]}static key(e,t,s){return[e,ko(t),s]}}Ai.store="documentMutations",Ai.PLACEHOLDER=new Ai;class yT{constructor(e,t){this.path=e,this.readTime=t}}class _T{constructor(e,t){this.path=e,this.version=t}}class Zn{constructor(e,t,s,a,l,f){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=f}}Zn.store="remoteDocuments",Zn.readTimeIndex="readTimeIndex",Zn.readTimeIndexPath="readTime",Zn.collectionReadTimeIndex="collectionReadTimeIndex",Zn.collectionReadTimeIndexPath=["parentPath","readTime"];class iu{constructor(e){this.byteSize=e}}iu.store="remoteDocumentGlobal",iu.key="remoteDocumentGlobalKey";class Hi{constructor(e,t,s,a,l,f,_){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Hi.store="targets",Hi.keyPath="targetId",Hi.queryTargetsIndexName="queryTargetsIndex",Hi.queryTargetsKeyPath=["canonicalId","targetId"];class ui{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}ui.store="targetDocuments",ui.keyPath=["targetId","path"],ui.documentTargetsIndex="documentTargetsIndex",ui.documentTargetsKeyPath=["path","targetId"];class Ds{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}Ds.key="targetGlobalKey",Ds.store="targetGlobal";class th{constructor(e,t){this.collectionId=e,this.parent=t}}th.store="collectionParents",th.keyPath=["collectionId","parent"];class cc{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}cc.store="clientMetadata",cc.keyPath="clientId";class lc{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}lc.store="bundles",lc.keyPath="bundleId";class nh{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}nh.store="namedQueries",nh.keyPath="name";const uw=[ru.store,Sn.store,Ai.store,Zn.store,Hi.store,ls.store,Ds.store,ui.store,cc.store,iu.store,th.store,lc.store,nh.store],v_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,s)=>{t(e)})}static reject(e){return new Oe((t,s)=>{s(e)})}static waitFor(e){return new Oe((t,s)=>{let a=0,l=0,f=!1;e.forEach(_=>{++a,_.next(()=>{++l,f&&l===a&&t()},I=>s(I))}),f=!0,l===a&&t()})}static or(e){let t=Oe.resolve(!1);for(const s of e)t=t.next(a=>a?Oe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class E_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Lr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new rh(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=Bg(s.target.error);this.Et.reject(new rh(e,a))}}static open(e,t,s,a){try{return new E_(t,e.transaction(a,s))}catch(l){throw new rh(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new cw(t)}}class va{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===va.Rt((0,Ot.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Ot.hl)())return!1;if(va.Pt())return!0;const e=(0,Ot.z$)(),t=va.Rt(e),s=0<t&&t<10,a=va.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,be.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{s(f.target.result)},l.onblocked=()=>{a(new rh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const _=f.target.error;a("VersionError"===_.name?new Le(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Le(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new rh(e,_))},l.onupgradeneeded=f=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.At.Ct(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,be.Z)(function*(){const f="readonly"===t;let _=0;for(;;){++_;try{l.db=yield l.Dt(e);const I=E_.open(l.db,e,f?"readonly":"readwrite",s),A=a(I).catch(M=>(I.abort(M),Oe.reject(M))).toPromise();return A.catch(()=>{}),yield I.It,A}catch(I){const A="FirebaseError"!==I.name&&_<3;if(je("SimpleDb","Transaction failed with error:",I.message,"Retrying:",A),l.close(),!A)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Rx{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Dl(this.kt.delete())}}class rh extends Le{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function dc(n){return"IndexedDbTransactionError"===n.name}class cw{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Dl(s)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,f)=>{a.push(f)}).next(()=>a)}Ut(e,t){je("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,f,_)=>_.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Oe((s,a)=>{t.onerror=l=>{const f=Bg(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(_=>{_?f.continue():s()}):s()}})}Bt(e,t){const s=[];return new Oe((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const _=f.target.result;if(!_)return void a();const I=new Rx(_),A=t(_.primaryKey,_.value,I);if(A instanceof Oe){const M=A.catch(F=>(I.done(),Oe.reject(F)));s.push(M)}I.isDone?a():null===I.Ft?_.continue():_.continue(I.Ft)}}).next(()=>Oe.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dl(n){return new Oe((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=Bg(s.target.error);t(a)}})}let ET=!1;function Bg(n){const e=va.Rt((0,Ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ET||(ET=!0,setTimeout(()=>{throw s},0)),s}}return n}class w_ extends vT{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ds(n,e){const t=ze(n);return va.St(t.Qt,e)}class Bf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&oT(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&h_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&h_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&Ud(this.mutations,e.mutations,(t,s)=>f_(t,s))&&Ud(this.baseMutations,e.baseMutations,(t,s)=>f_(t,s))}}class b_{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){_t(e.mutations.length===s.length);let a=GE();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new b_(e,t,s,a)}}class hc{constructor(e,t,s,a,l=At.min(),f=At.min(),_=Zr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lw{constructor(e){this.Wt=e}}function I_(n,e){if(e.document)return nw(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=nt.fromSegments(e.noDocument.path),s=Al(e.noDocument.readTime),a=qn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=nt.fromSegments(e.unknownDocument.path),s=Al(e.unknownDocument.version);return qn.newUnknownDocument(t,s)}return at()}function dw(n,e,t){const s=C_(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Lf(_=n.Wt,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:Xd(_,I.version.toTimestamp())};return new Zn(null,null,l,e.hasCommittedMutations,s,a)}var _,I;if(e.isNoDocument()){const l=e.key.path.toArray(),f=Fo(e.version),_=e.hasCommittedMutations;return new Zn(null,new yT(l,f),null,_,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),f=Fo(e.version);return new Zn(new _T(l,f),null,null,!0,s,a)}return at()}function C_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function jf(n){const e=new qr(n[0],n[1]);return At.fromTimestamp(e)}function Fo(n){const e=n.toTimestamp();return new aw(e.seconds,e.nanoseconds)}function Al(n){const e=new qr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Si(n,e){const t=(e.baseMutations||[]).map(l=>pT(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>pT(n.Wt,l)),a=qr.fromMillis(e.localWriteTimeMs);return new Bf(e.batchId,a,t,s)}function su(n){const e=Al(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Al(n.lastLimboFreeSnapshotVersion):At.min();let s;var a;return void 0!==n.query.documents?(_t(1===(a=n.query).documents.length),s=us(ic(y_(a.documents[0])))):s=us(Fg(n.query)),new hc(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Zr.fromBase64String(n.resumeToken))}function hw(n,e){const t=Fo(e.snapshotVersion),s=Fo(e.lastLimboFreeSnapshotVersion);let a;a=No(e.target)?__(n.Wt,e.target):An(n.Wt,e.target);const l=e.resumeToken.toBase64();return new Hi(e.targetId,Dg(e.target),t,l,e.sequenceNumber,s,a)}function T_(n){const e=Fg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rg(e,e.limit,"L"):e}class D_{getBundleMetadata(e,t){return Lo(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Al(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Lo(e).put({bundleId:(s=t).id,createTime:Fo(zr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return ih(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:T_(a.bundledQuery),readTime:Al(a.readTime)};var a})}saveNamedQuery(e,t){return ih(e).put({name:(s=t).name,readTime:Fo(zr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Lo(n){return ds(n,lc.store)}function ih(n){return ds(n,nh.store)}class xi{constructor(){this.Gt=new ou}addToCollectionParentIndex(e,t){return this.Gt.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Gt.getEntries(t))}}class ou{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fn(on.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fn(on.comparator)).toArray()}}class jg{constructor(){this.zt=new ou}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:ko(a)};return As(e).put(l)}return Oe.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[TE(t),""],!1,!0);return As(e).Lt(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;s.push(_a(f.parent))}return s})}}function As(n){return ds(n,th.store)}const $g={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ur{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sl(n,e,t){const s=n.store(Sn.store),a=n.store(Ai.store),l=[],f=IDBKeyRange.only(t.batchId);let _=0;const I=s.Kt({range:f},(M,F,Q)=>(_++,Q.delete()));l.push(I.next(()=>{_t(1===_)}));const A=[];for(const M of t.mutations){const F=Ai.key(e,M.key.path,t.batchId);l.push(a.delete(F)),A.push(M.key)}return Oe.waitFor(l).next(()=>A)}function au(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(41943040,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);class fc{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){_t(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new fc(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ss(e).Kt({index:Sn.userMutationsIndex,range:s},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Uo(e),f=Ss(e);return f.add({}).next(_=>{_t("number"==typeof _);const I=new Bf(_,t,s,a),A=function(Q,te,Me){const qe=Me.baseMutations.map(Ht=>kg(Q.Wt,Ht)),et=Me.mutations.map(Ht=>kg(Q.Wt,Ht));return new Sn(te,Me.batchId,Me.localWriteTime.toMillis(),qe,et)}(this.N,this.userId,I),M=[];let F=new Fn((Q,te)=>Gt(Q.canonicalString(),te.canonicalString()));for(const Q of a){const te=Ai.key(this.userId,Q.key.path,_);F=F.add(Q.key.path.popLast()),M.push(f.put(A)),M.push(l.put(te,Ai.PLACEHOLDER))}return F.forEach(Q=>{M.push(this.Ht.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.Jt[_]=I.keys()}),Oe.waitFor(M).next(()=>I)})}lookupMutationBatch(e,t){return Ss(e).get(t).next(s=>s?(_t(s.userId===this.userId),Si(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Oe.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Ss(e).Kt({index:Sn.userMutationsIndex,range:a},(f,_,I)=>{_.userId===this.userId&&(_t(_.batchId>=s),l=Si(this.N,_)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ss(e).Kt({index:Sn.userMutationsIndex,range:t,reverse:!0},(a,l,f)=>{s=l.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ss(e).Lt(Sn.userMutationsIndex,t).next(s=>s.map(a=>Si(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ai.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Uo(e).Kt({range:a},(f,_,I)=>{const[A,M,F]=f,Q=_a(M);if(A===this.userId&&t.path.isEqual(Q))return Ss(e).get(F).next(te=>{if(!te)throw at();_t(te.userId===this.userId),l.push(Si(this.N,te))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fn(Gt);const a=[];return t.forEach(l=>{const f=Ai.prefixForPath(this.userId,l.path),_=IDBKeyRange.lowerBound(f),I=Uo(e).Kt({range:_},(A,M,F)=>{const[Q,te,Me]=A,qe=_a(te);Q===this.userId&&l.path.isEqual(qe)?s=s.add(Me):F.done()});a.push(I)}),Oe.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Ai.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(l);let _=new Fn(Gt);return Uo(e).Kt({range:f},(I,A,M)=>{const[F,Q,te]=I,Me=_a(Q);F===this.userId&&s.isPrefixOf(Me)?Me.length===a&&(_=_.add(te)):M.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Ss(e).get(l).next(f=>{if(null===f)throw at();_t(f.userId===this.userId),s.push(Si(this.N,f))}))}),Oe.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Sl(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Oe.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const s=IDBKeyRange.lowerBound(Ai.prefixForUser(this.userId)),a=[];return Uo(e).Kt({range:s},(l,f,_)=>{if(l[0]===this.userId){const I=_a(l[1]);a.push(I)}else _.done()}).next(()=>{_t(0===a.length)})})}containsKey(e,t){return xl(e,this.userId,t)}ee(e){return Rl(e).get(this.userId).next(t=>t||new ru(this.userId,-1,""))}}function xl(n,e,t){const s=Ai.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let f=!1;return Uo(n).Kt({range:l,qt:!0},(_,I,A)=>{const[M,F,Q]=_;M===e&&F===a&&(f=!0),A.done()}).next(()=>f)}function Ss(n){return ds(n,Sn.store)}function Uo(n){return ds(n,Ai.store)}function Rl(n){return ds(n,ru.store)}class no{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new no(0)}static ie(){return new no(-1)}}class fw{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new no(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>At.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ol(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(_t(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return Ol(e).Kt((f,_)=>{const I=su(_);I.sequenceNumber<=t&&null===s.get(I.targetId)&&(a++,l.push(this.removeTargetData(e,I)))}).next(()=>Oe.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Ol(e).Kt((s,a)=>{const l=su(a);t(l)})}re(e){return A_(e).get(Ds.key).next(t=>(_t(null!==t),t))}oe(e,t){return A_(e).put(Ds.key,t)}ae(e,t){return Ol(e).put(hw(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Dg(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Ol(e).Kt({range:a,index:Hi.queryTargetsIndexName},(f,_,I)=>{const A=su(_);s_(t,A.target)&&(l=A,I.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=uu(e);return t.forEach(f=>{const _=ko(f.path);a.push(l.put(new ui(s,_))),a.push(this.referenceDelegate.addReference(e,s,f))}),Oe.waitFor(a)}removeMatchingKeys(e,t,s){const a=uu(e);return Oe.forEach(t,l=>{const f=ko(l.path);return Oe.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=uu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=uu(e);let l=dn();return a.Kt({range:s,qt:!0},(f,_,I)=>{const A=_a(f[1]),M=new nt(A);l=l.add(M)}).next(()=>l)}containsKey(e,t){const s=ko(t.path),a=IDBKeyRange.bound([s],[TE(s)],!1,!0);let l=0;return uu(e).Kt({index:ui.documentTargetsIndex,qt:!0,range:a},([f,_],I,A)=>{0!==f&&(l++,A.done())}).next(()=>l>0)}Tt(e,t){return Ol(e).get(t).next(s=>s?su(s):null)}}function Ol(n){return ds(n,Hi.store)}function A_(n){return ds(n,Ds.store)}function uu(n){return ds(n,ui.store)}function pc(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,be.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==v_)throw n;je("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function S_([n,e],[t,s]){const a=Gt(n,t);return 0===a?Gt(e,s):a}class pw{constructor(e){this.ue=e,this.buffer=new Fn(S_),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();S_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gw{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){dc(a)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield pc(a)}yield t._e(e)}))}}class wT{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Hn.T);const s=new pw(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve($g)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$g):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,f,_,I,A;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),a=this.params.maximumSequenceNumbersToCollect):a=F,f=Date.now(),this.nthSequenceNumber(e,a))).next(F=>(s=F,_=Date.now(),this.removeTargets(e,s,t))).next(F=>(l=F,I=Date.now(),this.removeOrphanedDocuments(e,s))).next(F=>(A=Date.now(),Ld()<=bo.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-M}ms\n\tDetermined least recently used ${a} in `+(_-f)+`ms\n\tRemoved ${l} targets in `+(I-_)+`ms\n\tRemoved ${F} documents in `+(A-I)+`ms\nTotal Duration: ${A-M}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:F})))}}class mw{constructor(e,t){this.db=e,this.garbageCollector=new wT(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return qg(e,s)}removeReference(e,t,s){return qg(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return qg(e,t)}Ie(e,t){return function(s,a){let l=!1;return Rl(s).jt(f=>xl(s,f,a).next(_=>(_&&(l=!0),Oe.resolve(!_)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(f,_)=>{if(_<=t){const I=this.Ie(e,f).next(A=>{if(!A)return l++,s.getEntry(e,f).next(()=>(s.removeEntry(f),uu(e).delete([0,ko(f.path)])))});a.push(I)}}).next(()=>Oe.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return qg(e,t)}Ee(e,t){const s=uu(e);let a,l=Hn.T;return s.Kt({index:ui.documentTargetsIndex},([f,_],{path:I,sequenceNumber:A})=>{0===f?(l!==Hn.T&&t(new nt(_a(a)),l),l=A,a=I):l=Hn.T}).next(()=>{l!==Hn.T&&t(new nt(_a(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qg(n,e){return uu(n).put((s=n.currentSequenceNumber,new ui(0,ko(e.path),s)));var s}class sh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){_l(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return AE(this.inner)}}class x_{constructor(){this.changes=new sh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:At.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:qn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Oe.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bT{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return cu(e).put(Zg(t),s)}removeEntry(e,t){const s=cu(e),a=Zg(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return cu(e).get(Zg(t)).next(s=>this.Re(t,s))}be(e,t){return cu(e).get(Zg(t)).next(s=>({document:this.Re(t,s),size:au(s)}))}getEntries(e,t){let s=to();return this.Pe(e,t,(a,l)=>{const f=this.Re(a,l);s=s.insert(a,f)}).next(()=>s)}ve(e,t){let s=to(),a=new sr(nt.comparator);return this.Pe(e,t,(l,f)=>{const _=this.Re(l,f);s=s.insert(l,_),a=a.insert(l,au(f))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Oe.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let f=l.getNext();return cu(e).Kt({range:a},(_,I,A)=>{const M=nt.fromSegments(_);for(;f&&nt.comparator(f,M)<0;)s(f,null),f=l.getNext();f&&f.isEqual(M)&&(s(f,I),f=l.hasNext()?l.getNext():null),f?A.Mt(f.path.toArray()):A.done()}).next(()=>{for(;f;)s(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=to();const l=t.path.length+1,f={};if(s.isEqual(At.min())){const _=t.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),I=C_(s);f.range=IDBKeyRange.lowerBound([_,I],!0),f.index=Zn.collectionReadTimeIndex}return cu(e).Kt(f,(_,I,A)=>{if(_.length!==l)return;const M=I_(this.N,I);t.path.isPrefixOf(M.key.path)?qd(t,M)&&(a=a.insert(M.key,M)):A.done()}).next(()=>a)}newChangeBuffer(e){return new Ox(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yw(e).get(iu.key).next(t=>(_t(!!t),t))}Ae(e,t){return yw(e).put(iu.key,t)}Re(e,t){if(t){const s=I_(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(At.min()))return s}return qn.newInvalidDocument(e)}}class Ox extends x_{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new sh(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Fn((l,f)=>Gt(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const _=this.De.get(l);if(f.document.isValidDocument()){const I=dw(this.Se.N,f.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=au(I)-_,t.push(this.Se.addEntry(e,l,I))}else if(s-=_,this.trackRemovals){const I=dw(this.Se.N,qn.newNoDocument(l,At.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,I))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Oe.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,f)=>{this.De.set(l,f)}),s))}}function yw(n){return ds(n,iu.store)}function cu(n){return ds(n,Zn.store)}function Zg(n){return n.path.toArray()}class _w{constructor(e){this.N=e}Ct(e,t,s,a){_t(s<a&&s>=0&&a<=11);const l=new E_("createOrUpgrade",t);var _;s<1&&a>=1&&(e.createObjectStore(ls.store),(_=e).createObjectStore(ru.store,{keyPath:ru.keyPath}),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Ai.store),vw(e),function(_){_.createObjectStore(Zn.store)}(e));let f=Oe.resolve();return s<3&&a>=3&&(0!==s&&(function(_){_.deleteObjectStore(ui.store),_.deleteObjectStore(Hi.store),_.deleteObjectStore(Ds.store)}(e),vw(e)),f=f.next(()=>function(_){const I=_.store(Ds.store),A=new Ds(0,0,At.min().toTimestamp(),0);return I.put(Ds.key,A)}(l))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(_,I){return I.store(Sn.store).Lt().next(A=>{_.deleteObjectStore(Sn.store),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0});const M=I.store(Sn.store),F=A.map(Q=>M.put(Q));return Oe.waitFor(F)})}(e,l))),f=f.next(()=>{!function(_){_.createObjectStore(cc.store,{keyPath:cc.keyPath})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ce(l))),s<6&&a>=6&&(f=f.next(()=>(function(_){_.createObjectStore(iu.store)}(e),this.Ne(l)))),s<7&&a>=7&&(f=f.next(()=>this.xe(l))),s<8&&a>=8&&(f=f.next(()=>this.ke(e,l))),s<9&&a>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const I=_.objectStore(Zn.store);I.createIndex(Zn.readTimeIndex,Zn.readTimeIndexPath,{unique:!1}),I.createIndex(Zn.collectionReadTimeIndex,Zn.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(f=f.next(()=>this.$e(l))),s<11&&a>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(lc.store,{keyPath:lc.keyPath})})(e),function(_){_.createObjectStore(nh.store,{keyPath:nh.keyPath})}(e)})),f}Ne(e){let t=0;return e.store(Zn.store).Kt((s,a)=>{t+=au(a)}).next(()=>{const s=new iu(t);return e.store(iu.store).put(iu.key,s)})}Ce(e){const t=e.store(ru.store),s=e.store(Sn.store);return t.Lt().next(a=>Oe.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(Sn.userMutationsIndex,f).next(_=>Oe.forEach(_,I=>{_t(I.userId===l.userId);const A=Si(this.N,I);return Sl(e,l.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(ui.store),s=e.store(Zn.store);return e.store(Ds.store).get(Ds.key).next(a=>{const l=[];return s.Kt((f,_)=>{const I=new on(f),A=[0,ko(I)];l.push(t.get(A).next(M=>M?Oe.resolve():t.put(new ui(0,ko(I),a.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(l))})}ke(e,t){e.createObjectStore(th.store,{keyPath:th.keyPath});const s=t.store(th.store),a=new ou,l=f=>{if(a.add(f)){const _=f.lastSegment(),I=f.popLast();return s.put({collectionId:_,parent:ko(I)})}};return t.store(Zn.store).Kt({qt:!0},(f,_)=>{const I=new on(f);return l(I.popLast())}).next(()=>t.store(Ai.store).Kt({qt:!0},([f,_,I],A)=>{const M=_a(_);return l(M.popLast())}))}$e(e){const t=e.store(Hi.store);return t.Kt((s,a)=>{const l=su(a),f=hw(this.N,l);return t.put(f)})}}function vw(n){n.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.documentTargetsIndex,ui.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.queryTargetsIndexName,Hi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ds.store)}const R_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ew{constructor(e,t,s,a,l,f,_,I,A,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=f,this.document=_,this.Fe=A,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=F=>Promise.resolve(),!Ew.bt())throw new Le(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mw(this,a),this.We=t+"main",this.N=new lw(I),this.Ge=new va(this.We,11,new _w(this.N)),this.ze=new fw(this.referenceDelegate,this.N),this.Ht=new jg,this.He=new bT(this.N,this.Ht),this.Je=new D_,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(Ee.FAILED_PRECONDITION,R_);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Hn(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,be.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hf(e).put(new cc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(dc(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return $f(e).get(ls.key).next(t=>Oe.resolve(this.cn(t)))}un(e){return Hf(e).delete(this.clientId)}hn(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ds(s,cc.store);return a.Lt().next(l=>{const f=e.fn(l,18e5),_=l.filter(I=>-1===f.indexOf(I));return Oe.forEach(_,I=>a.delete(I.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Oe.resolve(!0):$f(e).get(ls.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Le(Ee.FAILED_PRECONDITION,R_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hf(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[ls.store,cc.store],t=>{const s=new w_(t,Hn.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Hf(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return fc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return je("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",uw,f=>(l=new w_(f,this.Le?this.Le.next():Hn.T),"readwrite-primary"===t?this.sn(l).next(_=>!!_||this.rn(l)).next(_=>{if(!_)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Le(Ee.FAILED_PRECONDITION,v_);return s(l)}).next(_=>this.an(l).next(()=>_)):this.Tn(l).next(()=>s(l)))).then(f=>(l.raiseOnCommittedEvent(),f))}Tn(e){return $f(e).get(ls.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(Ee.FAILED_PRECONDITION,R_)})}an(e){const t=new ls(this.clientId,this.allowTabSynchronization,Date.now());return $f(e).put(ls.key,t)}static bt(){return va.bt()}on(e){const t=$f(e);return t.get(ls.key).next(s=>this.cn(s)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete(ls.key)):Oe.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(mr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ot.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return je("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return mr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $f(n){return ds(n,ls.store)}function Hf(n){return ds(n,cc.store)}function ww(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Mx{constructor(e,t){this.progress=e,this.En=t}}class IT{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return nt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):xg(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new nt(t)).next(s=>{let a=Nf();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=Nf();return this.Ht.getCollectionParents(e,a).next(f=>Oe.forEach(f,_=>{const I=(A=t,M=_.child(a),new Is(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,M;return this.Dn(e,I,s).next(A=>{A.forEach((M,F)=>{l=l.insert(M,F)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(f=>(a=f,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(l=f,this.Cn(e,l,a).next(_=>{a=_;for(const I of l)for(const A of I.mutations){const M=A.key;let F=a.get(M);null==F&&(F=qn.newInvalidDocument(M),a=a.insert(M,F)),h_(A,F,I.localWriteTime),F.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((f,_)=>{qd(t,_)||(a=a.remove(f))}),a))}Cn(e,t,s){let a=dn();for(const f of t)for(const _ of f.mutations)_ instanceof ma&&null===s.get(_.key)&&(a=a.add(_.key));let l=s;return this.He.getEntries(e,a).next(f=>(f.forEach((_,I)=>{I.isFoundDocument()&&(l=l.insert(_,I))}),l))}}class O_{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=dn(),a=dn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new O_(e,t.fromCache,s,a)}}class CT{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(At.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const f=this.Mn(t,l);return(nu(t)||sc(t))&&this.Ln(t.limitType,f,a,s)?this.Fn(e,t):(Ld()<=bo.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),u_(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(_=>(f.forEach(I=>{_=_.insert(I.key,I)}),_)))});var l}Mn(e,t){let s=new Fn(eT(e));return t.forEach((a,l)=>{qd(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return Ld()<=bo.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",u_(t)),this.On.getDocumentsMatchingQuery(e,t,At.min())}}class TT{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new sr(Gt),this.qn=new sh(l=>Dg(l),s_),this.Kn=At.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new IT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function bw(n,e,t,s){return new TT(n,e,t,s)}function zg(n,e){return qf.apply(this,arguments)}function qf(){return(qf=(0,be.Z)(function*(n,e){const t=ze(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let _;return t.In.getAllMutationBatches(f).next(I=>(_=I,s=t.persistence.getMutationQueue(e),a=new IT(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(I=>{const A=[],M=[];let F=dn();for(const Q of _){A.push(Q.batchId);for(const te of Q.mutations)F=F.add(te.key)}for(const Q of I){M.push(Q.batchId);for(const te of Q.mutations)F=F.add(te.key)}return a.Pn(f,F).next(Q=>({Wn:Q,removedBatchIds:A,addedBatchIds:M}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function DT(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(f,_,I,A){const M=I.batch,F=M.keys();let Q=Oe.resolve();return F.forEach(te=>{Q=Q.next(()=>A.getEntry(_,te)).next(Me=>{const qe=I.docVersions.get(te);_t(null!==qe),Me.version.compareTo(qe)<0&&(M.applyToRemoteDocument(Me,I),Me.isValidDocument()&&A.addEntry(Me,I.commitVersion))})}),Q.next(()=>f.In.removeMutationBatch(_,M))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function AT(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Nx(n,e){const t=ze(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const _=[];e.targetChanges.forEach((A,M)=>{const F=a.get(M);if(!F)return;_.push(t.ze.removeMatchingKeys(l,A.removedDocuments,M).next(()=>t.ze.addMatchingKeys(l,A.addedDocuments,M)));const Q=A.resumeToken;if(Q.approximateByteSize()>0){const te=F.withResumeToken(Q,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(M,te),Me=F,et=A,_t((qe=te).resumeToken.approximateByteSize()>0),(0===Me.resumeToken.approximateByteSize()||qe.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=3e8||et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(l,te))}var Me,qe,et});let I=to();if(e.documentUpdates.forEach((A,M)=>{e.resolvedLimboDocuments.has(A)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),_.push(ST(l,f,e.documentUpdates,s,void 0).next(A=>{I=A})),!s.isEqual(At.min())){const A=t.ze.getLastRemoteSnapshotVersion(l).next(M=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));_.push(A)}return Oe.waitFor(_).next(()=>f.apply(l)).next(()=>t.Qn.vn(l,I)).next(()=>I)}).then(l=>(t.Un=a,l))}function ST(n,e,t,s,a){let l=dn();return t.forEach(f=>l=l.add(f)),e.getEntries(n,l).next(f=>{let _=to();return t.forEach((I,A)=>{const M=f.get(I),F=(null==a?void 0:a.get(I))||s;A.isNoDocument()&&A.version.isEqual(At.min())?(e.removeEntry(I,F),_=_.insert(I,A)):!M.isValidDocument()||A.version.compareTo(M.version)>0||0===A.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(A,F),_=_.insert(I,A)):je("LocalStore","Ignoring outdated watch update for ",I,". Current version:",M.version," Watch version:",A.version)}),_})}function xT(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function Ml(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Oe.resolve(a)):t.ze.allocateTargetId(s).next(f=>(a=new hc(e,f,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function Zf(n,e,t){return M_.apply(this,arguments)}function M_(){return(M_=(0,be.Z)(function*(n,e,t){const s=ze(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!dc(f))throw f;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function lu(n,e,t){const s=ze(n);let a=At.min(),l=dn();return s.persistence.runTransaction("Execute query","readonly",f=>function(_,I,A){const M=ze(_),F=M.qn.get(A);return void 0!==F?Oe.resolve(M.Un.get(F)):M.ze.getTargetData(I,A)}(s,f,us(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,_.targetId).next(I=>{l=I})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,e,t?a:At.min(),t?l:dn())).next(_=>({documents:_,Gn:l})))}function Iw(n,e){const t=ze(n),s=ze(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(f=>f?f.target:null))}function N_(n){const e=ze(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const f=ze(s);let _=to(),I=C_(l);const A=cu(a),M=IDBKeyRange.lowerBound(I,!0);return A.Kt({index:Zn.readTimeIndex,range:M},(F,Q)=>{const te=I_(f.N,Q);_=_.insert(te.key,te),I=Q.readTime}).next(()=>({En:_,readTime:jf(I)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function Gg(){return(Gg=(0,be.Z)(function*(n){const e=ze(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=cu(s);let l=At.min();return a.Kt({index:Zn.readTimeIndex,reverse:!0},(f,_,I)=>{_.readTime&&(l=jf(_.readTime)),I.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function P_(){return(P_=(0,be.Z)(function*(n,e,t,s){const a=ze(n);let l=dn(),f=to(),_=GE();for(const M of t){const F=e.zn(M.metadata.name);M.document&&(l=l.add(F)),f=f.insert(F,e.Hn(M)),_=_.insert(F,e.Jn(M.metadata.readTime))}const I=a.jn.newChangeBuffer({trackRemovals:!0}),A=yield Ml(a,(M=s,us(ic(on.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>ST(M,I,f,At.min(),_).next(F=>(I.apply(M),F)).next(F=>a.ze.removeMatchingKeysForTargetId(M,A.targetId).next(()=>a.ze.addMatchingKeys(M,l,A.targetId)).next(()=>a.Qn.vn(M,F)).next(()=>F)))})).apply(this,arguments)}function Cw(n,e){return k_.apply(this,arguments)}function k_(){return(k_=(0,be.Z)(function*(n,e,t=dn()){const s=yield Ml(n,us(T_(e.bundledQuery))),a=ze(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=zr(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Je.saveNamedQuery(l,e);const _=s.withResumeToken(Zr.EMPTY_BYTE_STRING,f);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(l,_).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class OT{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:zr(s.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:T_(s.bundledQuery),readTime:zr(s.readTime)}),Oe.resolve();var s}}class F_{constructor(){this.Zn=new Fn(Gr.ts),this.es=new Fn(Gr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Gr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Gr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new nt(new on([])),s=new Gr(t,e),a=new Gr(t,e+1),l=[];return this.es.forEachInRange([s,a],f=>{this.rs(f),l.push(f.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new nt(new on([])),s=new Gr(t,e),a=new Gr(t,e+1);let l=dn();return this.es.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Gr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Gr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return nt.comparator(e.key,t.key)||Gt(e.ls,t.ls)}static ns(e,t){return Gt(e.ls,t.ls)||nt.comparator(e.key,t.key)}}class MT{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Fn(Gr.ts)}checkEmpty(e){return Oe.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const f=new Bf(l,t,s,a);this.In.push(f);for(const _ of a)this.ds=this.ds.add(new Gr(_.key,l)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Oe.resolve(f)}lookupMutationBatch(e,t){return Oe.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Oe.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Oe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gr(t,0),a=new Gr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],f=>{const _=this.ws(f.ls);l.push(_)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fn(Gt);return t.forEach(a=>{const l=new Gr(a,0),f=new Gr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,f],_=>{s=s.add(_.ls)})}),Oe.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;nt.isDocumentKey(l)||(l=l.child(""));const f=new Gr(new nt(l),0);let _=new Fn(Gt);return this.ds.forEachWhile(I=>{const A=I.key.path;return!!s.isPrefixOf(A)&&(A.length===a&&(_=_.add(I.ls)),!0)},f),Oe.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){_t(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Oe.forEach(t.mutations,a=>{const l=new Gr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new Gr(t,0),a=this.ds.firstAfterOrEqual(s);return Oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Oe.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Tw{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new sr(nt.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),f=l?l.size:0,_=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:s}),this.size+=_-f,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Oe.resolve(s?s.document.clone():qn.newInvalidDocument(t))}getEntries(e,t){let s=to();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():qn.newInvalidDocument(a))}),Oe.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=to();const l=new nt(t.path.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:_,value:{document:I,readTime:A}}=f.getNext();if(!t.path.isPrefixOf(_.path))break;A.compareTo(s)<=0||qd(t,I)&&(a=a.insert(I.key,I.clone()))}return Oe.resolve(a)}Ts(e,t){return Oe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new NT(this)}getSize(e){return Oe.resolve(this.size)}}class NT extends x_{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Oe.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Dw{constructor(e){this.persistence=e,this.Es=new sh(t=>Dg(t),s_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Is=0,this.As=new F_,this.targetCount=0,this.Rs=no.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Oe.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new no(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.ae(t),Oe.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((f,_)=>{_.sequenceNumber<=t&&null===s.get(_.targetId)&&(this.Es.delete(f),l.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Oe.waitFor(l).next(()=>a)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Oe.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Oe.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Oe.resolve(s)}containsKey(e,t){return Oe.resolve(this.As.containsKey(t))}}class Aw{constructor(e,t){this.bs={},this.Le=new Hn(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Dw(this),this.Ht=new xi,this.He=new Tw(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new lw(t),this.Je=new OT(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new MT(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){je("MemoryPersistence","Starting transaction:",e);const a=new L_(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Oe.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class L_ extends vT{constructor(e){super(),this.currentSequenceNumber=e}}class Sw{constructor(e){this.persistence=e,this.Ds=new F_,this.Cs=null}static Ns(e){return new Sw(e)}get xs(){if(this.Cs)return this.Cs;throw at()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Oe.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,s=>{const a=nt.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Oe.or([()=>Oe.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Kg(n,e){return`firestore_clients_${n}_${e}`}function xw(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rw(n,e){return`firestore_targets_${n}_${e}`}class gc{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Le(a.error.code,a.error.message))),f?new gc(e,t,a.state,l):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zf{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Le(s.error.code,s.error.message))),l?new zf(e,s.state,a):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Pf();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Af(s.activeTargetIds[f]),l=l.add(s.activeTargetIds[f]);return a?new oh(e,l):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gf{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gf(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class U_{constructor(){this.activeTargetIds=Pf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wf{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new sr(Gt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=Kg(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new U_),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(Kg(e.persistenceKey,a));if(l){const f=oh.$s(a,l);f&&(e.qs=e.qs.insert(f.clientId,f))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rw(this.persistenceKey,e));if(s){const a=zf.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rw(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(je("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let f=Hn.T;if(null!=l)try{const _=JSON.parse(l);_t("number"==typeof _),f=_}catch(_){mr("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(s.newValue);a!==Hn.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new gc(this.currentUser,e,t,s),l=xw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=xw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=Rw(this.persistenceKey,e),l=new zf(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return oh.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return gc.$s(new Fr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return zf.$s(a,t)}Xs(e){return Gf.$s(e)}li(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),f=[],_=[];return l.forEach(I=>{a.has(I)||f.push(I)}),a.forEach(I=>{l.has(I)||_.push(I)}),this.syncEngine.gi(f,_).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Pf();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Yg{constructor(){this.yi=new U_,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new U_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ow{Ti(e){}shutdown(){}}class PT{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mw{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Nw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);je("RestConnection","Sending: ",l,s);const f={};return this.Ui(f,a),this.qi(e,l,f,s).then(_=>(je("RestConnection","Received: ",_),_),_=>{throw ml("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",s),_})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+gl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${kT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,f)=>{const _=new wE;_.listenOnce(EE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case bg.NO_ERROR:const A=_.getResponseJson();je("Connection","XHR received:",JSON.stringify(A)),l(A);break;case bg.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),f(new Le(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const M=_.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',M,"response text:",_.getResponseText()),M>0){const F=_.getResponseJson().error;if(F&&F.status&&F.message){const Q=function(te){const Me=te.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(Me)>=0?Me:Ee.UNKNOWN}(F.status);f(new Le(Q,F.message))}else f(new Le(Ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Le(Ee.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(a);_.send(t,"POST",I,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vE(),l=pl(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new VC({})),this.Ui(f.initMessageHeaders,t),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");je("Connection","Creating WebChannel: "+_,f);const I=a.createWebChannel(_,f);let A=!1,M=!1;const F=new Mw({vi:te=>{M?je("Connection","Not sending because WebChannel is closed:",te):(A||(je("Connection","Opening WebChannel transport."),I.open(),A=!0),je("Connection","WebChannel sending:",te),I.send(te))},Vi:()=>I.close()}),Q=(te,Me,qe)=>{te.listen(Me,et=>{try{qe(et)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return Q(I,Tf.EventType.OPEN,()=>{M||je("Connection","WebChannel transport opened.")}),Q(I,Tf.EventType.CLOSE,()=>{M||(M=!0,je("Connection","WebChannel transport closed"),F.$i())}),Q(I,Tf.EventType.ERROR,te=>{M||(M=!0,ml("Connection","WebChannel transport errored:",te),F.$i(new Le(Ee.UNAVAILABLE,"The operation could not be completed")))}),Q(I,Tf.EventType.MESSAGE,te=>{var Me;if(!M){const qe=te.data[0];_t(!!qe);const et=qe,Ht=et.error||(null===(Me=et[0])||void 0===Me?void 0:Me.error);if(Ht){je("Connection","WebChannel received error:",Ht);const hn=Ht.status;let r=function(o){const u=Ar[o];if(void 0!==u)return ZE(u)}(hn),i=Ht.message;void 0===r&&(r=Ee.INTERNAL,i="Unknown error status: "+hn+" with message "+Ht.message),M=!0,F.$i(new Le(r,i)),I.close()}else je("Connection","WebChannel received:",qe),F.Oi(qe)}}),Q(l,UC.STAT_EVENT,te=>{te.stat===Cf.PROXY?je("Connection","Detected buffering proxy"):te.stat===Cf.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.ki()},0),F}}function Pw(){return"undefined"!=typeof window?window:null}function Kf(){return"undefined"!=typeof document?document:null}function Nl(n){return new m_(n,!0)}class Qg{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&je("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Jg{constructor(e,t,s,a,l,f){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Qg(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,be.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,be.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===Ee.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Le(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){e.state=0,e.start()}))}pr(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V_ extends Jg{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,l),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:at(),a=e.targetChange.targetIds||[],l=function(I,A){return I.D?(_t(void 0===A||"string"==typeof A),Zr.fromBase64String(A||"")):(_t(void 0===A||A instanceof Uint8Array),Zr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,_=f&&function(I){const A=void 0===I.code?Ee.UNKNOWN:ZE(I.code);return new Le(A,I.message||"")}(f);t=new QE(s,a,l,_||null)}else if("documentChange"in e){const s=e.documentChange,a=Po(n,s.document.name),l=zr(s.document.updateTime),f=new $i({mapValue:{fields:s.document.fields}}),_=qn.newFoundDocument(a,l,f);t=new Il(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const s=e.documentDelete,a=Po(n,s.document),l=s.readTime?zr(s.readTime):At.min(),f=qn.newNoDocument(a,l);t=new Il([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Po(n,s.document);t=new Il([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return at();{const s=e.filter,l=new uT(s.count||0);t=new YE(s.targetId,l)}}var I;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return At.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?zr(l.readTime):At.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=Uf(this.N),t.addTarget=function(a,l){let f;const _=l.target;return f=No(_)?{documents:__(a,_)}:{query:An(a,_)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=JE(a,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(f.readTime=Xd(a,l.snapshotVersion.toTimestamp())),f}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=Uf(this.N),t.removeTarget=e,this.wr(t)}}class kw extends Jg{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(s,a){let l=zr(s.updateTime?s.updateTime:a);return l.isEqual(At.min())&&(l=zr(a)),new sT(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=zr(e.commitTime);return this.listener.vr(s,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Uf(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>kg(this.N,s))};this.wr(t)}}class FT extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Le(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Le(Ee.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Le(Ee.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class Fw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(mr(t),this.$r=!1):je("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Lw{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ti(_=>{s.enqueueAndForget((0,be.Z)(function*(){var I;du(f)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,be.Z)(function*(A){const M=ze(A);M.Kr.add(4),yield ah(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield Pl(M)}),function(A){return I.apply(this,arguments)})(f))}))}),this.Wr=new Fw(s,a)}}function Pl(n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,be.Z)(function*(n){if(du(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function ah(n){return B_.apply(this,arguments)}function B_(){return(B_=(0,be.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function em(n,e){const t=ze(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),nm(t)?tm(t):qi(t).cr()&&Yf(t,e))}function kl(n,e){const t=ze(n),s=qi(t);t.qr.delete(e),s.cr()&&j_(t,e),0===t.qr.size&&(s.cr()?s.lr():du(t)&&t.Wr.set("Unknown"))}function Yf(n,e){n.Gr.Y(e.targetId),qi(n).Ir(e)}function j_(n,e){n.Gr.Y(e),qi(n).Ar(e)}function tm(n){n.Gr=new Qd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),qi(n).start(),n.Wr.Or()}function nm(n){return du(n)&&!qi(n).ar()&&n.qr.size>0}function du(n){return 0===ze(n).Kr.size}function $_(n){n.Gr=void 0}function Uw(n){return rm.apply(this,arguments)}function rm(){return(rm=(0,be.Z)(function*(n){n.qr.forEach((e,t)=>{Yf(n,e)})})).apply(this,arguments)}function Vw(n,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=(0,be.Z)(function*(n,e){$_(n),nm(n)?(n.Wr.Lr(e),tm(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function LT(n,e,t){return H_.apply(this,arguments)}function H_(){return(H_=(0,be.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof QE&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(a,l){const f=l.cause;for(const _ of l.targetIds)a.qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,f),a.qr.delete(_),a.Gr.removeTarget(_))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Qf(n,s)}else if(e instanceof Il?n.Gr.rt(e):e instanceof YE?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(At.min()))try{const s=yield AT(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Gr._t(l);return f.targetChanges.forEach((_,I)=>{if(_.resumeToken.approximateByteSize()>0){const A=a.qr.get(I);A&&a.qr.set(I,A.withResumeToken(_.resumeToken,l))}}),f.targetMismatches.forEach(_=>{const I=a.qr.get(_);if(!I)return;a.qr.set(_,I.withResumeToken(Zr.EMPTY_BYTE_STRING,I.snapshotVersion)),j_(a,_);const A=new hc(I.target,_,1,I.sequenceNumber);Yf(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(s){je("RemoteStore","Failed to raise snapshot:",s),yield Qf(n,s)}var s})).apply(this,arguments)}function Qf(n,e,t){return q_.apply(this,arguments)}function q_(){return(q_=(0,be.Z)(function*(n,e,t){if(!dc(e))throw e;n.Kr.add(1),yield ah(n),n.Wr.set("Offline"),t||(t=()=>AT(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Pl(n)}))})).apply(this,arguments)}function Sr(n,e){return e().catch(t=>Qf(n,t,e))}function Fl(n){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,be.Z)(function*(n){const e=ze(n),t=yc(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;UT(e);)try{const a=yield xT(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,jw(e,a)}catch(a){yield Qf(e,a)}$w(e)&&z_(e)})).apply(this,arguments)}function UT(n){return du(n)&&n.Ur.length<10}function jw(n,e){n.Ur.push(e);const t=yc(n);t.cr()&&t.br&&t.Pr(e.mutations)}function $w(n){return du(n)&&!yc(n).ar()&&n.Ur.length>0}function z_(n){yc(n).start()}function Hw(n){return mc.apply(this,arguments)}function mc(){return(mc=(0,be.Z)(function*(n){yc(n).Sr()})).apply(this,arguments)}function VT(n){return G_.apply(this,arguments)}function G_(){return(G_=(0,be.Z)(function*(n){const e=yc(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function qw(n,e,t){return W_.apply(this,arguments)}function W_(){return(W_=(0,be.Z)(function*(n,e,t){const s=n.Ur.shift(),a=b_.from(s,e,t);yield Sr(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Fl(n)})).apply(this,arguments)}function Zw(n,e){return zw.apply(this,arguments)}function zw(){return(zw=(0,be.Z)(function*(n,e){var t;e&&yc(n).br&&(yield(t=(0,be.Z)(function*(s,a){if(qE(l=a.code)&&l!==Ee.ABORTED){const f=s.Ur.shift();yc(s).hr(),yield Sr(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Fl(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),$w(n)&&z_(n)})).apply(this,arguments)}function im(n,e){return sm.apply(this,arguments)}function sm(){return(sm=(0,be.Z)(function*(n,e){const t=ze(n);e?(t.Kr.delete(2),yield Pl(t)):e||(t.Kr.add(2),yield ah(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function qi(n){return n.zr||(n.zr=function(e,t,s){const a=ze(e);return a.Cr(),new V_(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:Uw.bind(null,n),Ci:Vw.bind(null,n),Er:LT.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.zr.hr(),nm(n)?tm(n):n.Wr.set("Unknown")):(yield n.zr.stop(),$_(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function yc(n){return n.Hr||(n.Hr=function(e,t,s){const a=ze(e);return a.Cr(),new kw(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:Hw.bind(null,n),Ci:Zw.bind(null,n),Vr:VT.bind(null,n),vr:qw.bind(null,n)}),n.jr.push(function(){var e=(0,be.Z)(function*(t){t?(n.Hr.hr(),yield Fl(n)):(yield n.Hr.stop(),n.Ur.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class K_{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,_=new K_(e,t,f,a,l);return _.start(s),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zi(n,e){if(mr("AsyncQueue",`${e}: ${n}`),dc(n))return new Le(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Ri{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nt.comparator(t.key,s.key):(t,s)=>nt.comparator(t.key,s.key),this.keyedMap=Nf(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Ri(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ri;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class ro{constructor(){this.Jr=new sr(nt.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):at():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ll{constructor(e,t,s,a,l,f,_,I){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Ll(e,t,Ri.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Gw{constructor(){this.Xr=void 0,this.listeners=[]}}class BT{constructor(){this.queries=new sh(e=>Rf(e),Hd),this.onlineState="Unknown",this.Zr=new Set}}function Y_(n,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,be.Z)(function*(n,e){const t=ze(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new Gw),a)try{l.Xr=yield t.onListen(s)}catch(f){const _=Zi(f,`Initialization of query '${u_(e.query)}' failed`);return void e.onError(_)}t.queries.set(s,l),l.listeners.push(e),e.eo(t.onlineState),l.Xr&&e.no(l.Xr)&&om(t)})).apply(this,arguments)}function J_(n,e){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,be.Z)(function*(n,e){const t=ze(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function Xf(n,e){const t=ze(n);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const _ of f.listeners)_.no(a)&&(s=!0);f.Xr=a}}s&&om(t)}function jT(n,e,t){const s=ze(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function om(n){n.Zr.forEach(e=>{e.next()})}class X_{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ll(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Ww{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class ev{constructor(e){this.N=e}zn(e){return Po(this.N,e)}Hn(e){return e.metadata.exists?nw(this.N,e.document,!1):qn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return zr(e)}}class am{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=Kw(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new ev(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const f of a.metadata.queries){const _=(t.get(f)||dn()).add(l);t.set(f,_)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function(n,e,t,s){return P_.apply(this,arguments)}(e.localStore,new ev(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield Cw(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new Mx(Object.assign({},e.progress),t)})()}}function Kw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tv{constructor(e){this.key=e}}class nv{constructor(e){this.key=e}}class um{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=dn(),this.mutatedKeys=dn(),this.po=eT(e),this.To=new Ri(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new ro,a=t?t.To:this.To;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,_=!1;const I=nu(this.query)&&a.size===this.query.limit?a.last():null,A=sc(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,F)=>{const Q=a.get(M),te=qd(this.query,F)?F:null,Me=!!Q&&this.mutatedKeys.has(Q.key),qe=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let et=!1;Q&&te?Q.data.isEqual(te.data)?Me!==qe&&(s.track({type:3,doc:te}),et=!0):this.Ro(Q,te)||(s.track({type:2,doc:te}),et=!0,(I&&this.po(te,I)>0||A&&this.po(te,A)<0)&&(_=!0)):!Q&&te?(s.track({type:0,doc:te}),et=!0):Q&&!te&&(s.track({type:1,doc:Q}),et=!0,(I||A)&&(_=!0)),et&&(te?(f=f.add(te),l=qe?l.add(M):l.delete(M)):(f=f.delete(M),l=l.delete(M)))}),nu(this.query)||sc(this.query))for(;f.size>this.query.limit;){const M=nu(this.query)?f.last():f.first();f=f.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{To:f,Ao:s,Ln:_,mutatedKeys:l}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const l=e.Ao.Yr();l.sort((A,M)=>function(F,Q){const te=Me=>{switch(Me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return te(F)-te(Q)}(A.type,M.type)||this.po(A.doc,M.doc)),this.bo(s);const f=t?this.Po():[],_=0===this.yo.size&&this.current?1:0,I=_!==this.mo;return this.mo=_,0!==l.length||I?{snapshot:new Ll(this.query,e.To,a,l,e.mutatedKeys,0===_,I,!1),vo:f}:{vo:f}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new ro,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=dn(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new nv(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new tv(s))}),t}So(e){this._o=e.Gn,this.yo=dn();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Ll.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class cm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Yw{constructor(e){this.key=e,this.Co=!1}}class Qw{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new sh(_=>Rf(_),Hd),this.ko=new Map,this.$o=new Set,this.Oo=new sr(nt.comparator),this.Fo=new Map,this.Mo=new F_,this.Lo={},this.Bo=new Map,this.Uo=no.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Jw(n,e){return lm.apply(this,arguments)}function lm(){return(lm=(0,be.Z)(function*(n,e){const t=gv(n);let s,a;const l=t.xo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const f=yield Ml(t.localStore,us(e)),_=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield dm(t,e,s,"current"===_),t.isPrimaryClient&&em(t.remoteStore,f)}return a})).apply(this,arguments)}function dm(n,e,t,s){return hm.apply(this,arguments)}function hm(){return(hm=(0,be.Z)(function*(n,e,t,s){n.Ko=(M,F,Q)=>{return(te=(0,be.Z)(function*(Me,qe,et,Ht){let hn=qe.view.Io(et);hn.Ln&&(hn=yield lu(Me.localStore,qe.query,!1).then(({documents:o})=>qe.view.Io(o,hn)));const r=Ht&&Ht.targetChanges.get(qe.targetId),i=qe.view.applyChanges(hn,Me.isPrimaryClient,r);return dv(Me,qe.targetId,i.vo),i.snapshot}),function(Me,qe,et,Ht){return te.apply(this,arguments)})(n,M,F,Q);var te};const a=yield lu(n.localStore,e,!0),l=new um(e,a.Gn),f=l.Io(a.documents),_=Ts.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),I=l.applyChanges(f,n.isPrimaryClient,_);dv(n,t,I.vo);const A=new cm(e,t,l);return n.xo.set(e,A),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),I.snapshot})).apply(this,arguments)}function Xw(n,e){return fm.apply(this,arguments)}function fm(){return(fm=(0,be.Z)(function*(n,e){const t=ze(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(l=>!Hd(l,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Zf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),kl(t.remoteStore,s.targetId),uh(t,s.targetId)}).catch(pc))):(uh(t,s.targetId),yield Zf(t.localStore,s.targetId,!0))})).apply(this,arguments)}function rv(){return(rv=(0,be.Z)(function*(n,e,t){const s=mv(n);try{const a=yield function(l,f){const _=ze(l),I=qr.now(),A=f.reduce((F,Q)=>F.add(Q.key),dn());let M;return _.persistence.runTransaction("Locally write mutations","readwrite",F=>_.Qn.Pn(F,A).next(Q=>{M=Q;const te=[];for(const Me of f){const qe=BE(Me,M.get(Me.key));null!=qe&&te.push(new ma(Me.key,qe,KC(qe.value.mapValue),yr.exists(!0)))}return _.In.addMutationBatch(F,I,te,f)})).then(F=>(F.applyToLocalDocumentSet(M),{batchId:F.batchId,changes:M}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,_){let I=l.Lo[l.currentUser.toKey()];I||(I=new sr(Gt)),I=I.insert(f,_),l.Lo[l.currentUser.toKey()]=I}(s,a.batchId,t),yield Ea(s,a.changes),yield Fl(s.remoteStore)}catch(a){const l=Zi(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function eb(n,e){return iv.apply(this,arguments)}function iv(){return(iv=(0,be.Z)(function*(n,e){const t=ze(n);try{const s=yield Nx(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.Fo.get(l);f&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Co=!0:a.modifiedDocuments.size>0?_t(f.Co):a.removedDocuments.size>0&&(_t(f.Co),f.Co=!1))}),yield Ea(t,s,e)}catch(s){yield pc(s)}})).apply(this,arguments)}function tb(n,e,t){const s=ze(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((l,f)=>{const _=f.view.eo(e);_.snapshot&&a.push(_.snapshot)}),function(l,f){const _=ze(l);_.onlineState=f;let I=!1;_.queries.forEach((A,M)=>{for(const F of M.listeners)F.eo(f)&&(I=!0)}),I&&om(_)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function HT(n,e,t){return sv.apply(this,arguments)}function sv(){return(sv=(0,be.Z)(function*(n,e,t){const s=ze(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),l=a&&a.key;if(l){let f=new sr(nt.comparator);f=f.insert(l,qn.newNoDocument(l,At.min()));const _=dn().add(l),I=new Yd(At.min(),new Map,new Fn(Gt),f,_);yield eb(s,I),s.Oo=s.Oo.remove(l),s.Fo.delete(e),pm(s)}else yield Zf(s.localStore,e,!1).then(()=>uh(s,e,t)).catch(pc)})).apply(this,arguments)}function qT(n,e){return ov.apply(this,arguments)}function ov(){return(ov=(0,be.Z)(function*(n,e){const t=ze(n),s=e.batch.batchId;try{const a=yield DT(t.localStore,e);lv(t,s,null),cv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ea(t,a)}catch(a){yield pc(a)}})).apply(this,arguments)}function ZT(n,e,t){return av.apply(this,arguments)}function av(){return(av=(0,be.Z)(function*(n,e,t){const s=ze(n);try{const a=yield function(l,f){const _=ze(l);return _.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let A;return _.In.lookupMutationBatch(I,f).next(M=>(_t(null!==M),A=M.keys(),_.In.removeMutationBatch(I,M))).next(()=>_.In.performConsistencyCheck(I)).next(()=>_.Qn.Pn(I,A))})}(s.localStore,e);lv(s,e,t),cv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ea(s,a)}catch(a){yield pc(a)}})).apply(this,arguments)}function uv(){return(uv=(0,be.Z)(function*(n,e){const t=ze(n);du(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const f=ze(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=Zi(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function cv(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function lv(n,e,t){const s=ze(n);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function uh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||nb(n,s)})}function nb(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(kl(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),pm(n))}function dv(n,e,t){for(const s of t)s instanceof tv?(n.Mo.addReference(s.key,e),rb(n,s)):s instanceof nv?(je("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||nb(n,s.key)):at()}function rb(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(je("SyncEngine","New document in limbo: "+t),n.$o.add(s),pm(n))}function pm(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new nt(on.fromString(e)),s=n.Uo.next();n.Fo.set(s,new Yw(t)),n.Oo=n.Oo.insert(t,s),em(n.remoteStore,new hc(us(ic(t.path)),s,2,Hn.T))}}function Ea(n,e,t){return gm.apply(this,arguments)}function gm(){return(gm=(0,be.Z)(function*(n,e,t){const s=ze(n),a=[],l=[],f=[];var _;s.xo.isEmpty()||(s.xo.forEach((_,I)=>{f.push(s.Ko(I,e,t).then(A=>{if(A){s.isPrimaryClient&&s.sharedClientState.updateQueryState(I.targetId,A.fromCache?"not-current":"current"),a.push(A);const M=O_.kn(I.targetId,A);l.push(M)}}))}),yield Promise.all(f),s.No.Er(a),yield(_=(0,be.Z)(function*(I,A){const M=ze(I);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>Oe.forEach(A,Q=>Oe.forEach(Q.Nn,te=>M.persistence.referenceDelegate.addReference(F,Q.targetId,te)).next(()=>Oe.forEach(Q.xn,te=>M.persistence.referenceDelegate.removeReference(F,Q.targetId,te)))))}catch(F){if(!dc(F))throw F;je("LocalStore","Failed to update sequence numbers: "+F)}for(const F of A){const Q=F.targetId;if(!F.fromCache){const te=M.Un.get(Q),qe=te.withLastLimboFreeSnapshotVersion(te.snapshotVersion);M.Un=M.Un.insert(Q,qe)}}}),function(I,A){return _.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function ib(n,e){return mm.apply(this,arguments)}function mm(){return(mm=(0,be.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const s=yield zg(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(f=>{f.forEach(_=>{_.reject(new Le(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ea(t,s.Wn)}var a})).apply(this,arguments)}function sb(n,e){const t=ze(n),s=t.Fo.get(e);if(s&&s.Co)return dn().add(s.key);{let a=dn();const l=t.ko.get(e);if(!l)return a;for(const f of l){const _=t.xo.get(f);a=a.unionWith(_.view.Eo)}return a}}function ob(n,e){return ym.apply(this,arguments)}function ym(){return(ym=(0,be.Z)(function*(n,e){const t=ze(n),s=yield lu(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&dv(t,e.targetId,a.vo),a})).apply(this,arguments)}function hv(n){return _m.apply(this,arguments)}function _m(){return(_m=(0,be.Z)(function*(n){const e=ze(n);return N_(e.localStore).then(t=>Ea(e,t))})).apply(this,arguments)}function Ul(n,e,t,s){return fv.apply(this,arguments)}function fv(){return(fv=(0,be.Z)(function*(n,e,t,s){const a=ze(n),l=yield function(f,_){const I=ze(f),A=ze(I.In);return I.persistence.runTransaction("Lookup mutation documents","readonly",M=>A.Xt(M,_).next(F=>F?I.Qn.Pn(M,F):Oe.resolve(null)))}(a.localStore,e);var _;null!==l?("pending"===t?yield Fl(a.remoteStore):"acknowledged"===t||"rejected"===t?(lv(a,e,s||null),cv(a,e),_=e,ze(ze(a.localStore).In).te(_)):at(),yield Ea(a,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function _c(){return(_c=(0,be.Z)(function*(n,e){const t=ze(n);if(gv(t),mv(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield WT(t,s.toArray());t.qo=!0,yield im(t.remoteStore,!0);for(const l of a)em(t.remoteStore,l)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(uh(t,f),Zf(t.localStore,f,!0))),kl(t.remoteStore,f)}),yield a,yield WT(t,s),function(l){const f=ze(l);f.Fo.forEach((_,I)=>{kl(f.remoteStore,I)}),f.Mo.us(),f.Fo=new Map,f.Oo=new sr(nt.comparator)}(t),t.qo=!1,yield im(t.remoteStore,!1)}})).apply(this,arguments)}function WT(n,e,t){return ep.apply(this,arguments)}function ep(){return(ep=(0,be.Z)(function*(n,e,t){const s=ze(n),a=[],l=[];for(const f of e){let _;const I=s.ko.get(f);if(I&&0!==I.length){_=yield Ml(s.localStore,us(I[0]));for(const A of I){const M=s.xo.get(A),F=yield ob(s,M);F.snapshot&&l.push(F.snapshot)}}else{const A=yield Iw(s.localStore,f);_=yield Ml(s.localStore,A),yield dm(s,KT(A),f,!1)}a.push(_)}return s.No.Er(l),a})).apply(this,arguments)}function KT(n){return wl(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ab(n){const e=ze(n);return ze(ze(e.localStore).persistence).pn()}function ub(n,e,t,s){return cb.apply(this,arguments)}function cb(){return(cb=(0,be.Z)(function*(n,e,t,s){const a=ze(n);if(a.qo)je("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const l=yield N_(a.localStore),f=Yd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ea(a,l,f);break}case"rejected":yield Zf(a.localStore,e,!0),uh(a,e,s);break;default:at()}})).apply(this,arguments)}function dt(n,e,t){return pv.apply(this,arguments)}function pv(){return(pv=(0,be.Z)(function*(n,e,t){const s=gv(n);if(s.qo){for(const a of e){if(s.ko.has(a)){je("SyncEngine","Adding an already active target "+a);continue}const l=yield Iw(s.localStore,a),f=yield Ml(s.localStore,l);yield dm(s,KT(l),f.targetId,!1),em(s.remoteStore,f)}for(const a of t)s.ko.has(a)&&(yield Zf(s.localStore,a,!1).then(()=>{kl(s.remoteStore,a),uh(s,a)}).catch(pc))}})).apply(this,arguments)}function gv(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HT.bind(null,e),e.No.Er=Xf.bind(null,e.eventManager),e.No.jo=jT.bind(null,e.eventManager),e}function mv(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZT.bind(null,e),e}class lb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.N=Nl(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return bw(this.persistence,new CT,e.initialUser,this.N)}Go(e){return new Aw(Sw.Ns,this.N)}Wo(e){return new Yg}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tp extends lb{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e),yield function(n){return Gg.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield mv(s.Jo.syncEngine),yield Fl(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return bw(this.persistence,new CT,e.initialUser,this.N)}zo(e){return new gw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new Ew(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Pw(),Kf(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Yg}}class Em extends tp{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof Wf&&(s.sharedClientState.syncEngine={_i:Ul.bind(null,a),mi:ub.bind(null,a),gi:dt.bind(null,a),pn:ab.bind(null,a),wi:hv.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,be.Z)(function*(f){yield function(n,e){return _c.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}Wo(e){const t=Pw();if(!Wf.bt(t))throw new Le(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wf(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ln{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>tb(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ib.bind(null,s.syncEngine),yield im(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BT}createDatastore(e){const t=Nl(e.databaseInfo.databaseId),s=new Nw(e.databaseInfo);return new FT(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=_=>tb(this.syncEngine,_,0),f=PT.bt()?new PT:new Ow,new Lw(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,_,I,A){const M=new Qw(s,a,l,f,_,I);return A&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=ze(t);je("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield ah(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YT(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yv{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const l=yield e.ia(a);return new Ww(JSON.parse(l),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,be.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class QT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,be.Z)(function*(l,f){const _=ze(l),I=Uf(_.N)+"/documents",A={documents:f.map(te=>Lf(_.N,te))},M=yield _.Ki("BatchGetDocuments",I,A),F=new Map;M.forEach(te=>{const Me=function(n,e){return"found"in e?function(t,s){_t(!!s.found);const a=Po(t,s.found.name),l=zr(s.found.updateTime),f=new $i({mapValue:{fields:s.found.fields}});return qn.newFoundDocument(a,l,f)}(n,e):"missing"in e?function(t,s){_t(!!s.missing),_t(!!s.readTime);const a=Po(t,s.missing),l=zr(s.readTime);return qn.newNoDocument(a,l)}(n,e):at()}(_.N,te);F.set(Me.key.toString(),Me)});const Q=[];return f.forEach(te=>{const Me=F.get(te.toString());_t(!!Me),Q.push(Me)}),Q}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=nt.fromPath(a);e.mutations.push(new p_(l,e.precondition(l)))}),yield(s=(0,be.Z)(function*(a,l){const f=ze(a),_=Uf(f.N)+"/documents",I={writes:l.map(A=>kg(f.N,A))};yield f.Li("Commit",_,I)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=At.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Le(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yr.updateTime(t):yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Le(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class db{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new Qg(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,be.Z)(function*(){const t=new QT(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.ha(l)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!Bd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qE(t)}return!1}}class hb{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=e_.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,be.Z)(function*(f){je("FirestoreClient","Received user=",f.uid),yield a.credentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=Zi(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function _v(n,e){return wm.apply(this,arguments)}function wm(){return(wm=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,be.Z)(function*(l){s.isEqual(l)||(yield zg(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function fb(n,e){return vv.apply(this,arguments)}function vv(){return(vv=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ev(n);je("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,be.Z)(function*(f,_){const I=ze(f);I.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const A=du(I);I.Kr.add(3),yield ah(I),A&&I.Wr.set("Unknown"),yield I.remoteSyncer.handleCredentialChange(_),I.Kr.delete(3),yield Pl(I)}),function(f,_){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function Ev(n){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,be.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield _v(n,new lb)),n.offlineComponents})).apply(this,arguments)}function bm(n){return wv.apply(this,arguments)}function wv(){return(wv=(0,be.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield fb(n,new Ln)),n.onlineComponents})).apply(this,arguments)}function pb(n){return Ev(n).then(e=>e.persistence)}function ch(n){return Ev(n).then(e=>e.localStore)}function bv(n){return bm(n).then(e=>e.remoteStore)}function Im(n){return bm(n).then(e=>e.syncEngine)}function Bl(n){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,be.Z)(function*(n){const e=yield bm(n),t=e.eventManager;return t.onListen=Jw.bind(null,e.syncEngine),t.onUnlisten=Xw.bind(null,e.syncEngine),t})).apply(this,arguments)}function gb(n,e,t={}){const s=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,f,_,I){const A=new np({next:F=>{l.enqueueAndForget(()=>J_(a,M));const Q=F.docs.has(f);!Q&&F.fromCache?I.reject(new Le(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&F.fromCache&&_&&"server"===_.source?I.reject(new Le(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(F)},error:F=>I.reject(F)}),M=new X_(ic(f.path),A,{includeMetadataChanges:!0,uo:!0});return Y_(a,M)}(yield Bl(n),n.asyncQueue,e,t,s)})),s.promise}function Cv(n,e,t={}){const s=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,l,f,_,I){const A=new np({next:F=>{l.enqueueAndForget(()=>J_(a,M)),F.fromCache&&"server"===_.source?I.reject(new Le(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(F)},error:F=>I.reject(F)}),M=new X_(f,A,{includeMetadataChanges:!0,uo:!0});return Y_(a,M)}(yield Bl(n),n.asyncQueue,e,t,s)})),s.promise}class tD{constructor(e,t,s,a,l,f,_,I){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=I}}class lh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}const nD=new Map;function vb(n,e,t){if(!t)throw new Le(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rD(n,e,t,s){if(!0===e&&!0===s)throw new Le(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iD(n){if(!nt.isDocumentKey(n))throw new Le(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tv(n){if(nt.isDocumentKey(n))throw new Le(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jl(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jl(n);throw new Le(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Eb(n,e){if(e<=0)throw new Le(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Dv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,e instanceof lh?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Le(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(s.options.projectId)}(e))}get app(){if(!this._app)throw new Le(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new IE;switch(t.type){case"gapi":const s=t.client;return _t(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new qC(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(Ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nD.get(e);t&&(je("ComponentProvider","Removing Datastore"),nD.delete(e),t.terminate())}(this),Promise.resolve()}}class xn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Oi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class wa extends Oi{constructor(e,t,s){super(e,t,ic(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new nt(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function wb(n,e,...t){if(n=(0,Ot.m9)(n),vb("collection","path",e),n instanceof hu){const s=on.fromString(e,...t);return Tv(s),new wa(n,null,s)}{if(!(n instanceof xn||n instanceof wa))throw new Le(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(on.fromString(e,...t));return Tv(s),new wa(n.firestore,null,s)}}function fu(n,e,...t){if(n=(0,Ot.m9)(n),1===arguments.length&&(e=e_.I()),vb("doc","path",e),n instanceof hu){const s=on.fromString(e,...t);return iD(s),new xn(n,null,new nt(s))}{if(!(n instanceof xn||n instanceof wa))throw new Le(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(on.fromString(e,...t));return iD(s),new xn(n.firestore,n instanceof wa?n.converter:null,new nt(s))}}function Ib(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),(n instanceof xn||n instanceof wa)&&(e instanceof xn||e instanceof wa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $l(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&Hd(n._query,e._query)&&n.converter===e.converter}class oD{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Qg(this,"async_queue_retry"),this.Ta=()=>{const t=Kf();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Lr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,be.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!dc(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,mr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=K_.createAndSchedule(this,e,t,s,l=>this.Ra(l));return this._a.push(a),a}Ea(){this.ma&&at()}verifyOperationInProgress(){}ba(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Cm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class aD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends hu{constructor(e,t){super(e,t),this.type="firestore",this._queue=new oD,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Tb(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||Tb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Tb(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tD(n._databaseId,l,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var l,_;n._firestoreClient=new hb(n._credentials,n._queue,s)}function Sb(n,e,t){const s=new Lr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield _v(n,t),yield fb(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===Ee.FAILED_PRECONDITION||l.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function xb(n){if(n._initialized||n._terminated)throw new Le(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Zr.fromBase64String(e))}catch(t){throw new Le(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ba(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hl{constructor(e){this._methodName=e}}class Tm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const Rb=/^__.*__$/;class Ob{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new cs(e,this.data,t,this.fieldTransforms)}}class Mb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class sp{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Mv(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Nb(this.Da)&&Rb.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class mD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||Nl(e)}Ba(e,t,s,a=!1){return new sp({Da:e,methodName:t,La:s,path:Dr.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ql(n){const e=n._freezeSettings(),t=Nl(n._databaseId);return new mD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dm(n,e,t,s,a,l={}){const f=n.Ba(l.merge||l.mergeFields?2:0,e,t,a);xm("Data must be an object, but it was:",f,s);const _=Rv(s,f);let I,A;if(l.merge)I=new Ti(f.fieldMask),A=f.fieldTransforms;else if(l.mergeFields){const M=[];for(const F of l.mergeFields){const Q=kb(e,F,t);if(!f.contains(Q))throw new Le(Ee.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);Rm(M,Q)||M.push(Q)}I=new Ti(M),A=f.fieldTransforms.filter(F=>I.covers(F.field))}else I=null,A=f.fieldTransforms;return new Ob(new $i(_),I,A)}class Zl extends Hl{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zl}}function Am(n,e,t){return new sp({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Sm extends Hl{_toFieldTransform(e){return new Of(e.path,new Zd)}isEqual(e){return e instanceof Sm}}class Sv extends Hl{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Am(this,e,!0),s=this.Ua.map(l=>zl(l,t)),a=new zd(s);return new Of(e.path,a)}isEqual(e){return this===e}}class yD extends Hl{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Am(this,e,!0),s=this.Ua.map(l=>zl(l,t)),a=new ac(s);return new Of(e.path,a)}isEqual(e){return this===e}}class _D extends Hl{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Gd(e.N,l_(e.N,this.qa));return new Of(e.path,t)}isEqual(e){return this===e}}function op(n,e,t,s){const a=n.Ba(1,e,t);xm("Data must be an object, but it was:",a,s);const l=[],f=$i.empty();_l(s,(I,A)=>{const M=vc(e,I,t);A=(0,Ot.m9)(A);const F=a.$a(M);if(A instanceof Zl)l.push(M);else{const Q=zl(A,F);null!=Q&&(l.push(M),f.set(M,Q))}});const _=new Ti(l);return new Mb(f,_,a.fieldTransforms)}function xv(n,e,t,s,a,l){const f=n.Ba(1,e,t),_=[kb(e,s,t)],I=[a];if(l.length%2!=0)throw new Le(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)_.push(kb(e,l[Q])),I.push(l[Q+1]);const A=[],M=$i.empty();for(let Q=_.length-1;Q>=0;--Q)if(!Rm(A,_[Q])){const te=_[Q];let Me=I[Q];Me=(0,Ot.m9)(Me);const qe=f.$a(te);if(Me instanceof Zl)A.push(te);else{const et=zl(Me,qe);null!=et&&(A.push(te),M.set(te,et))}}const F=new Ti(A);return new Mb(M,F,f.fieldTransforms)}function Pb(n,e,t,s=!1){return zl(t,n.Ba(s?4:3,e))}function zl(n,e){if(Ov(n=(0,Ot.m9)(n)))return xm("Unsupported field value:",e,n),Rv(n,e);if(n instanceof Hl)return function(t,s){if(!Nb(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let _=zl(f,s.Oa(l));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return l_(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=qr.fromDate(t);return{timestampValue:Xd(s.N,a)}}if(t instanceof qr){const a=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xd(s.N,a)}}if(t instanceof Tm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ba)return{bytesValue:JE(s.N,t._byteString)};if(t instanceof xn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ff(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${jl(t)}`)}(n,e)}function Rv(n,e){const t={};return AE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(n,(s,a)=>{const l=zl(a,e.Na(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Ov(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qr||n instanceof Tm||n instanceof ba||n instanceof xn||n instanceof Hl)}function xm(n,e,t){if(!Ov(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=jl(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function kb(n,e,t){if((e=(0,Ot.m9)(e))instanceof pu)return e._internalPath;if("string"==typeof e)return vc(n,e);throw Mv("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const vD=new RegExp("[~\\*/\\[\\]]");function vc(n,e,t){if(e.search(vD)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pu(...e.split("."))._internalPath}catch(s){throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mv(n,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let I="";return(l||f)&&(I+=" (found",l&&(I+=` in field ${s}`),f&&(I+=` in document ${a}`),I+=")"),new Le(Ee.INVALID_ARGUMENT,_+n+I)}function Rm(n,e){return n.some(t=>t.isEqual(e))}class Ec{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ED(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ED extends Ec{data(){return super.data()}}function gu(n,e){return"string"==typeof e?vc(n,e):e instanceof pu?e._internalPath:e._delegate._internalPath}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends Ec{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(gu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ap extends wc{data(e={}){return super.data(e)}}class ci{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Gl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ap(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const _=new ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Gl(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let I=-1,A=-1;return 0!==f.type&&(I=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),A=l.indexOf(f.doc.key)),{type:Fb(f.type),doc:_,oldIndex:I,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Fb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function wD(n,e){return n instanceof wc&&e instanceof wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ci&&e instanceof ci&&n._firestore===e._firestore&&$l(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function up(n){if(sc(n)&&0===n.explicitOrderBy.length)throw new Le(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}function bc(n,...e){for(const t of e)n=t._apply(n);return n}class kx extends cp{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=ql(e.firestore),s=function(a,l,f,_,I,A,M){let F;if(I.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){Lv(M,A);const te=[];for(const Me of M)te.push(Fv(_,a,Me));F={arrayValue:{values:te}}}else F=Fv(_,a,M)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||Lv(M,A),F=Pb(f,"where",M,"in"===A||"not-in"===A);const Q=oi.create(I,A,F);return function(te,Me){if(Me.v()){const et=a_(te);if(null!==et&&!et.isEqual(Me.field))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${et.toString()}' and '${Me.field.toString()}'`);const Ht=oc(te);null!==Ht&&Vb(0,Me.field,Ht)}const qe=function(et,Ht){for(const hn of et.filters)if(Ht.indexOf(hn.op)>=0)return hn.op;return null}(te,function(et){switch(et){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Me.op));if(null!==qe)throw new Le(Ee.INVALID_ARGUMENT,qe===Me.op?`Invalid query. You cannot use more than one '${Me.op.toString()}' filter.`:`Invalid query. You cannot use '${Me.op.toString()}' filters with '${qe.toString()}' filters.`)}(a,Q),Q}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Oi(e.firestore,e.converter,function(a,l){const f=a.filters.concat([l]);return new Is(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class ID extends cp{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new $d(a,l);return function(_,I){if(null===oc(_)){const A=a_(_);null!==A&&Vb(0,A,I.field)}}(s,f),f}(e._query,this.Ka,this.Wa);return new Oi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Is(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Om extends cp{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new Oi(e.firestore,e.converter,Rg(e._query,this.Ga,this.za))}}class Pv extends cp{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=kv(e,this.type,this.Ha,this.Ja);return new Oi(e.firestore,e.converter,(a=t,new Is((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Ub extends cp{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=kv(e,this.type,this.Ha,this.Ja);return new Oi(e.firestore,e.converter,(a=t,new Is((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function kv(n,e,t,s){if(t[0]=(0,Ot.m9)(t[0]),t[0]instanceof Ec)return function(a,l,f,_,I){if(!_)throw new Le(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const A=[];for(const M of bl(a))if(M.field.isKeyField())A.push(xf(l,_.key));else{const F=_.data.field(M.field);if(Df(F))throw new Le(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const Q=M.field.canonicalString();throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}A.push(F)}return new Sg(A,I)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=ql(n.firestore);return function(l,f,_,I,A,M){const F=l.explicitOrderBy;if(A.length>F.length)throw new Le(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let te=0;te<A.length;te++){const Me=A[te];if(F[te].field.isKeyField()){if("string"!=typeof Me)throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Me}`);if(!xg(l)&&-1!==Me.indexOf("/"))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${I}() must be a plain document ID, but '${Me}' contains a slash.`);const qe=l.path.child(on.fromString(Me));if(!nt.isDocumentKey(qe))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${I}() must result in a valid document path, but '${qe}' is not because it contains an odd number of segments.`);const et=new nt(qe);Q.push(xf(f,et))}else{const qe=Pb(_,I,Me);Q.push(qe)}}return new Sg(Q,M)}(n._query,n.firestore._databaseId,a,e,t,s)}}function Fv(n,e,t){if("string"==typeof(t=(0,Ot.m9)(t))){if(""===t)throw new Le(Ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xg(e)&&-1!==t.indexOf("/"))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(on.fromString(t));if(!nt.isDocumentKey(s))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xf(n,new nt(s))}if(t instanceof xn)return xf(n,t._key);throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${jl(t)}.`)}function Lv(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Vb(n,e,t){if(!t.isEqual(e))throw new Le(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Uv{convertValue(e,t="none"){switch(eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const s={};return _l(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Tm(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zC(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const t=Di(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=on.fromString(e);_t(ow(s));const a=new lh(s.get(1),s.get(3)),l=new nt(s.popFirst(5));return a.isEqual(t)||mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function lp(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Mm extends Uv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}class Bb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ql(e)}set(e,t,s){this._verifyNotCommitted();const a=mu(e,this._firestore),l=lp(a.converter,t,s),f=Dm(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,yr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=mu(e,this._firestore);let f;return f="string"==typeof(t=(0,Ot.m9)(t))||t instanceof pu?xv(this._dataReader,"WriteBatch.update",l._key,t,s,a):op(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mu(e,this._firestore);return this._mutations=this._mutations.concat(new Wd(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mu(n,e){if((n=(0,Ot.m9)(n)).firestore!==e)throw new Le(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ia extends Uv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function Pm(n,e,t){n=rn(n,xn);const s=rn(n.firestore,or),a=lp(n.converter,e,t);return dh(s,[Dm(ql(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,yr.none())])}function hp(n,e,t,...s){n=rn(n,xn);const a=rn(n.firestore,or),l=ql(a);let f;return f="string"==typeof(e=(0,Ot.m9)(e))||e instanceof pu?xv(l,"updateDoc",n._key,e,t,s):op(l,"updateDoc",n._key,e),dh(a,[f.toMutation(n._key,yr.exists(!0))])}function jb(n){return dh(rn(n.firestore,or),[new Wd(n._key,yr.none())])}function $b(n,...e){var t,s,a;n=(0,Ot.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Cm(e[f])||(l=e[f],f++);const _={includeMetadataChanges:l.includeMetadataChanges};if(Cm(e[f])){const F=e[f];e[f]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[f+1]=null===(s=F.error)||void 0===s?void 0:s.bind(F),e[f+2]=null===(a=F.complete)||void 0===a?void 0:a.bind(F)}let I,A,M;if(n instanceof xn)A=rn(n.firestore,or),M=ic(n._key.path),I={next:F=>{e[f]&&e[f](Vv(A,n,F))},error:e[f+1],complete:e[f+2]};else{const F=rn(n,Oi);A=rn(F.firestore,or),M=F._query;const Q=new Ia(A);I={next:te=>{e[f]&&e[f](new ci(A,Q,F,te))},error:e[f+1],complete:e[f+2]},up(n._query)}return function(F,Q,te,Me){const qe=new np(Me),et=new X_(Q,qe,te);return F.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Y_(yield Bl(F),et)})),()=>{qe.Xo(),F.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return J_(yield Bl(F),et)}))}}(_r(A),M,_,I)}function dh(n,e){return function(t,s){const a=new Lr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e,t){return rv.apply(this,arguments)}(yield Im(t),s,a)})),a.promise}(_r(n),e)}function Vv(n,e,t){const s=t.docs.get(e._key),a=new Ia(n);return new wc(n,a,e._key,s,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}class Ux extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ql(e)}get(e){const t=mu(e,this._firestore),s=new Mm(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return at();const l=a[0];if(l.isFoundDocument())return new Ec(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new Ec(this._firestore,s,t._key,null,t.converter);throw at()})}set(e,t,s){const a=mu(e,this._firestore),l=lp(a.converter,t,s),f=Dm(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const l=mu(e,this._firestore);let f;return f="string"==typeof(t=(0,Ot.m9)(t))||t instanceof pu?xv(this._dataReader,"Transaction.update",l._key,t,s,a):op(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=mu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mu(e,this._firestore),s=new Ia(this._firestore);return super.get(e).then(a=>new wc(this._firestore,s,t._key,a._document,new Gl(!1,!1),t.converter))}}function Bv(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function pp(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function qb(){if("undefined"==typeof atob)throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){gl=n})(ns.SDK_VERSION),(0,ns._registerComponent)(new rs.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new or(t,new CE(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,ns.registerVersion)(Xy,"3.1.1",void 0),(0,ns.registerVersion)(Xy,"3.1.1","esm2017");class gp{constructor(e){this._delegate=e}static fromBase64String(e){return qb(),new gp(ba.fromBase64String(e))}static fromUint8Array(e){return pp(),new gp(ba.fromUint8Array(e))}toBase64(){return qb(),this._delegate.toBase64()}toUint8Array(){return pp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fm(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class jv{enableIndexedDbPersistence(e,t){return function(n,e){xb(n=rn(n,or));const t=_r(n),s=n._freezeSettings(),a=new Ln;return Sb(t,a,new tp(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){xb(n=rn(n,or));const e=_r(n),t=n._freezeSettings(),s=new Ln;return Sb(e,s,new Em(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Le(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(s){if(!va.bt())return Promise.resolve();const a=s+"main";yield va.delete(a)}),function(s){return t.apply(this,arguments)})(ww(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $v{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof lh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ml("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=rn(n,hu))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,_;if("string"==typeof s.mockUserToken)f=s.mockUserToken,_=Fr.MOCK_USER;else{f=(0,Ot.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new Le(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Fr(I)}n._credentials=new $C(new jC(f,_))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield pb(n),t=yield bv(n);return e.setNetworkEnabled(!0),function(s){const a=ze(s);return a.Kr.delete(0),Pl(a)}(t)}))}(_r(n=rn(n,or)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield pb(n),t=yield bv(n);return e.setNetworkEnabled(!1),(s=(0,be.Z)(function*(a){const l=ze(a);l.Kr.add(0),yield ah(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(_r(n=rn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,rD("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Lr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(n,e){return uv.apply(this,arguments)}(yield Im(e),t)})),t.promise}(_r(n=rn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new np(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Bl(n),a=t,ze(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Bl(n),a=t,void ze(s).Zr.delete(a);var s,a}))}}(_r(n=rn(n,or)),Cm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _p(this,wb(this._delegate,e))}catch(t){throw Wr(t,"collection()","Firestore.collection()")}}doc(e){try{return new xs(this,fu(this._delegate,e))}catch(t){throw Wr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ar(this,function(n,e){if(n=rn(n,hu),vb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(t=e,new Is(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Wr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(a=n,bm(a).then(l=>l.datastore));var a;new db(n.asyncQueue,s,e,t).run()})),t.promise}(_r(n),t=>e(new Ux(n,t)))}(this._delegate,t=>e(new zb(this,t)))}batch(){return _r(this._delegate),new Hv(new Bb(this._delegate,e=>dh(this._delegate,e)))}loadBundle(e){return function(n,e){const t=_r(n=rn(n,or)),s=new aD;return function(n,e,t,s){const a=function(l,f){let _;return _="string"==typeof l?(new TextEncoder).encode(l):l,I=function(I,A){if(I instanceof Uint8Array)return YT(I,A);if(I instanceof ArrayBuffer)return YT(new Uint8Array(I),A);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new yv(I,f);var I}(t,Nl(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(n,e,t){const s=ze(n);var a;(a=(0,be.Z)(function*(l,f,_){try{const I=yield f.getMetadata();if(yield function(Q,te){const Me=ze(Q),qe=zr(te.createTime);return Me.persistence.runTransaction("hasNewerBundle","readonly",et=>Me.Je.getBundleMetadata(et,te.id)).then(et=>!!et&&et.createTime.compareTo(qe)>=0)}(l.localStore,I))return yield f.close(),void _._completeWith((Q=I,{taskState:"Success",documentsLoaded:Q.totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}));_._updateProgress(Kw(I));const A=new am(I,l.localStore,f.N);let M=yield f.Qo();for(;M;){const Q=yield A.fo(M);Q&&_._updateProgress(Q),M=yield f.Qo()}const F=yield A.complete();yield Ea(l,F.En,void 0),yield function(Q,te){const Me=ze(Q);return Me.persistence.runTransaction("Save bundle","readwrite",qe=>Me.Je.saveBundleMetadata(qe,te))}(l.localStore,I),_._completeWith(F.progress)}catch(I){ml("SyncEngine",`Loading bundle failed with ${I}`),_._failWith(I)}var Q}),function(l,f,_){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Im(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,s){const a=ze(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield ch(n),e)}))}(_r(n=rn(n,or)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ar(this,t):null)}}class mp extends Uv{constructor(e){super(),this.firestore=e}convertBytes(e){return new gp(new ba(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xs.forKey(t,this.firestore,null)}}class zb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}get(e){const t=ft(e);return this._delegate.get(t).then(s=>new yu(this._firestore,new wc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=ft(e);return s?(Bv("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=ft(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=ft(e);return this._delegate.delete(t),this}}class Hv{constructor(e){this._delegate=e}set(e,t,s){const a=ft(e);return s?(Bv("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=ft(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=ft(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wl{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new ap(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xt(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Wl.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new Wl(e,new mp(e),t),a.set(t,l)),l}}Wl.INSTANCES=new WeakMap;class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xs(t,new xn(t._delegate,s,new nt(e)))}static forKey(e,t,s){return new xs(t,new xn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new _p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _p(this.firestore,wb(this._delegate,e))}catch(t){throw Wr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ot.m9)(e))instanceof xn&&Ib(this._delegate,e)}set(e,t){t=Bv("DocumentReference.set",t);try{return t?Pm(this._delegate,e,t):Pm(this._delegate,e)}catch(s){throw Wr(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?hp(this._delegate,e):hp(this._delegate,e,t,...s)}catch(a){throw Wr(a,"updateDoc()","DocumentReference.update()")}}delete(){return jb(this._delegate)}onSnapshot(...e){const t=yp(e),s=VD(e,a=>new yu(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return $b(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=rn(n,xn);const e=rn(n.firestore,or),t=_r(e),s=new Ia(e);return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,f){try{const _=yield function(I,A){const M=ze(I);return M.persistence.runTransaction("read document","readonly",F=>M.Qn.An(F,A))}(a,l);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Le(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const I=Zi(_,`Failed to get document '${l} from cache`);f.reject(I)}}),function(a,l,f){return s.apply(this,arguments)})(yield ch(n),e,t);var s})),t.promise}(t,n._key).then(a=>new wc(e,s,n._key,a,new Gl(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=rn(n,xn);const e=rn(n.firestore,or);return gb(_r(e),n._key,{source:"server"}).then(t=>Vv(e,n,t))}(this._delegate):function(n){n=rn(n,xn);const e=rn(n.firestore,or);return gb(_r(e),n._key).then(t=>Vv(e,n,t))}(this._delegate),t.then(s=>new yu(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}function Wr(n,e,t){return n.message=n.message.replace(e,t),n}function yp(n){for(const e of n)if("object"==typeof e&&!Fm(e))return e;return{}}function VD(n,e){var t,s;let a;return a=Fm(n[0])?n[0]:Fm(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class yu{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wD(this._delegate,e._delegate)}}class Xt extends yu{data(e){const t=this._delegate.data(e);return function(n,e){n||at()}(void 0!==t),t}}class ar{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}where(e,t,s){try{return new ar(this.firestore,bc(this._delegate,function(n,e,t){const s=e,a=gu("where",n);return new kx(a,s,t)}(e,t,s)))}catch(a){throw Wr(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ar(this.firestore,bc(this._delegate,function(n,e="asc"){const t=e,s=gu("orderBy",n);return new ID(s,t)}(e,t)))}catch(s){throw Wr(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ar(this.firestore,bc(this._delegate,function(n){return Eb("limit",n),new Om("limit",n,"F")}(e)))}catch(t){throw Wr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ar(this.firestore,bc(this._delegate,function(n){return Eb("limitToLast",n),new Om("limitToLast",n,"L")}(e)))}catch(t){throw Wr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ar(this.firestore,bc(this._delegate,function(...n){return new Pv("startAt",n,!0)}(...e)))}catch(t){throw Wr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ar(this.firestore,bc(this._delegate,function(...n){return new Pv("startAfter",n,!1)}(...e)))}catch(t){throw Wr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ar(this.firestore,bc(this._delegate,function(...n){return new Ub("endBefore",n,!0)}(...e)))}catch(t){throw Wr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ar(this.firestore,bc(this._delegate,function(...n){return new Ub("endAt",n,!1)}(...e)))}catch(t){throw Wr(t,"endAt()","Query.endAt()")}}isEqual(e){return $l(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=rn(n,Oi);const e=rn(n.firestore,or),t=_r(e),s=new Ia(e);return function(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,l,f){try{const _=yield lu(a,l,!0),I=new um(l,_.Gn),A=I.Io(_.documents),M=I.applyChanges(A,!1);f.resolve(M.snapshot)}catch(_){const I=Zi(_,`Failed to execute query '${l} against cache`);f.reject(I)}}),function(a,l,f){return s.apply(this,arguments)})(yield ch(n),e,t);var s})),t.promise}(t,n._query).then(a=>new ci(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=rn(n,Oi);const e=rn(n.firestore,or),t=_r(e),s=new Ia(e);return Cv(t,n._query,{source:"server"}).then(a=>new ci(e,s,n,a))}(this._delegate):function(n){n=rn(n,Oi);const e=rn(n.firestore,or),t=_r(e),s=new Ia(e);return up(n._query),Cv(t,n._query).then(a=>new ci(e,s,n,a))}(this._delegate),t.then(s=>new Kl(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=yp(e),s=VD(e,a=>new Kl(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return $b(this._delegate,t,s)}withConverter(e){return new ar(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}class fh{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kl{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ar(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xt(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fh(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Xt(this._firestore,s))})}isEqual(e){return wD(this._delegate,e._delegate)}}class _p extends ar{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xs(this.firestore,e):null}doc(e){try{return new xs(this.firestore,void 0===e?fu(this._delegate):fu(this._delegate,e))}catch(t){throw Wr(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=rn(n.firestore,or),s=fu(n),a=lp(n.converter,e);return dh(t,[Dm(ql(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,yr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new xs(this.firestore,t))}isEqual(e){return Ib(this._delegate,e._delegate)}withConverter(e){return new _p(this.firestore,this._delegate.withConverter(e?Wl.getInstance(this.firestore,e):null))}}function ft(n){return rn(n,xn)}class hs{constructor(...e){this._delegate=new pu(...e)}static documentId(){return new hs(Dr.keyField().canonicalString())}isEqual(e){return(e=(0,Ot.m9)(e))instanceof pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Sm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new _u(e)}static delete(){const e=new Zl("deleteField");return e._methodName="FieldValue.delete",new _u(e)}static arrayUnion(...e){const t=function(...n){return new Sv("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new _u(t)}static arrayRemove(...e){const t=function(...n){return new yD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new _u(t)}static increment(e){const t=function(n){return new _D("increment",n)}(e);return t._methodName="FieldValue.increment",new _u(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yl={Firestore:$v,GeoPoint:Tm,Timestamp:qr,Blob:gp,Transaction:zb,WriteBatch:Hv,DocumentReference:xs,DocumentSnapshot:yu,Query:ar,QueryDocumentSnapshot:Xt,QuerySnapshot:Kl,CollectionReference:_p,FieldPath:hs,FieldValue:_u,setLogLevel:function(n){!function(n){Mo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new rs.wA("firestore-compat",t=>((e,t)=>new $v(e,t,new jv))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Yl)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(za.Z);var vu=L(9765),jx=L(6682),vp=L(309),ph=L(5345);function wn(n,e){return"function"==typeof e?t=>t.pipe(wn((s,a)=>(0,pn.D)(n(s,a)).pipe((0,gt.U)((l,f)=>e(s,l,a,f))))):t=>t.lift(new zn(n))}class zn{constructor(e){this.project=e}call(e,t){return t.subscribe(new Vo(e,this.project))}}class Vo extends ph.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new ph.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,ph.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Wb=L(7771),Kb=L(5319),qv=L(7971),Zv=L(8858);class gh extends vu.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Ep(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let f;if(this.closed)throw new qv.N;if(this.isStopped||this.hasError?f=Kb.w.EMPTY:(this.observers.push(e),f=new Zv.W(this,e)),a&&e.add(e=new vp.ht(e,a)),t)for(let _=0;_<l&&!e.closed;_++)e.next(s[_]);else for(let _=0;_<l&&!e.closed;_++)e.next(s[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||Wb.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let f=0;for(;f<l&&!(e-a[f].time<s);)f++;return l>t&&(f=Math.max(f,l-t)),f>0&&a.splice(0,f),a}}class Ep{constructor(e,t){this.time=e,this.value=t}}function Yb(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,f,l=0,_=!1,I=!1;return function(M){let F;l++,!a||_?(_=!1,a=new gh(n,e,s),F=a.subscribe(this),f=M.subscribe({next(Q){a.next(Q)},error(Q){_=!0,a.error(Q)},complete(){I=!0,f=void 0,a.complete()}}),I&&(f=void 0)):F=a.subscribe(this),this.add(()=>{l--,F.unsubscribe(),F=void 0,f&&!I&&t&&0===l&&(f.unsubscribe(),f=void 0,a=void 0)})}}(s))}const wp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),mh=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var Ca=L(9193);function Lm(n){return e=>0===n?(0,Ca.c)():e.lift(new yh(n))}class yh{constructor(e){if(this.total=e,this.total<0)throw new mh}call(e,t){return t.subscribe(new BD(e,this.total))}}class BD extends Ei.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function bp(n=null){return e=>e.lift(new Jb(n))}class Jb{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Xb(e,this.defaultValue))}}class Xb extends Ei.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function zv(n=Gv){return e=>e.lift(new Um(n))}class Um{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new jD(e,this.errorFactory))}}class jD extends Ei.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Gv(){return new wp}var Vm=L(4487);function _h(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ts((a,l)=>n(a,l,s)):Vm.y,Lm(1),t?bp(e):zv(()=>new wp))}function $D(n,e){return e?wn(()=>n,e):wn(()=>n)}var wt=L(3101);L(2329);const Bm=new Map,GD={activated:!1,tokenObservers:[]},WD={initialized:!1,enabled:!1};function Ni(n){return Bm.get(n)||GD}function io(n,e){Bm.set(n,e)}function jm(){return WD}class JD{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Ot.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ot.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const li=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function iI(n){if(!Ni(n).activated)throw li.create("use-before-activation",{appName:n.name})}function vh(n,e){return oI.apply(this,arguments)}function oI(){return(oI=(0,be.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let f,_;try{f=yield fetch(n,l)}catch(F){throw li.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==f.status)throw li.create("fetch-status-error",{httpStatus:f.status});try{_=yield f.json()}catch(F){throw li.create("fetch-parse-error",{originalErrorMessage:F.message})}const I=_.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const A=1e3*Number(I[1]),M=Date.now();return{token:_.attestationToken,expireTimeMillis:M+A,issuedAtTimeMillis:M}})).apply(this,arguments)}function tA(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Ip="firebase-app-check-store";let Cp=null;function cI(){return Cp||(Cp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(li.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(Ip,{keyPath:"compositeKey"})}}}catch(t){e(li.create("storage-open",{originalErrorMessage:t.message}))}}),Cp)}function Wv(){return(Wv=(0,be.Z)(function*(n,e){const s=(yield cI()).transaction(Ip,"readwrite"),l=s.objectStore(Ip).put({compositeKey:n,value:e});return new Promise((f,_)=>{l.onsuccess=I=>{f()},s.onerror=I=>{var A;_(li.create("storage-set",{originalErrorMessage:null===(A=I.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const Hm=new bo.Yd("@firebase/app-check");function Zm(n,e){return(0,Ot.hl)()?function(n,e){return function(n,e){return Wv.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function di(){return jm().enabled}function Yv(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,be.Z)(function*(){const n=jm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aA={error:"UNKNOWN_ERROR"};function hI(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function Tp(n){return zm.apply(this,arguments)}function zm(){return(zm=(0,be.Z)(function*(n,e=!1){const t=n.app;iI(t);const s=Ni(t);let l,f,a=s.token;if(!a){const _=yield s.cachedTokenPromise;_&&Dp(_)&&(a=_,io(t,Object.assign(Object.assign({},s),{token:a})),Xv(t,{token:a.token}))}if(!e&&a&&Dp(a))return{token:a.token};if(di()){const _=yield vh(tA(t,yield Yv()),n.platformLoggerProvider);return yield Zm(t,_),io(t,Object.assign(Object.assign({},s),{token:_})),{token:_.token}}try{a=yield s.provider.getToken()}catch(_){Hm.error(_),l=_}return a?(f={token:a.token},io(t,Object.assign(Object.assign({},s),{token:a})),yield Zm(t,a)):f=tR(l),Xv(t,f),f})).apply(this,arguments)}function Jv(n,e){const t=Ni(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),io(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function Xv(n,e){const t=Ni(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function Dp(n){return n.expireTimeMillis-Date.now()>0}function tR(n){return{token:hI(aA),error:n}}class cA{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ni(this.app);for(const t of e)Jv(this.app,t.next);return Promise.resolve()}}const wh="app-check-internal";(0,ns._registerComponent)(new rs.wA("app-check",n=>function(n,e){return new cA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wh).initialize()})),(0,ns._registerComponent)(new rs.wA(wh,n=>function(n){return{getToken:e=>Tp(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=Ni(a),f={next:t,error:s,type:e},_=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]});if(!_.tokenRefresher){const I=function(n){const{app:e}=n;return new JD((0,be.Z)(function*(){let s;if(s=Ni(e).token?yield Tp(n,!0):yield Tp(n),s.error)throw s.error}),()=>!0,()=>{const t=Ni(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=I}if(!_.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),l.token&&Dp(l.token)){const I=l.token;Promise.resolve().then(()=>t({token:I.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(I=>{I&&Dp(I)&&t({token:I.token})}).catch(()=>{});io(a,_)}(n,"INTERNAL",e),removeTokenListener:e=>Jv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ns.registerVersion)("@firebase/app-check","0.4.2");class Km{constructor(){return(0,Dn.vb)("app-check")}}"undefined"!=typeof window&&window;var _A=L(7841);const EA=new h.OlP("angularfire2.auth.use-emulator"),Jm=new h.OlP("angularfire2.auth.settings"),Xm=new h.OlP("angularfire2.auth.tenant-id"),s0=new h.OlP("angularfire2.auth.langugage-code"),ey=new h.OlP("angularfire2.auth.use-device-language"),ty=new h.OlP("angularfire.auth.persistence"),wI=(n,e,t,s,a,l,f,_)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),s&&(I.tenantId=s),I.languageCode=a,l&&I.useDeviceLanguage(),f)for(const[A,M]of Object.entries(f))I.settings[A]=M;return _&&I.setPersistence(_),I},[t,s,a,l,f,_]);let bI=(()=>{class n{constructor(t,s,a,l,f,_,I,A,M,F,Q,te){const Me=new vu.xQ,qe=(0,st.of)(void 0).pipe((0,vp.QV)(f.outsideAngular),wn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4828)))),(0,gt.U)(()=>(0,jr.on)(t,l,s)),(0,gt.U)(et=>wI(et,l,_,A,M,F,I,Q)),Yb({bufferSize:1,refCount:!1}));if(Ir(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,st.of)(null);else{qe.pipe(_h()).subscribe();const Ht=qe.pipe(wn(i=>i.getRedirectResult().then(o=>o,()=>null)),Dn.iC,Yb({bufferSize:1,refCount:!1})),hn=qe.pipe(wn(i=>new si.y(o=>({unsubscribe:l.runOutsideAngular(()=>i.onAuthStateChanged(u=>o.next(u),u=>o.error(u),()=>o.complete()))})))),r=qe.pipe(wn(i=>new si.y(o=>({unsubscribe:l.runOutsideAngular(()=>i.onIdTokenChanged(u=>o.next(u),u=>o.error(u),()=>o.complete()))}))));this.authState=Ht.pipe($D(hn),(0,wt.R)(f.outsideAngular),(0,vp.QV)(f.insideAngular)),this.user=Ht.pipe($D(r),(0,wt.R)(f.outsideAngular),(0,vp.QV)(f.insideAngular)),this.idToken=this.user.pipe(wn(i=>i?(0,pn.D)(i.getIdToken()):(0,st.of)(null))),this.idTokenResult=this.user.pipe(wn(i=>i?(0,pn.D)(i.getIdTokenResult()):(0,st.of)(null))),this.credential=(0,jx.T)(Ht,Me,this.authState.pipe(ts(i=>!i))).pipe((0,gt.U)(i=>(null==i?void 0:i.user)?i:null),(0,wt.R)(f.outsideAngular),(0,vp.QV)(f.insideAngular))}return(0,jr.pX)(this,qe,l,{spy:{apply:(et,Ht,hn)=>{(et.startsWith("signIn")||et.startsWith("createUser"))&&hn.then(r=>Me.next(r))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(jr.Dh),h.LFG(jr.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Dn.HU),h.LFG(EA,8),h.LFG(Jm,8),h.LFG(Xm,8),h.LFG(s0,8),h.LFG(ey,8),h.LFG(ty,8),h.LFG(Km,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function o0(n,e){return function(n,e=Xi.z){return new si.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function ny(n,e){return o0(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function ry(n,e){return ny(n,e).pipe(Ha(void 0),Hu(),(0,gt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,_)=>{const I=a.find(M=>M.doc.ref.isEqual(f.ref)),A=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(f.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(f.metadata)||!I&&A&&JSON.stringify(A.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),l}))}function u0(n,e,t){return ry(n,t).pipe(es((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return c0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return c0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return c0(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new ra(void 0,void 0)),(0,gt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function c0(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function l0(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class TI{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ry(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Ha(void 0),Hu(),ts(([s,a])=>a.length>0||!s),(0,gt.U)(([s,a])=>a),Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(es((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=l0(e);return u0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return ny(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Dn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Dn.iC)}add(e){return this.ref.add(e)}doc(e){return new d0(this.ref.doc(e),this.afs)}}class d0{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=DI(s,t);return new TI(a,l,this.afs)}snapshotChanges(){return function(n,e){return o0(n,e).pipe(Ha(void 0),Hu(),(0,gt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Dn.iC)}}class bA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),ts(t=>t.length>0),Dn.iC):ry(this.query,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(es((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=l0(e);return u0(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return ny(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Dn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Dn.iC)}}const IA=new h.OlP("angularfire2.enableFirestorePersistence"),Pi=new h.OlP("angularfire2.firestore.persistenceSettings"),bh=new h.OlP("angularfire2.firestore.settings"),CA=new h.OlP("angularfire2.firestore.use-emulator");function DI(n,e=(t=>t)){return{query:e(n),ref:n}}let TA=(()=>{class n{constructor(t,s,a,l,f,_,I,A,M,F,Q,te,Me,qe,et,Ht,hn){this.schedulers=I;const r=(0,jr.on)(t,_,s),i=M;F&&wI(r,_,Q,Me,qe,et,te,Ht),[this.firestore,this.persistenceEnabled$]=(0,jr.cc)(`${r.name}.firestore`,"AngularFirestore",r.name,()=>{const o=_.runOutsideAngular(()=>r.firestore());if(l&&o.settings(l),i&&o.useEmulator(...i),a&&!Ir(f)){const u=()=>{try{return(0,pn.D)(o.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(c){return"undefined"!=typeof console&&console.warn(c),(0,st.of)(!1)}};return[o,_.runOutsideAngular(u)]}return[o,(0,st.of)(!1)]},[l,i,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=DI(a,s),_=this.schedulers.ngZone.run(()=>l);return new TI(_,f,this)}collectionGroup(t,s){const a=s||(f=>f),l=this.firestore.collectionGroup(t);return new bA(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new d0(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(jr.Dh),h.LFG(jr.xv,8),h.LFG(IA,8),h.LFG(bh,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Dn.HU),h.LFG(Pi,8),h.LFG(CA,8),h.LFG(bI,8),h.LFG(EA,8),h.LFG(Jm,8),h.LFG(Xm,8),h.LFG(s0,8),h.LFG(ey,8),h.LFG(ty,8),h.LFG(Km,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sp=(()=>{class n{constructor(){_A.Z.registerVersion("angularfire",Dn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:IA,useValue:!0},{provide:Pi,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[TA]}),n})();class Bo extends vu.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qv.N;return this._value}next(e){super.next(this._value=e)}}var h0=L(9796);class DA extends Ei.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class AI extends Ei.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var AA=L(7444);function SA(n,e,t,s,a=new AI(n,t,s)){if(!a.closed)return e instanceof si.y?e.subscribe(a):(0,AA.s)(e)(a)}var f0=L(6693);const p0={};class iy{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new g0(e,this.resultSelector))}}class g0 extends DA{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p0),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(SA(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,f=this.toRespond?a[s]===p0?--this.toRespond:this.toRespond:0;a[s]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}function xA(n){return new si.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,pn.D)(t):(0,Ca.c)()).subscribe(e)})}var xI=L(2441);function Jl(n){return function(t){const s=new RI(n),a=t.lift(s);return s.caught=a}}class RI{constructor(e){this.selector=e}call(e,t){return t.subscribe(new sy(e,this.selector,this.caught))}}class sy extends ph.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new ph.IY(this);this.add(s);const a=(0,ph.ft)(t,s);a!==s&&this.add(a)}}}var ki=L(9773);function xp(n,e){return(0,ki.zg)(n,e,1)}function Rp(n){return function(t){return 0===n?(0,Ca.c)():t.lift(new m0(n))}}class m0{constructor(e){if(this.total=e,this.total<0)throw new mh}call(e,t){return t.subscribe(new RA(e,this.total))}}class RA extends Ei.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const f=t++%s;e.next(a[f])}}e.complete()}}var xr=L(3342),OI=L(1307);class MA{constructor(e){this.callback=e}call(e,t){return t.subscribe(new NI(e,this.callback))}}class NI extends Ei.L{constructor(e,t){super(e),this.add(new Kb.w(t))}}class Ta{constructor(e,t){this.id=e,this.url=t}}class y0 extends Ta{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Op extends Ta{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _0 extends Ta{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NA extends Ta{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PI extends Ta{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kI extends Ta{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FI extends Ta{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LI extends Ta{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PA extends Ta{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UI{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VI{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BI{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pR{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gR{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mR{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kA{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class yR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mp(n){return new yR(n)}const FA="ngNavigationCancelingError";function jI(n){const e=Error("NavigationCancelingError: "+n);return e[FA]=!0,e}function vR(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const f=s[l],_=n[l];if(f.startsWith(":"))a[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function wu(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!LA(n[a],e[a]))return!1;return!0}function LA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function UA(n){return Array.prototype.concat.apply([],n)}function VA(n){return n.length>0?n[n.length-1]:null}function hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Da(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,st.of)(n)}const wR={exact:function $I(n,e,t){if(!bu(n.segments,e.segments)||!v0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!$I(n.children[s],e.children[s],t))return!1;return!0},subset:ZA},jA={exact:function(n,e){return wu(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>LA(n[t],e[t]))},ignored:()=>!0};function $A(n,e,t){return wR[t.paths](n.root,e.root,t.matrixParams)&&jA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ZA(n,e,t){return zA(n,e,e.segments,t)}function zA(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!bu(a,t)||e.hasChildren()||!v0(a,t,s))}if(n.segments.length===t.length){if(!bu(n.segments,t)||!v0(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!ZA(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(bu(n.segments,a)&&v0(n.segments,a,s)&&n.children[$t])&&zA(n.children[$t],e,l,s)}}function v0(n,e,t){return e.every((s,a)=>jA[t](n[a].parameters,s.parameters))}class Ih{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap}toString(){return WA.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hi(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}}class oy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mp(this.parameters)),this._parameterMap}toString(){return KA(this)}}function bu(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class ay{}class HI{parse(e){const t=new I0(e);return new Ih(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Dh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${Np(t)}=${Np(a)}`).join("&"):`${Np(t)}=${Np(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const WA=new HI;function Th(n){return n.segments.map(e=>KA(e)).join("/")}function Dh(n,e){if(!n.hasChildren())return Th(n);if(e){const t=n.children[$t]?Dh(n.children[$t],!1):"",s=[];return hi(n.children,(a,l)=>{l!==$t&&s.push(`${l}:${Dh(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return hi(n.children,(s,a)=>{a===$t&&(t=t.concat(e(s,a)))}),hi(n.children,(s,a)=>{a!==$t&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===$t?[Dh(n.children[$t],!1)]:[`${a}:${Dh(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Th(n)}/${t[0]}`:`${Th(n)}/(${t.join("//")})`}}function E0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return E0(n).replace(/%3B/gi,";")}function uy(n){return E0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function w0(n){return Xl(n.replace(/\+/g,"%20"))}function KA(n){return`${uy(n.path)}${function(n){return Object.keys(n).map(e=>`;${uy(e)}=${uy(n[e])}`).join("")}(n.parameters)}`}const YA=/^[^\/()?;=#]+/;function b0(n){const e=n.match(YA);return e?e[0]:""}const cy=/^[^=?&#]+/,TR=/^[^?&#]+/;class I0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[$t]=new Kt(e,t)),s}parseSegment(){const e=b0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new oy(Xl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=b0(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=b0(this.remaining);a&&(s=a,this.capture(s))}e[Xl(t)]=Xl(s)}parseQueryParam(e){const t=function(n){const e=n.match(cy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(TR);return e?e[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const a=w0(t),l=w0(s);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=b0(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=$t);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[$t]:new Kt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class qI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZI(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=ZI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=zI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return zI(e,this._root).map(t=>t.value)}}function ZI(n,e){if(n===e.value)return e;for(const t of e.children){const s=ZI(n,t);if(s)return s}return null}function zI(n,e){if(n===e.value)return[e];for(const t of e.children){const s=zI(n,t);if(s.length)return s.unshift(e),s}return[]}class Iu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ly(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class C0 extends qI{constructor(e,t){super(e),this.snapshot=t,T0(this,e)}toString(){return this.snapshot.toString()}}function GI(n,e){const t=function(n,e){const f=new dy([],{},{},"",{},$t,e,null,n.root,-1,{});return new KI("",new Iu(f,[]))}(n,e),s=new Bo([new oy("",{})]),a=new Bo({}),l=new Bo({}),f=new Bo({}),_=new Bo(""),I=new Pp(s,a,f,_,l,$t,e,t.root);return I.snapshot=t.root,new C0(new Iu(I,[]),t)}class Pp{constructor(e,t,s,a,l,f,_,I){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=_,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Mp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Mp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WI(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class dy{constructor(e,t,s,a,l,f,_,I,A,M,F){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=_,this.routeConfig=I,this._urlSegment=A,this._lastPathIndex=M,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KI extends qI{constructor(e,t){super(t),this.url=e,T0(this,t)}toString(){return hy(this._root)}}function T0(n,e){e.value._routerState=n,e.children.forEach(t=>T0(n,t))}function hy(n){const e=n.children.length>0?` { ${n.children.map(hy).join(", ")} } `:"";return`${n.value}${e}`}function D0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wu(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zi(n,e){return wu(n.params,e.params)&&function(n,e){return bu(n,e)&&n.every((t,s)=>wu(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||zi(n.parent,e.parent))}function Ah(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Ah(n,s,a);return Ah(n,s)})}(n,e,t);return new Iu(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return YI(e,f),f}}const s=function(n){return new Pp(new Bo(n.url),new Bo(n.params),new Bo(n.queryParams),new Bo(n.fragment),new Bo(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Ah(n,l));return new Iu(s,a)}}function YI(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)YI(n.children[t],e.children[t])}function Fp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lp(n){return"object"==typeof n&&null!=n&&n.outlets}function fy(n,e,t,s,a){let l={};return s&&hi(s,(f,_)=>{l[_]=Array.isArray(f)?f.map(I=>`${I}`):`${f}`}),new Ih(t.root===n?e:S0(t.root,n,e),l,a)}function S0(n,e,t){const s={};return hi(n.children,(a,l)=>{s[l]=a===e?t:S0(a,e,t)}),new Kt(n.segments,s)}class JI{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&Fp(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Lp);if(a&&a!==VA(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Up{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function tC(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return fs(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const f=n.segments[a],_=t[s];if(Lp(_))break;const I=`${_}`,A=s<t.length-1?t[s+1]:null;if(a>0&&void 0===I)break;if(I&&A&&"object"==typeof A&&void 0===A.outlets){if(!rC(I,A,f))return l;s+=2}else{if(!rC(I,{},f))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new Kt(n.segments.slice(0,s.pathIndex),{});return l.children[$t]=new Kt(n.segments.slice(s.pathIndex),n.children),fs(l,0,a)}return s.match&&0===a.length?new Kt(n.segments,{}):s.match&&!n.hasChildren()?nC(n,e,t):s.match?fs(n,0,a):nC(n,e,t)}function fs(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const s=function(n){return Lp(n[0])?n[0].outlets:{[$t]:n}}(t),a={};return hi(s,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[f]=tC(n.children[f],e,l))}),hi(n.children,(l,f)=>{void 0===s[f]&&(a[f]=l)}),new Kt(n.segments,a)}}function nC(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(Lp(l)){const I=nS(l.outlets);return new Kt(s,I)}if(0===a&&Fp(t[0])){s.push(new oy(n.segments[e].path,rS(t[0]))),a++;continue}const f=Lp(l)?l.outlets[$t]:`${l}`,_=a<t.length-1?t[a+1]:null;f&&_&&Fp(_)?(s.push(new oy(f,rS(_))),a+=2):(s.push(new oy(f,{})),a++)}return new Kt(s,{})}function nS(n){const e={};return hi(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=nC(new Kt([],{}),0,t))}),e}function rS(n){const e={};return hi(n,(t,s)=>e[s]=`${t}`),e}function rC(n,e,t){return n==t.path&&wu(e,t.parameters)}class sS{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),D0(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=ly(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,a[f],s),delete a[f]}),hi(a,(l,f)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const f=s.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=ly(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=ly(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new mR(l.value.snapshot))}),e.children.length&&this.forwardEvent(new pR(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(D0(a),a===l)if(a.component){const f=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const f=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),oS(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),I=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=I,f.outlet&&f.outlet.activateWith(a,I),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,s)}}function oS(n){D0(n.value),n.children.forEach(oS)}class py{constructor(e,t){this.routes=e,this.module=t}}function Tc(n){return"function"==typeof n}function Dc(n){return n instanceof Ih}const Vp=Symbol("INITIAL_VALUE");function Bp(){return wn(n=>function(...n){let e,t;return(0,Kc.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,h0.k)(n[0])&&(n=n[0]),(0,f0.n)(n,t).lift(new iy(e))}(n.map(e=>e.pipe(Lm(1),Ha(Vp)))).pipe(es((e,t)=>{let s=!1;return t.reduce((a,l,f)=>a!==Vp?a:(l===Vp&&(s=!0),s||!1!==l&&f!==t.length-1&&!Dc(l)?a:l),e)},Vp),ts(e=>e!==Vp),(0,gt.U)(e=>Dc(e)?e:!0===e),Lm(1)))}let R0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[j0]},encapsulation:2}),n})();function Sh(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];O0(s,oC(e,s))}}function O0(n,e){n.children&&Sh(n.children,e)}function oC(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function M0(n){const e=n.children&&n.children.map(M0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=R0),t}function so(n){return n.outlet||$t}function lS(n,e){const t=n.filter(s=>so(s)===e);return t.push(...n.filter(s=>so(s)!==e)),t}const dS={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function N0(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},dS):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||vR)(t,n,e);if(!l)return Object.assign({},dS);const f={};hi(l.posParams,(I,A)=>{f[A]=I.path});const _=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:_,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function jp(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>gy(n,e,s)&&so(s)!==$t)}(n,t,s)){const f=new Kt(e,function(n,e,t,s){const a={};a[$t]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&so(l)!==$t){const f=new Kt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[so(l)]=f}return a}(n,e,s,new Kt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>gy(n,e,s))}(n,t,s)){const f=new Kt(n.segments,function(n,e,t,s,a,l){const f={};for(const _ of s)if(gy(n,t,_)&&!a[so(_)]){const I=new Kt([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[so(_)]=I}return Object.assign(Object.assign({},a),f)}(n,e,t,s,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Kt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function gy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function P0(n,e,t,s){return!!(so(n)===s||s!==$t&&gy(e,t,n))&&("**"===n.path||N0(e,n,t).matched)}function gS(n,e,t){return 0===e.length&&!n.children[t]}class my{constructor(e){this.segmentGroup=e||null}}class uC{constructor(e){this.urlTree=e}}function xh(n){return new si.y(e=>e.error(new my(n)))}function Vr(n){return new si.y(e=>e.error(new uC(n)))}function xR(n){return new si.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class mS{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=jp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,gt.U)(l=>this.createUrlTree(k0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jl(l=>{if(l instanceof uC)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof my?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,gt.U)(a=>this.createUrlTree(k0(a),e.queryParams,e.fragment))).pipe(Jl(a=>{throw a instanceof my?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Kt([],{[$t]:e}):e;return new Ih(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,gt.U)(l=>new Kt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,pn.D)(a).pipe(xp(l=>{const f=s.children[l],_=lS(t,l);return this.expandSegmentGroup(e,_,f,l).pipe((0,gt.U)(I=>({segment:I,outlet:l})))}),es((l,f)=>(l[f.outlet]=f.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?ts((a,l)=>n(a,l,s)):Vm.y,Rp(1),t?bp(e):zv(()=>new wp))}())}expandSegment(e,t,s,a,l,f){return(0,pn.D)(s).pipe(xp(_=>this.expandSegmentAgainstRoute(e,t,s,_,a,l,f).pipe(Jl(A=>{if(A instanceof my)return(0,st.of)(null);throw A}))),_h(_=>!!_),Jl((_,I)=>{if(_ instanceof wp||"EmptyError"===_.name){if(gS(t,a,l))return(0,st.of)(new Kt([],{}));throw new my(t)}throw _}))}expandSegmentAgainstRoute(e,t,s,a,l,f,_){return P0(a,t,l,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f):xh(t):xh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Vr(l):this.lineralizeSegments(s,l).pipe((0,ki.zg)(f=>{const _=new Kt(f,{});return this.expandSegment(e,_,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){const{matched:_,consumedSegments:I,lastChild:A,positionalParamSegments:M}=N0(t,a,l);if(!_)return xh(t);const F=this.applyRedirectCommands(I,a.redirectTo,M);return a.redirectTo.startsWith("/")?Vr(F):this.lineralizeSegments(a,F).pipe((0,ki.zg)(Q=>this.expandSegment(e,t,s,Q.concat(l.slice(A)),f,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,st.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,gt.U)(Q=>(s._loadedConfig=Q,new Kt(a,{})))):(0,st.of)(new Kt(a,{}));const{matched:f,consumedSegments:_,lastChild:I}=N0(t,s,a);if(!f)return xh(t);const A=a.slice(I);return this.getChildConfig(e,s,a).pipe((0,ki.zg)(F=>{const Q=F.module,te=F.routes,{segmentGroup:Me,slicedSegments:qe}=jp(t,_,A,te),et=new Kt(Me.segments,Me.children);if(0===qe.length&&et.hasChildren())return this.expandChildren(Q,te,et).pipe((0,gt.U)(i=>new Kt(_,i)));if(0===te.length&&0===qe.length)return(0,st.of)(new Kt(_,{}));const Ht=so(s)===l;return this.expandSegment(Q,et,te,qe,Ht?$t:l,!0).pipe((0,gt.U)(r=>new Kt(_.concat(r.segments),r.children)))}))}getChildConfig(e,t,s){return t.children?(0,st.of)(new py(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,st.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,ki.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,gt.U)(l=>(t._loadedConfig=l,l))):function(n){return new si.y(e=>e.error(jI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,st.of)(new py([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,st.of)(!0);const l=a.map(f=>{const _=e.get(f);let I;if(function(n){return n&&Tc(n.canLoad)}(_))I=_.canLoad(t,s);else{if(!Tc(_))throw new Error("Invalid CanLoad guard");I=_(t,s)}return Da(I)});return(0,st.of)(l).pipe(Bp(),(0,xr.b)(f=>{if(!Dc(f))return;const _=jI(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,gt.U)(f=>!0===f))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,st.of)(s);if(a.numberOfChildren>1||!a.children[$t])return xR(e.redirectTo);a=a.children[$t]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new Ih(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return hi(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);s[l]=t[_]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let f={};return hi(t.children,(_,I)=>{f[I]=this.createSegmentGroup(e,_,s,a)}),new Kt(l,f)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function k0(n){const e={};for(const s of Object.keys(n.children)){const l=k0(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}class F0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Aa{constructor(e,t){this.component=e,this.route=t}}function dC(n,e,t){const s=n._root;return Ac(s,e?e._root:null,t,[s.value])}function Rh(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Ac(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=ly(e);return n.children.forEach(f=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const I=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bu(n.url,e.url)||!wu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zi(n,e)||!wu(n.queryParams,e.queryParams);case"paramsChange":default:return!zi(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new F0(s)):(l.data=f.data,l._resolvedData=f._resolvedData),Ac(n,e,l.component?_?_.children:null:t,s,a),I&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new Aa(_.outlet.component,f))}else f&&Oh(e,_,a),a.canActivateChecks.push(new F0(s)),Ac(n,null,l.component?_?_.children:null:t,s,a)})(f,l[f.value.outlet],t,s.concat([f.value]),a),delete l[f.value.outlet]}),hi(l,(f,_)=>Oh(f,t.getContext(_),a)),a}function Oh(n,e,t){const s=ly(n),a=n.value;hi(s,(l,f)=>{Oh(l,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Aa(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class NR{}function IS(n){return new si.y(e=>e.error(n))}class TS{constructor(e,t,s,a,l,f){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=jp(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const s=new dy([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Iu(s,t),l=new KI(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=WI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const f=t.children[l],_=lS(e,l),I=this.processSegmentGroup(_,f,l);if(null===I)return null;s.push(...I)}const a=xS(s);return function(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,s,a){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,s,a);if(null!==f)return f}return gS(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!P0(e,t,s,a))return null;let l,f=[],_=[];if("**"===e.path){const te=s.length>0?VA(s).parameters:{};l=new dy(s,te,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RS(e),so(e),e.component,e,hC(t),fC(t)+s.length,OS(e))}else{const te=N0(t,e,s);if(!te.matched)return null;f=te.consumedSegments,_=s.slice(te.lastChild),l=new dy(f,te.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RS(e),so(e),e.component,e,hC(t),fC(t)+f.length,OS(e))}const I=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:M}=jp(t,f,_,I.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===M.length&&A.hasChildren()){const te=this.processChildren(I,A);return null===te?null:[new Iu(l,te)]}if(0===I.length&&0===M.length)return[new Iu(l,[])];const F=so(e)===a,Q=this.processSegment(I,A,M,F?$t:a);return null===Q?null:[new Iu(l,Q)]}}function SS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xS(n){const e=[],t=new Set;for(const s of n){if(!SS(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=xS(s.children);e.push(new Iu(s.value,a))}return e.filter(s=>!t.has(s))}function hC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function RS(n){return n.data||{}}function OS(n){return n.resolve||{}}function Os(n){return wn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,gt.U)(()=>e)):(0,st.of)(e)})}class VS extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const V0=new h.OlP("ROUTES");class BS{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new py(UA(f.injector.get(V0,void 0,h.XFs.Self|h.XFs.Optional)).map(M0),f)}),Jl(l=>{throw t._loader$=void 0,l}));return t._loader$=new xI.c(a,()=>new vu.xQ).pipe((0,OI.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pn.D)(this.loader.load(e)):Da(e()).pipe((0,ki.zg)(t=>t instanceof h.YKP?(0,st.of)(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class jS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mh,this.attachRef=null}}class Mh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new jS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class $p{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pC(n){throw n}function kR(n,e,t){return e.parse("/")}function gC(n,e){return(0,st.of)(null)}const FR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{class n{constructor(t,s,a,l,f,_,I,A){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vu.xQ,this.errorHandler=pC,this.malformedUriErrorHandler=kR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gC,afterPreactivation:gC},this.urlHandlingStrategy=new $p,this.routeReuseStrategy=new VS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const Q=f.get(h.R0b);this.isNgZoneEnabled=Q instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Ih(new Kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new BS(_,I,te=>this.triggerEvent(new UI(te)),te=>this.triggerEvent(new VI(te))),this.routerState=GI(this.currentUrlTree,this.rootComponentType),this.transitions=new Bo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(ts(a=>0!==a.id),(0,gt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),wn(a=>{let l=!1,f=!1;return(0,st.of)(a).pipe((0,xr.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wn(_=>{const I=this.browserUrlTree.toString(),A=!this.navigated||_.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return vy(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,st.of)(_).pipe(wn(F=>{const Q=this.transitions.getValue();return s.next(new y0(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),Q!==this.transitions.getValue()?Ca.E:Promise.resolve(F)}),function(n,e,t,s){return wn(a=>function(n,e,t,s,a){return new mS(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,gt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xr.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function(n,e,t,s,a){return(0,ki.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const f=new TS(n,e,t,s,a,l).recognize();return null===f?IS(new NR):(0,st.of)(f)}catch(f){return IS(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,gt.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xr.b)(F=>{"eager"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(F.urlAfterRedirects,F),this.browserUrlTree=F.urlAfterRedirects);const Q=new PI(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);s.next(Q)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:te,source:Me,restoredState:qe,extras:et}=_,Ht=new y0(Q,this.serializeUrl(te),Me,qe);s.next(Ht);const hn=GI(te,this.rootComponentType).snapshot;return(0,st.of)(Object.assign(Object.assign({},_),{targetSnapshot:hn,urlAfterRedirects:te,extras:Object.assign(Object.assign({},et),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Ca.E}),Os(_=>{const{targetSnapshot:I,id:A,extractedUrl:M,rawUrl:F,extras:{skipLocationChange:Q,replaceUrl:te}}=_;return this.hooks.beforePreactivation(I,{navigationId:A,appliedUrlTree:M,rawUrlTree:F,skipLocationChange:!!Q,replaceUrl:!!te})}),(0,xr.b)(_=>{const I=new kI(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(I)}),(0,gt.U)(_=>Object.assign(Object.assign({},_),{guards:dC(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,ki.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?(0,st.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,pn.D)(n).pipe((0,ki.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,st.of)(!0);const f=l.map(_=>{const I=Rh(_,e,a);let A;if(function(n){return n&&Tc(n.canDeactivate)}(I))A=Da(I.canDeactivate(n,e,t,s));else{if(!Tc(I))throw new Error("Invalid CanDeactivate guard");A=Da(I(n,e,t,s))}return A.pipe(_h())});return(0,st.of)(f).pipe(Bp())}(a.component,a.route,t,e,s)),_h(a=>!0!==a,!0))}(f,s,a,n).pipe((0,ki.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,s){return(0,pn.D)(e).pipe(xp(a=>$u(function(n,e){return null!==n&&e&&e(new BI(n)),(0,st.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new gR(n)),(0,st.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>xA(()=>{const _=f.guards.map(I=>{const A=Rh(I,f.node,t);let M;if(function(n){return n&&Tc(n.canActivateChild)}(A))M=Da(A.canActivateChild(s,n));else{if(!Tc(A))throw new Error("Invalid CanActivateChild guard");M=Da(A(s,n))}return M.pipe(_h())});return(0,st.of)(_).pipe(Bp())}));return(0,st.of)(l).pipe(Bp())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,st.of)(!0);const a=s.map(l=>xA(()=>{const f=Rh(l,e,t);let _;if(function(n){return n&&Tc(n.canActivate)}(f))_=Da(f.canActivate(e,n));else{if(!Tc(f))throw new Error("Invalid CanActivate guard");_=Da(f(e,n))}return _.pipe(_h())}));return(0,st.of)(a).pipe(Bp())}(n,a.route,t))),_h(a=>!0!==a,!0))}(s,l,n,e):(0,st.of)(_)),(0,gt.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,xr.b)(_=>{if(Dc(_.guardsResult)){const A=jI(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw A.url=_.guardsResult,A}const I=new FI(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(I)}),ts(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Os(_=>{if(_.guards.canActivateChecks.length)return(0,st.of)(_).pipe((0,xr.b)(I=>{const A=new LI(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}),wn(I=>{let A=!1;return(0,st.of)(I).pipe(function(n,e){return(0,ki.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,st.of)(t);let l=0;return(0,pn.D)(a).pipe(xp(f=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,st.of)({});const l={};return(0,pn.D)(a).pipe((0,ki.zg)(f=>function(n,e,t,s){const a=Rh(n,e,s);return Da(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,s).pipe((0,xr.b)(_=>{l[f]=_}))),Rp(1),(0,ki.zg)(()=>Object.keys(l).length===a.length?(0,st.of)(l):Ca.E))}(n._resolve,n,e,s).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),WI(n,t).resolve),null)))}(f.route,s,n,e)),(0,xr.b)(()=>l++),Rp(1),(0,ki.zg)(f=>l===a.length?(0,st.of)(t):Ca.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,xr.b)(I=>{const A=new PA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(A)}))}),Os(_=>{const{targetSnapshot:I,id:A,extractedUrl:M,rawUrl:F,extras:{skipLocationChange:Q,replaceUrl:te}}=_;return this.hooks.afterPreactivation(I,{navigationId:A,appliedUrlTree:M,rawUrlTree:F,skipLocationChange:!!Q,replaceUrl:!!te})}),(0,gt.U)(_=>{const I=function(n,e,t){const s=Ah(n,e._root,t?t._root:void 0);return new C0(s,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:I})}),(0,xr.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(s=>(new sS(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,xr.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new MA(n))}(()=>{var _;if(!l&&!f){const I=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,I)):this.cancelNavigationTransition(a,I)}(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===a.id&&(this.currentNavigation=null)}),Jl(_=>{if(f=!0,function(n){return n&&n[FA]}(_)){const I=Dc(_.url);I||(this.navigated=!0,this.restoreHistory(a,!0));const A=new _0(a.id,this.serializeUrl(a.extractedUrl),_.message);s.next(A),I?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),F={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vy(a.source)};this.scheduleNavigation(M,"imperative",null,F,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const I=new NA(a.id,this.serializeUrl(a.extractedUrl),_);s.next(I);try{a.resolve(this.errorHandler(_))}catch(A){a.reject(A)}}return Ca.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:f}=s,_={replaceUrl:!0};if(l){const I=Object.assign({},l);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(_.state=I)}this.scheduleNavigation(f,a,l,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sh(t),this.config=t.map(M0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:_,preserveFragment:I}=s,A=a||this.routerState.root,M=I?this.currentUrlTree.fragment:f;let F=null;switch(_){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=l||null}return null!==F&&(F=this.removeEmptyProps(F)),function(n,e,t,s,a){if(0===t.length)return fy(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new JI(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return hi(l.outlets,(I,A)=>{_[A]="string"==typeof I?I.split("/"):I}),[...a,{outlets:_}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===f?(l.split("/").forEach((_,I)=>{0==I&&"."===_||(0==I&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,l]},[]);return new JI(t,e,s)}(t);if(l.toRoot())return fy(e.root,new Kt([],{}),e,s,a);const f=function(n,e,t){if(n.isAbsolute)return new Up(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Up(l,l===e.root,0)}const s=Fp(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Up(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),_=f.processChildren?fs(f.segmentGroup,f.index,l.commands):tC(f.segmentGroup,f.index,l.commands);return fy(f.segmentGroup,_,e,s,a)}(A,this.currentUrlTree,t,F,null!=M?M:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=Dc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},FR):!1===s?Object.assign({},LR):s,Dc(t))return $A(this.currentUrlTree,t,a);const l=this.parseUrl(t);return $A(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Op(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,f){var _,I;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),M=vy(s)&&A&&!vy(A.source),te=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===t.toString();if(M&&te)return Promise.resolve(!0);let Me,qe,et;f?(Me=f.resolve,qe=f.reject,et=f.promise):et=new Promise((r,i)=>{Me=r,qe=i});const Ht=++this.navigationId;let hn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),hn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):hn=0,this.setTransition({id:Ht,targetPageId:hn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Me,reject:qe,promise:et,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),et.catch(r=>Promise.reject(r))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new _0(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(ay),h.LFG(Mh),h.LFG(Ke),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function vy(n){return"imperative"!==n}let ed=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.route=s,this.commands=[],this.onChanges=new vu.xQ,null==a&&l.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Hp(this.skipLocationChange),replaceUrl:Hp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hp(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps),h.Y36(Pp),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,s){1&t&&h.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})(),td=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new vu.xQ,this.subscription=t.events.subscribe(l=>{l instanceof Op&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,f){if(0!==t||s||a||l||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:Hp(this.skipLocationChange),replaceUrl:Hp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Hp(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps),h.Y36(Pp),h.Y36(G))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function Hp(n){return""===n||!!n}let Nh=(()=>{class n{constructor(t,s,a,l,f,_){this.router=t,this.element=s,this.renderer=a,this.cdr=l,this.link=f,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(I=>{I instanceof Op&&this.update()})}ngAfterContentInit(){(0,st.of)(this.links.changes,this.linksWithHrefs.changes,(0,st.of)(null)).pipe((0,Gs.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const s=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=(0,pn.D)(s).pipe((0,Gs.J)()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(t){const s=Array.isArray(t)?t:t.split(" ");this.classes=s.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(s=>{t?this.renderer.addClass(this.element.nativeElement,s):this.renderer.removeClass(this.element.nativeElement,s)}))})}isLinkActive(t){const s=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>t.isActive(a.urlTree,s)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(ed,8),h.Y36(td,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,s,a){if(1&t&&(h.Suo(a,ed,5),h.Suo(a,td,5)),2&t){let l;h.iGM(l=h.CRH())&&(s.links=l),h.iGM(l=h.CRH())&&(s.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[h.TTD]}),n})(),j0=(()=>{class n{constructor(t,s,a,l,f){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=l||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,I=new jo(t,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mh),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class jo{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Pp?this.route:e===Mh?this.childContexts:this.parent.get(e,t)}}class qS{}class yC{preload(e,t){return(0,st.of)(null)}}let $0=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.injector=l,this.preloadingStrategy=f,this.loader=new BS(s,a,A=>t.triggerEvent(new UI(A)),A=>t.triggerEvent(new VI(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(ts(t=>t instanceof Op),xp(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,pn.D)(a).pipe((0,Gs.J)(),(0,gt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,st.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,ki.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ps),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(qS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ey=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof y0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Op&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new kA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ps),h.LFG(Us),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Cu=new h.OlP("ROUTER_CONFIGURATION"),wy=new h.OlP("ROUTER_FORROOT_GUARD"),by=[Ke,{provide:ay,useClass:HI},{provide:ps,useFactory:function(n,e,t,s,a,l,f,_={},I,A){const M=new ps(null,n,e,t,s,a,l,UA(f));return I&&(M.urlHandlingStrategy=I),A&&(M.routeReuseStrategy=A),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,M),_.enableTracing&&M.events.subscribe(F=>{var Q,te;null===(Q=console.group)||void 0===Q||Q.call(console,`Router Event: ${F.constructor.name}`),console.log(F.toString()),console.log(F),null===(te=console.groupEnd)||void 0===te||te.call(console)}),M},deps:[ay,Mh,Ke,h.zs3,h.v3s,h.Sil,V0,Cu,[class{},new h.FiY],[class{},new h.FiY]]},Mh,{provide:Pp,useFactory:function(n){return n.routerState.root},deps:[ps]},{provide:h.v3s,useClass:h.EAV},$0,yC,class{preload(e,t){return t().pipe(Jl(()=>(0,st.of)(null)))}},{provide:Cu,useValue:{enableTracing:!1}}];function Iy(){return new h.PXZ("Router",ps)}let qp=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[by,q0(t),{provide:wy,useFactory:GS,deps:[[ps,new h.FiY,new h.tp0]]},{provide:Cu,useValue:s||{}},{provide:G,useFactory:zS,deps:[he,[new h.tBr(_e),new h.FiY],Cu]},{provide:Ey,useFactory:_C,deps:[ps,Us,Cu]},{provide:qS,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:yC},{provide:h.PXZ,multi:!0,useFactory:Iy},[Zp,{provide:h.ip1,multi:!0,useFactory:QS,deps:[Zp]},{provide:Ph,useFactory:Gi,deps:[Zp]},{provide:h.tb,multi:!0,useExisting:Ph}]]}}static forChild(t){return{ngModule:n,providers:[q0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wy,8),h.LFG(ps,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function _C(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ey(n,e,t)}function zS(n,e,t={}){return t.useHash?new Se(n,e):new le(n,e)}function GS(n){return"guarded"}function q0(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:V0,multi:!0,useValue:n}]}let Zp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new vu.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(_=>s=_),l=this.injector.get(ps),f=this.injector.get(Cu);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,st.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(Cu),a=this.injector.get($0),l=this.injector.get(Ey),f=this.injector.get(ps),_=this.injector.get(h.z2F);t===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),l.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function QS(n){return n.appInitializer.bind(n)}function Gi(n){return n.bootstrapListener.bind(n)}const Ph=new h.OlP("Router Initializer");let Ty=(()=>{class n{constructor(){this.title="burger-queen"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"logo"],[1,"nameBussines"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"h1",1),h._uU(2," BURGER QUEEN "),h.qZA(),h.qZA(),h._UZ(3,"router-outlet"))},directives:[j0],styles:[".logo[_ngcontent-%COMP%]{background:black;width:100%;height:80px;margin-top:10px;display:flex;align-content:center;justify-content:center}.nameBussines[_ngcontent-%COMP%]{margin:auto;width:50%;color:#fff;font-size:36px;font-weight:bolder;text-align:center;letter-spacing:3px}.contenerdor_usuario[_ngcontent-%COMP%]{margin:5px auto auto;width:100%;height:40px;background-color:var(--primary-claro);border:solid 2px var(--secundary-oscuro);display:flex}nav[_ngcontent-%COMP%]{display:flex;align-content:center;height:40px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-oscuro);width:150px;border-right:2px solid var(--primary-oscuro);font-size:18px;font-weight:bold;font-style:italic;text-decoration:none;display:flex;align-content:center;margin:10px auto auto 10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:underline}.contenedor_menu[_ngcontent-%COMP%]{width:100%;margin:auto}"]}),n})();const Dy_firebaseConfig={apiKey:"AIzaSyA1FmLWavdFp5jswBeagEAsItncVo-Ezy8",authDomain:"burguer-queen-a2c0c.firebaseapp.com",projectId:"burguer-queen-a2c0c",storageBucket:"burguer-queen-a2c0c.appspot.com",messagingSenderId:"134275880401",appId:"1:134275880401:web:b5ca63ac3d33cf4550bcf0"};var Z0=L(1243);class zp{constructor(e,t,s,a){this.id=e,this.producto=t,this.cantidad=s,this.precio=a,this.subtotal=this.getSubtotal()}getSubtotal(){return this.precio*this.cantidad}toObject(){return{producto:this.producto,cantidad:this.cantidad,precio:this.precio}}}let Tu=(()=>{class n{constructor(t){this.db=t,this.items=[],this.contadorPedidos="",this.userValido=!1,this.cargarProductos=()=>{fetch("./assets/db/menu.json").then(s=>s).then(s=>s.json()).then(s=>{this.breakfast=s.breakFast,this.lunch=s.lunch,this.adicionales=s.adicionales})},this.mesas=this.db.collection("mesas").valueChanges(),this.cargarProductos(),this.ordenes=this.db.collection("order").valueChanges(),this.pedidos=this.db.collection("facturas").valueChanges(),this.bd=function(n=(0,ns.getApp)()){return(0,ns._getProvider)(n,"firestore").getImmediate()}(),this.contadorPedidos=this.generateRandomString(),this.auth=(0,Z0.n)()}autenticar(t,s){return console.log(),(0,Z0.a5)(this.auth,t,s).then(a=>{console.log(a.user),this.userValido=!0}).catch(a=>{}),this.userValido}getAdicionales(){return this.adicionales}getBreakFast(){return this.breakfast}getLunch(){return this.lunch}getMesas(){return this.mesas}agregarItem(t,s){let a,l;0==this.items.filter(_=>_.id==t).length?1===s?(a=this.breakfast.find(_=>_.codigo==t),l=new zp(t,a.nombre,1,a.precio),this.items.push(l)):(a=t>12?this.adicionales.find(_=>_.codigo==t):this.lunch.find(_=>_.codigo==t),l=new zp(t,a.nombre,1,a.precio),this.items.push(l)):this.agregarCantidadAItem(t)}agregarCantidadAItem(t){this.items.find(s=>{s.id==t&&s.cantidad++,s.subtotal=s.getSubtotal()})}disminuirCantidadAItem(t){let s=this.items.find(a=>a.id===t);if(s.cantidad>1)s.cantidad--,s.subtotal=s.getSubtotal();else{const a=this.items.indexOf(s);this.items.splice(a,1)}}getItems(){return this.items}actualizarEstadoMesa(t,s){var a=this;return(0,be.Z)(function*(){let l="";"ocupado"==s&&(l=a.contadorPedidos);const f=fu(a.bd,"mesas","00"+t.toString());yield hp(f,{estado:s,orden:l}),a.contadorPedidos=a.generateRandomString()})()}pagarOrden(t){var s=this;let a={};this.ordenes.subscribe(l=>{l.forEach(function(){var f=(0,be.Z)(function*(_){_.numOrder==t&&(a=_,console.log(a),_.estado="pagado",s.actualizarEstadoMesa(_.numMesa,"libre"),yield jb(fu(s.bd,"order",_.numOrder)),Pm(fu(s.bd,"facturas",t),_))});return function(_){return f.apply(this,arguments)}}())})}actualizarEstadoOrden(t,s,a){var l=this;return(0,be.Z)(function*(){const f=fu(l.bd,"order",t);"preparado"==s?(yield hp(f,{estado:s,fechaTerminado:Date.now()}),alert("la orden de la mesa: "+a+" esta lista para entregar")):yield hp(f,{estado:s})})()}generateRandomString(){return Math.floor(100*Math.random())+Math.random().toString(36).substring(2,5)+"-"+Math.floor(10*Math.random())}getContadorPedidos(){return this.contadorPedidos}eliminaritems(){this.items=[]}agregarOrden(t,s,a,l){var f=this;return(0,be.Z)(function*(){const _=Date.now();console.log(typeof _);const I={numOrder:f.contadorPedidos,numMesa:t,cliente:s,items:a.map(A=>A.toObject()),total:l,estado:"ordenado",fecha:_,fechaTerminado:0};Pm(fu(f.bd,"order",f.contadorPedidos),I),f.items=[],f.actualizarEstadoMesa(t,"ocupado")})()}consultarEstadoOrden(t){let s=this.ordenes.pipe((0,xr.b)(console.log),(0,gt.U)(a=>a.filter(l=>"preparado"!=l.estado)),(0,xr.b)(console.log));console.log(s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(TA))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XS(n,e){if(1&n&&(h.TgZ(0,"li"),h.TgZ(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"span"),h._uU(6),h.qZA(),h.TgZ(7,"span"),h._uU(8),h.qZA(),h.qZA()),2&n){const t=e.$implicit,s=h.oxw();h.xp6(2),h.Oqu(t.producto),h.xp6(2),h.Oqu(t.precio),h.xp6(2),h.hij(" ",t.cantidad," "),h.xp6(2),h.Oqu(s.getSubtotal(t.precio,t.cantidad))}}let ex=(()=>{class n{constructor(t){this.service=t,this.orden={},this.onEventEmitter=new h.vpe,this.crearOrden()}ngOnInit(){}crearOrden(){let t=localStorage.getItem("orden");this.service.ordenes.subscribe(a=>{a.forEach(l=>{l.numOrder==t&&(this.orden=l)})})}getSubtotal(t,s){return t*s}cerrar(){this.onEventEmitter.emit(!1)}getTime(){let t=0;t="preparado"!=this.orden.estado?(Date.now()-this.orden.fecha)/1e3:(this.orden.fechaTerminado-this.orden.fecha)/1e3,console.log(t);let s=Math.floor(t/3600);console.log(s);let a=s<10?"0"+s:s,l=Math.floor(t/60%60);return a+":"+(l<10?"0"+l:l)+":"+Math.floor(t%60)}pagar(){console.log("voy a pagar: ",this.orden.numOrder),this.service.pagarOrden(this.orden.numOrder),this.onEventEmitter.emit(!1)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-modal"]],outputs:{onEventEmitter:"onEventEmitter"},decls:57,vars:16,consts:[[1,"background"],[1,"contenedor_modal"],[1,"modal-header"],[1,"contenedor_orden"],[1,"mesa_numOrden"],[1,"mesa"],[1,"numOrden"],[1,"datos_cliente"],["for","cliente"],[1,"items_orden"],[1,"orden"],[1,"detalle_factura"],[4,"ngFor","ngForOf"],[1,"total"],[1,"neto"],[1,"cerrarOrden"],["id","confPed","type","button","routerLink","/mesas",3,"click"],["id","pagarOrden","type","button","routerLink","/mesas",3,"click"],[1,"ordenar"],["src","../../../assets/estadoPedido.svg","alt","pedido",3,"ngClass"],["aria-label","Close","type","button",1,"close"]],template:function(t,s){1&t&&(h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h.TgZ(6,"p"),h._uU(7,"Mesa"),h.qZA(),h.TgZ(8,"p"),h._uU(9),h.ALo(10,"number"),h.qZA(),h.qZA(),h.TgZ(11,"div",6),h.TgZ(12,"p"),h._uU(13,"Pedido"),h.qZA(),h.TgZ(14,"p"),h._uU(15),h.ALo(16,"uppercase"),h.qZA(),h.qZA(),h.TgZ(17,"div",6),h.TgZ(18,"p"),h._uU(19,"Tiempo Preparaci\xf3n:"),h.qZA(),h.TgZ(20,"p"),h._uU(21),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"div",7),h.TgZ(23,"label",8),h._uU(24,"Nombre: "),h.qZA(),h.TgZ(25,"p"),h._uU(26),h.ALo(27,"titlecase"),h.qZA(),h.qZA(),h.TgZ(28,"div",9),h.TgZ(29,"ul",10),h.TgZ(30,"li",11),h.TgZ(31,"span"),h._uU(32,"Producto"),h.qZA(),h.TgZ(33,"span"),h._uU(34,"Precio"),h.qZA(),h.TgZ(35,"span"),h._uU(36,"Cantida"),h.qZA(),h.TgZ(37,"span"),h._uU(38,"SubTotal"),h.qZA(),h.qZA(),h._UZ(39,"li"),h.YNc(40,XS,9,4,"li",12),h.qZA(),h.qZA(),h.TgZ(41,"div",13),h.TgZ(42,"span"),h._uU(43,"Total a pagar"),h.qZA(),h.TgZ(44,"span",14),h._uU(45),h.ALo(46,"number"),h.qZA(),h.qZA(),h.TgZ(47,"div",15),h.TgZ(48,"button",16),h.NdJ("click",function(){return s.cerrar()}),h._uU(49,"Cerrar"),h.qZA(),h.TgZ(50,"button",17),h.NdJ("click",function(){return s.pagar()}),h._uU(51,"Pagar"),h.qZA(),h.qZA(),h.TgZ(52,"div",18),h.TgZ(53,"span"),h._uU(54),h.qZA(),h._UZ(55,"img",19),h.qZA(),h.qZA(),h._UZ(56,"button",20),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Oqu(h.lcZ(10,8,s.orden.numMesa)),h.xp6(6),h.hij("# ",h.lcZ(16,10,s.orden.numOrder),""),h.xp6(6),h.Oqu(s.getTime()),h.xp6(5),h.Oqu(h.lcZ(27,12,s.orden.cliente)),h.xp6(14),h.Q6J("ngForOf",s.orden.items),h.xp6(5),h.Oqu(h.lcZ(46,14,s.orden.total)),h.xp6(9),h.hij("Estado: ",s.orden.estado," "),h.xp6(1),h.Q6J("ngClass",s.orden.estado))},directives:[Yn,ed,uo],pipes:[Or,Na,mi],styles:[".background[_ngcontent-%COMP%]{background-color:#0003;width:100%;height:100vh;display:flex;justify-content:center;align-items:center;position:absolute;z-index:100;left:0;top:0}.contenedor_modal[_ngcontent-%COMP%]{margin:auto;background-color:#0a1013b3;width:60%;height:-moz-fit-content;height:fit-content}.cerrarOrden[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cerrarOrden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;width:150px;height:35px;background-color:var(--primary-oscuro);color:#fff;font-size:18px;font-weight:600;font-style:italic}.ordenado[_ngcontent-%COMP%]{background-color:red}.preparando[_ngcontent-%COMP%]{background-color:#faf61c}.preparado[_ngcontent-%COMP%]{background-color:#76f376}",".contenedor_orden[_ngcontent-%COMP%]{width:98%;display:flex;flex-direction:column}.mesa_numOrden[_ngcontent-%COMP%], .datos_cliente[_ngcontent-%COMP%]{width:100%;margin-top:5px;display:grid;grid-template-columns:1fr 1fr;background-color:var(--primary-claro);border:2px solid var(--secundary-claro)}.mesa[_ngcontent-%COMP%]{grid-column:1/2;display:flex;justify-content:space-evenly;border-right:1px solid var(--primary-oscuro)}.mesa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .numOrden[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-oscuro);text-align:center;font-size:18px;font-weight:bold;display:inline}.numOrden[_ngcontent-%COMP%]{grid-column:2/3;display:flex;justify-content:space-evenly;border-right:2px solid var(--primary-oscuro)}.datos_cliente[_ngcontent-%COMP%]{margin:5px auto auto;grid-template-columns:1fr 2fr;height:30px}.datos_cliente[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:bold;margin-left:5px;margin-top:5px}.datos_cliente[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-transform:capitalize;font-size:16px;font-weight:bold;font-style:italic}.items_orden[_ngcontent-%COMP%]{width:100%;height:350px;margin:5px auto auto;background-color:var(--secundary-claro);display:flex;flex-direction:column;align-content:space-between;border-radius:5px;overflow:scroll}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:space-between;justify-content:flex-start;padding-inline-start:5px;padding-inline-end:5px}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{margin-top:2px;border-bottom:2px solid var(--primary-claro);display:grid;grid-template-columns:2fr 1fr 1fr 1fr;grid-gap:3px;gap:3px;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;align-content:center;background-color:var(--primary-oscuro);color:#fff;font-size:small}.detalle_factura[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{font-weight:bold}.cantidad[_ngcontent-%COMP%]{width:15px;height:20px;text-align:center}.total[_ngcontent-%COMP%]{margin-top:5px;height:30px;align-content:center;background-color:var(--secundary-claro);border-radius:5px}.neto[_ngcontent-%COMP%]{grid-column:4/5}.ordenar[_ngcontent-%COMP%], .confirmarOrden[_ngcontent-%COMP%]{padding:10px 10px 5px 5px;margin-top:10px;display:grid;flex-direction:column;grid-template-columns:1fr 2fr;width:95%;background-color:var(--secundary-claro);border:2px solid var(--primary-oscuro);align-content:center}.ordenar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;grid-column:1/2;color:var(--primary-oscuro);font-size:18px;font-weight:bolder;font-style:italic}.ordenar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-column:2/3;width:150px;height:80px;background-size:contain;border-radius:10px}.confirmarOrden[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.confirmarOrden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;width:150px;height:35px;background-color:var(--primary-oscuro);color:#fff;font-size:18px;font-weight:600;font-style:italic}"]}),n})();function vC(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7),h.TgZ(1,"button",8),h.NdJ("click",function(){h.CHM(t);const a=h.oxw().$implicit;return h.oxw().consultarOrden(a.orden)}),h._uU(2,"Ver Orden"),h.qZA(),h.qZA()}}function tx(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7),h.TgZ(1,"button",9),h.NdJ("click",function(){h.CHM(t);const a=h.oxw().$implicit;return h.oxw().savetable(a.numero)}),h._uU(2,"Ordenar"),h.qZA(),h.qZA()}}function nx(n,e){if(1&n&&(h.TgZ(0,"li",5),h.TgZ(1,"p"),h._uU(2),h.ALo(3,"number"),h.qZA(),h.TgZ(4,"p"),h._uU(5),h.ALo(6,"titlecase"),h.qZA(),h.YNc(7,vC,3,0,"div",6),h.YNc(8,tx,3,0,"div",6),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.lcZ(3,4,t.numero)),h.xp6(3),h.Oqu(h.lcZ(6,6,t.estado)),h.xp6(2),h.Q6J("ngIf","ocupado"==t.estado),h.xp6(1),h.Q6J("ngIf","libre"==t.estado)}}function rx(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-modal",10),h.NdJ("onEventEmitter",function(a){return h.CHM(t),h.oxw().cerrarModal(a)}),h.qZA()}}let Sc=(()=>{class n{constructor(t){this.appService=t,this.verModal=!1,this.mesas=this.appService.getMesas()}ngOnInit(){}savetable(t){localStorage.setItem("numMesa",t.toString())}consultarOrden(t){localStorage.setItem("orden",t),this.verModal=!0}cerrarModal(t){this.verModal=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-mesas"]],decls:10,vars:4,consts:[["routerLink","/mesas","routerLinkActive","active"],["routerLink","/ordenes","routerLinkActive","active"],[1,"contenedor_mesas"],["class","estado",4,"ngFor","ngForOf"],[3,"onEventEmitter",4,"ngIf"],[1,"estado"],["class","buttonOrden",4,"ngIf"],[1,"buttonOrden"],["type","button",1,"verOrder",3,"click"],["routerLink","/menu","routerLinkActive","active",1,"ordenar",3,"click"],[3,"onEventEmitter"]],template:function(t,s){1&t&&(h.TgZ(0,"nav"),h.TgZ(1,"a",0),h._uU(2,"Mesas"),h.qZA(),h.TgZ(3,"a",1),h._uU(4,"Ordenes listas"),h.qZA(),h.qZA(),h.TgZ(5,"div",2),h.TgZ(6,"ul"),h.YNc(7,nx,9,8,"li",3),h.ALo(8,"async"),h.qZA(),h.qZA(),h.YNc(9,rx,1,0,"app-modal",4)),2&t&&(h.xp6(7),h.Q6J("ngForOf",h.lcZ(8,2,s.mesas)),h.xp6(2),h.Q6J("ngIf",1==s.verModal))},directives:[td,Nh,Yn,br,ed,ex],pipes:[Ru,Or,mi],styles:[".contenedor_mesas[_ngcontent-%COMP%]{width:100%;margin:10px auto auto}ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:5px;gap:5px}li[_ngcontent-%COMP%]{width:200px;height:150px;background-color:var(--primary-claro);border:2px solid var(--primary-oscuro);border-radius:5px;list-style:none;margin:auto;display:flex;flex-direction:column;justify-content:center;align-content:center}li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:auto;text-align:center;color:var(--primary-oscuro);font-size:20px;font-weight:bold}.buttonOrden[_ngcontent-%COMP%]{margin:auto}.buttonOrden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;width:120px;height:25px;background-color:var(--primary-oscuro);color:#fff;font-size:18px;font-weight:bold;font-style:italic;border-radius:5px}.ordenar[_ngcontent-%COMP%]{border:3px solid green}.verOrder[_ngcontent-%COMP%]{border:3px solid red}.prueba[_ngcontent-%COMP%]{height:200px;background-color:var(--primary-claro)}nav[_ngcontent-%COMP%]{display:flex;align-content:center;height:40px;background-color:var(--primary-claro)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-oscuro);width:150px;border-right:2px solid var(--primary-oscuro);font-size:18px;font-weight:bold;font-style:italic;text-decoration:none;display:flex;align-content:center;margin:10px auto auto 10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:underline}"]}),n})();function Gp(n,e){if(1&n&&(h.TgZ(0,"li"),h.TgZ(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.producto),h.xp6(2),h.hij(" ",t.cantidad," ")}}function z0(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){h.CHM(t);const a=h.oxw().$implicit;return h.oxw().prepararOrden(a.numOrder)}),h._uU(1,"Preparar"),h.qZA()}}function ix(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){h.CHM(t);const a=h.oxw().$implicit;return h.oxw().entregarOrden(a.numOrder,a.numMesa)}),h._uU(1,"Entregar"),h.qZA()}}function sx(n,e){if(1&n&&(h.TgZ(0,"li"),h.TgZ(1,"div",3),h.TgZ(2,"div",4),h.TgZ(3,"div",5),h.TgZ(4,"p"),h._uU(5,"Mesa"),h.qZA(),h.TgZ(6,"p"),h._uU(7),h.ALo(8,"number"),h.qZA(),h.qZA(),h.TgZ(9,"div",6),h.TgZ(10,"p"),h._uU(11,"Pedido"),h.qZA(),h.TgZ(12,"p"),h._uU(13),h.ALo(14,"uppercase"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(15,"div",7),h.TgZ(16,"ul",8),h.TgZ(17,"li",9),h.TgZ(18,"span"),h._uU(19,"Producto"),h.qZA(),h.TgZ(20,"span"),h._uU(21,"Cantidad"),h.qZA(),h.qZA(),h._UZ(22,"li"),h.YNc(23,Gp,5,2,"li",2),h.qZA(),h.qZA(),h.TgZ(24,"div",10),h.TgZ(25,"span"),h._uU(26,"Estado: "),h.qZA(),h.TgZ(27,"span"),h._uU(28),h.qZA(),h.YNc(29,z0,2,0,"button",11),h.YNc(30,ix,2,0,"button",11),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(7),h.Oqu(h.lcZ(8,6,t.numMesa)),h.xp6(6),h.hij("# ",h.lcZ(14,8,t.numOrder),""),h.xp6(10),h.Q6J("ngForOf",t.items),h.xp6(5),h.Oqu(t.estado),h.xp6(1),h.Q6J("ngIf","ordenado"==t.estado),h.xp6(1),h.Q6J("ngIf","preparando"==t.estado)}}let ox=(()=>{class n{constructor(t){this.service=t,this.ordenes=this.service.ordenes.pipe((0,xr.b)(console.log),(0,gt.U)(s=>s.filter(a=>"preparado"!=a.estado).sort((a,l)=>a.fecha-l.fecha)),(0,xr.b)(console.log))}ngOnInit(){}prepararOrden(t){console.log(t),this.service.actualizarEstadoOrden(t,"preparando")}entregarOrden(t,s){console.log(t),this.service.actualizarEstadoOrden(t,"preparado",s)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-cocina"]],decls:4,vars:3,consts:[[1,"contenedor_ordenes"],[1,"lista_ordenes"],[4,"ngFor","ngForOf"],[1,"contenedor_orden"],[1,"mesa_numOrden"],[1,"mesa"],[1,"numOrden"],[1,"items_orden"],[1,"orden"],[1,"detalle_factura"],[1,"ordenar"],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"ul",1),h.YNc(2,sx,31,10,"li",2),h.ALo(3,"async"),h.qZA(),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngForOf",h.lcZ(3,1,s.ordenes)))},directives:[Yn,br],pipes:[Ru,Or,Na],styles:[".contenedor_orden[_ngcontent-%COMP%]{width:98%;display:flex;flex-direction:column}.mesa_numOrden[_ngcontent-%COMP%], .datos_cliente[_ngcontent-%COMP%]{width:100%;margin-top:5px;display:grid;grid-template-columns:1fr 1fr;background-color:var(--primary-claro);border:2px solid var(--secundary-claro)}.mesa[_ngcontent-%COMP%]{grid-column:1/2;display:flex;justify-content:space-evenly;border-right:1px solid var(--primary-oscuro)}.mesa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .numOrden[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-oscuro);text-align:center;font-size:18px;font-weight:bold;display:inline}.numOrden[_ngcontent-%COMP%]{grid-column:2/3;display:flex;justify-content:space-evenly;border-right:2px solid var(--primary-oscuro)}.datos_cliente[_ngcontent-%COMP%]{margin:5px auto auto;grid-template-columns:1fr 2fr;height:30px}.datos_cliente[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:bold;margin-left:5px;margin-top:5px}.datos_cliente[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-transform:capitalize;font-size:16px;font-weight:bold;font-style:italic}.items_orden[_ngcontent-%COMP%]{width:100%;height:350px;margin:5px auto auto;background-color:var(--secundary-claro);display:flex;flex-direction:column;align-content:space-between;border-radius:5px;overflow:scroll}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:space-between;justify-content:flex-start;padding-inline-start:5px;padding-inline-end:5px}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{margin-top:2px;border-bottom:2px solid var(--primary-claro);display:grid;grid-template-columns:2fr 1fr 1fr 1fr;grid-gap:3px;gap:3px;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;align-content:center;background-color:var(--primary-oscuro);color:#fff;font-size:small}.detalle_factura[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{font-weight:bold}.cantidad[_ngcontent-%COMP%]{width:15px;height:20px;text-align:center}.total[_ngcontent-%COMP%]{margin-top:5px;height:30px;align-content:center;background-color:var(--secundary-claro);border-radius:5px}.neto[_ngcontent-%COMP%]{grid-column:4/5}.ordenar[_ngcontent-%COMP%], .confirmarOrden[_ngcontent-%COMP%]{padding:10px 10px 5px 5px;margin-top:10px;display:grid;flex-direction:column;grid-template-columns:1fr 2fr;width:95%;background-color:var(--secundary-claro);border:2px solid var(--primary-oscuro);align-content:center}.ordenar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;grid-column:1/2;color:var(--primary-oscuro);font-size:18px;font-weight:bolder;font-style:italic}.ordenar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-column:2/3;width:150px;height:80px;background-size:contain;border-radius:10px}.confirmarOrden[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.confirmarOrden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;width:150px;height:35px;background-color:var(--primary-oscuro);color:#fff;font-size:18px;font-weight:600;font-style:italic}",".lista_ordenes[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;gap:20px;list-style:none}.items_orden[_ngcontent-%COMP%]{height:auto}.contenedor_orden[_ngcontent-%COMP%]{margin-top:5px;height:350px;border:2px solid var(--primary-oscuro);border-radius:5px;padding:5px;overflow:scroll}.ordenar[_ngcontent-%COMP%]{margin:auto}"]}),n})();function G0(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li"),h.TgZ(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA(),h.TgZ(5,"span"),h.TgZ(6,"button",18),h.NdJ("click",function(){const l=h.CHM(t).$implicit;return h.oxw().modificarCantidad("restar",l.id)}),h._uU(7,"-"),h.qZA(),h.TgZ(8,"span"),h._uU(9),h.qZA(),h.TgZ(10,"button",19),h.NdJ("click",function(){const l=h.CHM(t).$implicit;return h.oxw().modificarCantidad("sumar",l.id)}),h._uU(11,"+"),h.qZA(),h.qZA(),h.TgZ(12,"span"),h._uU(13),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.producto),h.xp6(2),h.Oqu(t.precio),h.xp6(5),h.hij(" ",t.cantidad," "),h.xp6(4),h.Oqu(t.subtotal)}}function ax(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"span"),h.TgZ(1,"button",20),h.NdJ("click",function(){return h.CHM(t),h.oxw().confirmarPedido()}),h._uU(2,"Confirmar"),h.qZA(),h.qZA()}}let EC=(()=>{class n{constructor(t,s){this.service=t,this.router=s,this.mesa=0,this.numOrden="",this.nombre="",this.total=0,this.estado="pendiente",this.items=t.getItems(),this.mesa=Number(localStorage.getItem("numMesa")),this.numOrden=t.getContadorPedidos(),this.calcularTotal()}ngOnInit(){}calcularTotal(){return this.total=this.items.reduce((t,s)=>t+s.getSubtotal(),0),this.total}confirmarPedido(){""==this.nombre||0==this.items.length?alert("Debe ingresar un nombre y agregar un producto"):(this.service.agregarOrden(this.mesa,this.nombre,this.items,this.calcularTotal()),this.nombre="")}cancelarPedido(){this.service.eliminaritems(),console.log("cancelar")}actualizarNombre(t){this.nombre=t.target.value}modificarCantidad(t,s){"sumar"==t?this.service.agregarCantidadAItem(s):this.service.disminuirCantidadAItem(s)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu),h.Y36(ps))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-orden"]],decls:45,vars:11,consts:[[1,"contenedor_orden"],[1,"mesa_numOrden"],[1,"mesa"],[1,"numOrden"],[1,"datos_cliente"],["for","cliente"],["type","text","placeholder","cliente","name","nombre",3,"keyup"],[1,"items_orden"],[1,"orden"],[1,"detalle_factura"],[4,"ngFor","ngForOf"],[1,"total"],[1,"neto"],[1,"confirmarOrden"],[4,"ngIf"],["type","button","routerLink","/mesas","routerLinkActive","active",3,"click"],[1,"ordenar"],["src","../../../assets/estadoPedido.svg","alt","pedido"],[1,"cantidad",3,"click"],["value","+",1,"cantidad",3,"click"],["id","confPed","type","button","routerLink","/mesas",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"p"),h._uU(4,"Mesa"),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.ALo(7,"number"),h.qZA(),h.qZA(),h.TgZ(8,"div",3),h.TgZ(9,"p"),h._uU(10,"Pedido"),h.qZA(),h.TgZ(11,"p"),h._uU(12),h.ALo(13,"uppercase"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",4),h.TgZ(15,"label",5),h._uU(16,"Nombre: "),h.qZA(),h.TgZ(17,"input",6),h.NdJ("keyup",function(l){return s.actualizarNombre(l)}),h.qZA(),h.qZA(),h.TgZ(18,"div",7),h.TgZ(19,"ul",8),h.TgZ(20,"li",9),h.TgZ(21,"span"),h._uU(22,"Producto"),h.qZA(),h.TgZ(23,"span"),h._uU(24,"Precio"),h.qZA(),h.TgZ(25,"span"),h._uU(26,"Cantida"),h.qZA(),h.TgZ(27,"span"),h._uU(28,"SubTotal"),h.qZA(),h.qZA(),h._UZ(29,"li"),h.YNc(30,G0,14,4,"li",10),h.qZA(),h.qZA(),h.TgZ(31,"div",11),h.TgZ(32,"span"),h._uU(33,"Total a pagar"),h.qZA(),h.TgZ(34,"span",12),h._uU(35),h.ALo(36,"number"),h.qZA(),h.qZA(),h.TgZ(37,"div",13),h.YNc(38,ax,3,0,"span",14),h.TgZ(39,"button",15),h.NdJ("click",function(){return s.cancelarPedido()}),h._uU(40,"Cancelar"),h.qZA(),h.qZA(),h.TgZ(41,"div",16),h.TgZ(42,"span"),h._uU(43,"Estado: "),h.qZA(),h._UZ(44,"img",17),h.qZA(),h.qZA()),2&t&&(h.xp6(6),h.Oqu(h.lcZ(7,5,s.mesa)),h.xp6(6),h.hij("# ",h.lcZ(13,7,s.numOrden),""),h.xp6(18),h.Q6J("ngForOf",s.items),h.xp6(5),h.Oqu(h.lcZ(36,9,s.calcularTotal())),h.xp6(3),h.Q6J("ngIf",s.items.length&&s.nombre.length))},directives:[Yn,br,ed,Nh],pipes:[Or,Na],styles:[".contenedor_orden[_ngcontent-%COMP%]{width:98%;display:flex;flex-direction:column}.mesa_numOrden[_ngcontent-%COMP%], .datos_cliente[_ngcontent-%COMP%]{width:100%;margin-top:5px;display:grid;grid-template-columns:1fr 1fr;background-color:var(--primary-claro);border:2px solid var(--secundary-claro)}.mesa[_ngcontent-%COMP%]{grid-column:1/2;display:flex;justify-content:space-evenly;border-right:1px solid var(--primary-oscuro)}.mesa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .numOrden[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-oscuro);text-align:center;font-size:18px;font-weight:bold;display:inline}.numOrden[_ngcontent-%COMP%]{grid-column:2/3;display:flex;justify-content:space-evenly;border-right:2px solid var(--primary-oscuro)}.datos_cliente[_ngcontent-%COMP%]{margin:5px auto auto;grid-template-columns:1fr 2fr;height:30px}.datos_cliente[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:bold;margin-left:5px;margin-top:5px}.datos_cliente[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-transform:capitalize;font-size:16px;font-weight:bold;font-style:italic}.items_orden[_ngcontent-%COMP%]{width:100%;height:350px;margin:5px auto auto;background-color:var(--secundary-claro);display:flex;flex-direction:column;align-content:space-between;border-radius:5px;overflow:scroll}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:space-between;justify-content:flex-start;padding-inline-start:5px;padding-inline-end:5px}.items_orden[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{margin-top:2px;border-bottom:2px solid var(--primary-claro);display:grid;grid-template-columns:2fr 1fr 1fr 1fr;grid-gap:3px;gap:3px;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto;align-content:center}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;align-content:center;background-color:var(--primary-oscuro);color:#fff;font-size:small}.detalle_factura[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{font-weight:bold}.cantidad[_ngcontent-%COMP%]{width:15px;height:20px;text-align:center}.total[_ngcontent-%COMP%]{margin-top:5px;height:30px;align-content:center;background-color:var(--secundary-claro);border-radius:5px}.neto[_ngcontent-%COMP%]{grid-column:4/5}.ordenar[_ngcontent-%COMP%], .confirmarOrden[_ngcontent-%COMP%]{padding:10px 10px 5px 5px;margin-top:10px;display:grid;flex-direction:column;grid-template-columns:1fr 2fr;width:95%;background-color:var(--secundary-claro);border:2px solid var(--primary-oscuro);align-content:center}.ordenar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;grid-column:1/2;color:var(--primary-oscuro);font-size:18px;font-weight:bolder;font-style:italic}.ordenar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{grid-column:2/3;width:150px;height:80px;background-size:contain;border-radius:10px}.confirmarOrden[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.confirmarOrden[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;width:150px;height:35px;background-color:var(--primary-oscuro);color:#fff;font-size:18px;font-weight:600;font-style:italic}"]}),n})();function wC(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li"),h.TgZ(1,"p"),h._uU(2),h.ALo(3,"uppercase"),h.qZA(),h._UZ(4,"img",2),h.TgZ(5,"p",3),h._uU(6),h.qZA(),h.TgZ(7,"p",4),h._uU(8),h.ALo(9,"number"),h.qZA(),h.TgZ(10,"button",5),h.NdJ("click",function(a){return h.CHM(t),h.oxw().agregarProducto(a)}),h._uU(11,"Agregar"),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.lcZ(3,5,t.nombre)),h.xp6(2),h.Q6J("src",t.imagen,h.LSH),h.xp6(2),h.Oqu(t.descripcion),h.xp6(2),h.hij("$",h.lcZ(9,7,t.precio),""),h.xp6(2),h.s9C("id",t.codigo)}}let bC=(()=>{class n{constructor(t){this.service=t,this.id=0,this.onEventEmitter=new h.vpe,this.prodBreakfast=this.service.getBreakFast()}ngOnInit(){}agregarProducto(t){this.id=t.target.id,this.onEventEmitter.emit(this.id)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-breakfast"]],outputs:{onEventEmitter:"onEventEmitter"},decls:3,vars:1,consts:[[1,"menu_product"],[4,"ngFor","ngForOf"],["alt","producto",3,"src"],[1,"description"],[1,"precio"],[1,"addProducto",3,"id","click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"ul"),h.YNc(2,wC,12,9,"li",1),h.qZA(),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngForOf",s.prodBreakfast))},directives:[Yn],pipes:[Na,Or],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;gap:20px;list-style:none;margin-right:5px;padding-inline-start:5px}li[_ngcontent-%COMP%]{padding-top:10px;margin:5px auto auto;width:260px;height:260px;border:2px solid var(--primary-oscuro);border-radius:5px;background:var(--secundary-claro);display:flex;flex-direction:column;justify-content:center;align-content:center}li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;text-align:center;font-size:16px;font-weight:bolder}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:5px auto;background-size:cover;width:150px;height:100px;border:solid 3px var(--secundary-oscuro)}li[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{margin-bottom:2px}li[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:12px;font-weight:500}li[_ngcontent-%COMP%]   .addProducto[_ngcontent-%COMP%]{font-size:16px;border:1px solid var(--primary-oscuro);background:var(--primary-claro);color:var(--secundary-oscuro);font-style:oblique;width:150px;border-radius:5px;margin:auto auto 5px}"]}),n})();function ux(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",3),h.TgZ(1,"p"),h._uU(2),h.ALo(3,"uppercase"),h.qZA(),h._UZ(4,"img",4),h.TgZ(5,"p",5),h._uU(6),h.ALo(7,"titlecase"),h.qZA(),h.TgZ(8,"p",6),h._uU(9),h.ALo(10,"number"),h.qZA(),h.TgZ(11,"button",7),h.NdJ("click",function(a){return h.CHM(t),h.oxw().agregarProducto(a)}),h._uU(12,"Agregar"),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.lcZ(3,5,t.nombre)),h.xp6(2),h.Q6J("src",t.imagen,h.LSH),h.xp6(2),h.Oqu(h.lcZ(7,7,t.descripcion)),h.xp6(3),h.hij("$",h.lcZ(10,9,t.precio),""),h.xp6(2),h.s9C("id",t.codigo)}}function cx(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",3),h.TgZ(1,"p"),h._uU(2),h.ALo(3,"uppercase"),h.qZA(),h._UZ(4,"img",4),h.TgZ(5,"p",5),h._uU(6),h.ALo(7,"titlecase"),h.qZA(),h.TgZ(8,"p",6),h._uU(9),h.ALo(10,"number"),h.qZA(),h.TgZ(11,"button",7),h.NdJ("click",function(a){return h.CHM(t),h.oxw(2).agregarProducto(a)}),h._uU(12,"Agregar"),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.lcZ(3,5,t.nombre)),h.xp6(2),h.Q6J("src",t.imagen,h.LSH),h.xp6(2),h.Oqu(h.lcZ(7,7,t.descripcion)),h.xp6(3),h.hij("$",h.lcZ(10,9,t.precio),""),h.xp6(2),h.s9C("id",t.codigo)}}function Du(n,e){if(1&n&&(h.TgZ(0,"ul"),h.YNc(1,cx,13,11,"li",1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.menuAdicionales)}}let kh=(()=>{class n{constructor(t){this.service=t,this.menuLunch=[],this.menuAdicionales=[],this.id=0,this.agregados=!1,this.onEventEmitter=new h.vpe,this.menuLunch=this.service.getLunch(),this.menuAdicionales=this.service.getAdicionales()}ngOnInit(){}agregarProducto(t){this.id=t.target.id,this.onEventEmitter.emit(this.id)}mostrarAdicionales(){let t=!1;return this.service.getItems().forEach(s=>{s.id>=7&&s.id<=9&&(t=!0)}),t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-lunch"]],outputs:{onEventEmitter:"onEventEmitter"},decls:4,vars:2,consts:[[1,"menu_product"],["class","text",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text"],["alt","producto",3,"src"],[1,"description"],[1,"precio"],[1,"addProducto",3,"id","click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"ul"),h.YNc(2,ux,13,11,"li",1),h.qZA(),h.YNc(3,Du,2,1,"ul",2),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngForOf",s.menuLunch),h.xp6(1),h.Q6J("ngIf",s.mostrarAdicionales()))},directives:[Yn,br],pipes:[Na,mi,Or],styles:["ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;gap:20px;list-style:none;margin-right:5px;padding-inline-start:5px}li[_ngcontent-%COMP%]{padding-top:10px;margin:5px auto auto;width:260px;height:260px;border:double var(--primary-oscuro);border-radius:5px;background:var(--secundary-claro);display:flex;flex-direction:column;justify-content:center;align-content:center}li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;text-align:center;font-size:16px;font-weight:bolder}li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:5px auto;background-size:cover;width:150px;height:100px;border:solid 3px var(--secundary-oscuro)}li[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{margin-bottom:2px}li[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:12px;font-weight:500}li[_ngcontent-%COMP%]   .addProducto[_ngcontent-%COMP%]{font-size:16px;border:1px solid var(--primary-oscuro);background:var(--primary-claro);color:var(--secundary-oscuro);font-style:oblique;width:150px;border-radius:5px;margin:auto auto 5px}"]}),n})();function Fh(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-breakfast",8),h.NdJ("onEventEmitter",function(a){return h.CHM(t),h.oxw().itemAgregar(a)}),h.qZA()}}function Ay(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-lunch",8),h.NdJ("onEventEmitter",function(a){return h.CHM(t),h.oxw().itemAgregar2(a)}),h.qZA()}}let Lh=(()=>{class n{constructor(t){this.service=t,this.numMesa=0,this.codProduct=0,this.showBreakfast=!0}showmenu(t){switch(t){case"b":this.showBreakfast=!0;break;case"l":this.showBreakfast=!1}}itemAgregar(t){this.codProduct=t,this.service.agregarItem(this.codProduct,1)}itemAgregar2(t){this.codProduct=t,this.service.agregarItem(this.codProduct,2)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-menu"]],inputs:{numMesa:"numMesa"},decls:17,vars:2,consts:[[1,"main_container"],[1,"contenedor_principal"],["routerLink","mesas","routerLinkActive","active"],[1,"opcion_menu"],[3,"click"],[1,"contenedor_menu"],[3,"onEventEmitter",4,"ngIf"],[1,"orden"],[3,"onEventEmitter"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"nav"),h.TgZ(3,"a",2),h._uU(4,"Mesas"),h.qZA(),h.qZA(),h.TgZ(5,"div",3),h.TgZ(6,"nav"),h.TgZ(7,"a",4),h.NdJ("click",function(){return s.showmenu("b")}),h._uU(8,"Breakfast"),h.qZA(),h.TgZ(9,"a",4),h.NdJ("click",function(){return s.showmenu("l")}),h._uU(10,"Lunch"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",5),h.YNc(12,Fh,1,0,"app-breakfast",6),h.YNc(13,Ay,1,0,"app-lunch",6),h.qZA(),h.qZA(),h.TgZ(14,"div",7),h._UZ(15,"app-orden"),h.qZA(),h.qZA(),h._uU(16," --\x3e ")),2&t&&(h.xp6(12),h.Q6J("ngIf",s.showBreakfast),h.xp6(1),h.Q6J("ngIf",!s.showBreakfast))},directives:[td,Nh,br,EC,bC,kh],styles:[".main_container[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 2fr;height:100ch;grid-gap:5px;gap:5px}.contenedor_principal[_ngcontent-%COMP%]{width:100%;height:100ch;grid-column:1/2;margin:5px auto auto;display:flex;flex-direction:column;align-content:center}.opcion_menu[_ngcontent-%COMP%]{width:100%;height:40px;background-color:var(--primary-claro);display:flex;justify-content:flex-start;align-content:center;border:2px solid var(--primary-oscuro)}.opcion_menu[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-content:center}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-oscuro);width:150px;border-right:2px solid var(--primary-oscuro);font-size:18px;font-weight:bold;font-style:italic;text-decoration:none;display:flex;align-content:center;margin:10px auto auto 10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:underline}.contenedor_menu[_ngcontent-%COMP%]{margin-top:10px;height:100vh;background-color:var(--primary-claro);border:2px solid var(--primary-oscuro);overflow:scroll}.orden[_ngcontent-%COMP%]{grid-column:2/3;background-color:var(--primary-oscuro);margin-top:5px;padding-left:5px}"]}),n})();function lx(n,e){if(1&n&&(h.TgZ(0,"li"),h.TgZ(1,"p"),h._uU(2),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.numOrder)}}let dx=(()=>{class n{constructor(t){this.service=t,this.ordenesListas=this.service.ordenes.pipe((0,xr.b)(console.log),(0,gt.U)(s=>s.filter(a=>"preparado"==a.estado)),(0,xr.b)(console.log))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-ordenes"]],decls:8,vars:3,consts:[["routerLink","/mesas","routerLinkActive","active"],["routerLink","/ordenes","routerLinkActive","active"],[4,"ngFor","ngForOf"]],template:function(t,s){1&t&&(h.TgZ(0,"nav"),h.TgZ(1,"a",0),h._uU(2,"Mesas"),h.qZA(),h.TgZ(3,"a",1),h._uU(4,"Ordenes listas"),h.qZA(),h.qZA(),h.TgZ(5,"ul"),h.YNc(6,lx,3,1,"li",2),h.ALo(7,"async"),h.qZA()),2&t&&(h.xp6(6),h.Q6J("ngForOf",h.lcZ(7,1,s.ordenesListas)))},directives:[td,Nh,Yn],pipes:[Ru],styles:["nav[_ngcontent-%COMP%]{display:flex;align-content:center;height:40px;background-color:var(--primary-claro)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-oscuro);width:150px;border-right:2px solid var(--primary-oscuro);font-size:18px;font-weight:bold;font-style:italic;text-decoration:none;display:flex;align-content:center;margin:10px auto auto 10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:underline}"]}),n})();function hx(n,e){1&n&&(h.TgZ(0,"div"),h._UZ(1,"span",9),h.qZA())}const IC=[{path:"usuarios",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-usuarios"]],decls:6,vars:0,consts:[[1,"contenedor_usuarios"],["routerLink","/mesas","routerLinkActive","active"],["routerLink","/cocina","routerLinkActive","active"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"nav"),h.TgZ(2,"a",1),h._uU(3,"Mesero"),h.qZA(),h.TgZ(4,"a",2),h._uU(5,"Cocina"),h.qZA(),h.qZA(),h.qZA())},directives:[td,Nh],styles:[".contenedor_usuarios[_ngcontent-%COMP%]{margin-top:200px;display:flex;justify-content:center;align-content:center}nav[_ngcontent-%COMP%]{display:flex;align-content:center;height:40px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-oscuro);width:150px;border-right:2px solid var(--primary-oscuro);font-size:18px;font-weight:bold;font-style:italic;text-decoration:none;display:flex;align-content:center;margin:10px auto auto 10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{font-size:20px;text-decoration:underline}"]}),n})()},{path:"mesas",component:Sc},{path:"menu",component:Lh},{path:"cocina",component:ox},{path:"ordenes",component:dx},{path:"",component:(()=>{class n{constructor(t){this.service=t,this.correo="",this.password=""}ngOnInit(){}actualizarCorreo(t){this.correo=t.target.value,console.log(this.correo)}actualizarPassword(t){this.password=t.target.value,console.log(this.password)}autenticar(){this.user=this.service.autenticar(this.correo,this.password),this.user&&(window.location.pathname="/usuarios")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"contenedor_login"],[1,"bienvenida"],[1,"logo"],["src","../../assets/burgerMixtas.png","alt",""],[1,"login"],["id","logInEmail","type","email","placeholder","Correo electr\xf3nico","required","",1,"loginButtons",3,"keyup"],["id","logInPassword","type","password","placeholder","Contrase\xf1a","required","",1,"loginButtons",3,"keyup"],["id","logInBtn","type","button",1,"loginButtons","init",3,"click"],[4,"ngIf"],["routerLink","/mesas"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h1"),h._uU(3,"BIENVENIDO"),h.qZA(),h.qZA(),h.TgZ(4,"div",2),h._UZ(5,"img",3),h.qZA(),h.TgZ(6,"div",4),h.TgZ(7,"p"),h._uU(8,"Ingresa con t\xfa correo y contrase\xf1a"),h.qZA(),h.TgZ(9,"input",5),h.NdJ("keyup",function(l){return s.actualizarCorreo(l)}),h.qZA(),h.TgZ(10,"input",6),h.NdJ("keyup",function(l){return s.actualizarPassword(l)}),h.qZA(),h.TgZ(11,"button",7),h.NdJ("click",function(){return s.autenticar()}),h._uU(12,"Iniciar sesi\xf3n"),h.qZA(),h.qZA(),h.qZA(),h.YNc(13,hx,2,0,"div",8)),2&t&&(h.xp6(13),h.Q6J("ngIf",s.user))},directives:[br,ed],styles:[".contenedor_login[_ngcontent-%COMP%]{display:grid;height:650px;grid-template-columns:1fr 1fr;grid-gap:20px;gap:20px;background-color:var(--primary-claro);background-position:center;margin:auto;align-items:center;border:10px solid rgb(0,0,0,.3)}.bienvenida[_ngcontent-%COMP%]{grid-column:1/3;margin:auto;padding:0}.logo[_ngcontent-%COMP%]{grid-column:1/2;width:70%;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:auto;background-size:cover}.login[_ngcontent-%COMP%]{grid-column:2/3;display:flex;flex-direction:column;z-index:100;justify-content:center;align-items:center}.loginButtons[_ngcontent-%COMP%]{margin:20px auto auto;width:80%;height:35px;padding:5px;background-color:var(--secundary-oscuro);border:2px solid white;border-radius:5px;font-size:18px;color:#fff}"]}),n})()}];let CC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Ls,qp.forRoot(IC)],qp]}),n})();const W0=[{path:"menu",children:[{path:"breakfast",component:bC},{path:"lunch",component:kh},{path:"**",redirectTo:"/mesas"}]}];let gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[qp.forChild(W0)],qp]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[$a,Ls,gx]]}),n})(),TC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Ty]}),n.\u0275inj=h.cJS({providers:[],imports:[[$a,Ls,h.hGG,jr.hO.initializeApp(Dy_firebaseConfig),Sp.enablePersistence(),CC,mx]]}),n})();(0,h.G48)(),Zc().bootstrapModule(TC).catch(n=>console.error(n))},4762:(rt,xe,L)=>{"use strict";function ue(ie,ve){var de={};for(var we in ie)Object.prototype.hasOwnProperty.call(ie,we)&&ve.indexOf(we)<0&&(de[we]=ie[we]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(we=Object.getOwnPropertySymbols(ie);Ue<we.length;Ue++)ve.indexOf(we[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ie,we[Ue])&&(de[we[Ue]]=ie[we[Ue]])}return de}function he(ie,ve,de,we){return new(de||(de=Promise))(function(pe,it){function Qt(kt){try{Et(we.next(kt))}catch(Un){it(Un)}}function Rn(kt){try{Et(we.throw(kt))}catch(Un){it(Un)}}function Et(kt){kt.done?pe(kt.value):function(pe){return pe instanceof de?pe:new de(function(it){it(pe)})}(kt.value).then(Qt,Rn)}Et((we=we.apply(ie,ve||[])).next())})}function Y(ie,ve){var we,Ue,pe,it,de={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return it={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(it[Symbol.iterator]=function(){return this}),it;function Qt(Et){return function(kt){return function(Et){if(we)throw new TypeError("Generator is already executing.");for(;de;)try{if(we=1,Ue&&(pe=2&Et[0]?Ue.return:Et[0]?Ue.throw||((pe=Ue.return)&&pe.call(Ue),0):Ue.next)&&!(pe=pe.call(Ue,Et[1])).done)return pe;switch(Ue=0,pe&&(Et=[2&Et[0],pe.value]),Et[0]){case 0:case 1:pe=Et;break;case 4:return de.label++,{value:Et[1],done:!1};case 5:de.label++,Ue=Et[1],Et=[0];continue;case 7:Et=de.ops.pop(),de.trys.pop();continue;default:if(!(pe=(pe=de.trys).length>0&&pe[pe.length-1])&&(6===Et[0]||2===Et[0])){de=0;continue}if(3===Et[0]&&(!pe||Et[1]>pe[0]&&Et[1]<pe[3])){de.label=Et[1];break}if(6===Et[0]&&de.label<pe[1]){de.label=pe[1],pe=Et;break}if(pe&&de.label<pe[2]){de.label=pe[2],de.ops.push(Et);break}pe[2]&&de.ops.pop(),de.trys.pop();continue}Et=ve.call(ie,de)}catch(kt){Et=[6,kt],Ue=0}finally{we=pe=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,kt])}}}function X(ie){var ve="function"==typeof Symbol&&Symbol.iterator,de=ve&&ie[ve],we=0;if(de)return de.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&we>=ie.length&&(ie=void 0),{value:ie&&ie[we++],done:!ie}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ie,ve){var de="function"==typeof Symbol&&ie[Symbol.iterator];if(!de)return ie;var Ue,it,we=de.call(ie),pe=[];try{for(;(void 0===ve||ve-- >0)&&!(Ue=we.next()).done;)pe.push(Ue.value)}catch(Qt){it={error:Qt}}finally{try{Ue&&!Ue.done&&(de=we.return)&&de.call(we)}finally{if(it)throw it.error}}return pe}function fe(ie,ve,de){if(de||2===arguments.length)for(var pe,we=0,Ue=ve.length;we<Ue;we++)(pe||!(we in ve))&&(pe||(pe=Array.prototype.slice.call(ve,0,we)),pe[we]=ve[we]);return ie.concat(pe||Array.prototype.slice.call(ve))}L.d(xe,{_T:()=>ue,mG:()=>he,Jh:()=>Y,XA:()=>X,CR:()=>K,ev:()=>fe})},8239:(rt,xe,L)=>{"use strict";function h(O,ue,se,ae,Te,he,Y){try{var k=O[he](Y),U=k.value}catch(X){return void se(X)}k.done?ue(U):Promise.resolve(U).then(ae,Te)}function B(O){return function(){var ue=this,se=arguments;return new Promise(function(ae,Te){var he=O.apply(ue,se);function Y(U){h(he,ae,Te,Y,k,"next",U)}function k(U){h(he,ae,Te,Y,k,"throw",U)}Y(void 0)})}}L.d(xe,{Z:()=>B})}},rt=>{rt(rt.s=6199)}]);